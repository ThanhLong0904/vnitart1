const __vite__fileDeps=["assets/sectionEditor-CL6RwWnm.js","assets/popupEditor-2b_cs7GJ.js","assets/featureEditor-Bhw4BqCU.js","assets/componentEditor-DsaXaAs6.js","assets/exportCustomData-_hdkA1a1.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Os=Object.defineProperty;var ts=a=>{throw TypeError(a)};var Rs=(a,i,e)=>i in a?Os(a,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[i]=e;var y=(a,i,e)=>Rs(a,typeof i!="symbol"?i+"":i,e),is=(a,i,e)=>i.has(a)||ts("Cannot "+e);var Si=(a,i,e)=>(is(a,i,"read from private field"),e?e.call(a):i.get(a)),Bi=(a,i,e)=>i.has(a)?ts("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(a):i.set(a,e),Fi=(a,i,e,t)=>(is(a,i,"write to private field"),t?t.call(a,e):i.set(a,e),e);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();class Component{constructor(){y(this,"Id",null);y(this,"FieldName",null);y(this,"Order",0);y(this,"ComponentType",null);y(this,"ComponentGroupId",null);y(this,"FormatData",null);y(this,"PlainText",null);y(this,"Column",0);y(this,"Offset",0);y(this,"Row",0);y(this,"CanSearch",!1);y(this,"CanCache",!1);y(this,"Precision",0);y(this,"GroupBy",null);y(this,"GroupFormat",null);y(this,"Label",null);y(this,"ShowLabel",!1);y(this,"Icon",null);y(this,"ClassName",null);y(this,"Style",null);y(this,"ChildStyle",null);y(this,"HotKey",null);y(this,"RefClass",null);y(this,"Events",null);y(this,"Disabled",!1);y(this,"Visibility",!1);y(this,"Validation",null);y(this,"Focus",!1);y(this,"Width",null);y(this,"PopulateField",null);y(this,"GroupEvent",null);y(this,"XsCol",0);y(this,"SmCol",0);y(this,"LgCol",0);y(this,"XlCol",0);y(this,"XxlCol",0);y(this,"DefaultVal",null);y(this,"DateTimeField",null);y(this,"Active",!1);y(this,"InsertedDate",new Date);y(this,"InsertedBy",null);y(this,"UpdatedDate",new Date);y(this,"UpdatedBy",null);y(this,"CanAdd",!1);y(this,"IsPrivate",!1);y(this,"MonthCount",0);y(this,"Query",null);y(this,"IsRealtime",!1);y(this,"RefName",null);y(this,"TopEmpty",!1);y(this,"IsCollapsible",!1);y(this,"Template",null);y(this,"PreQuery",null);y(this,"DisabledExp",null);y(this,"FocusSearch",!1);y(this,"IsSumary",!1);y(this,"FormatSumaryField",null);y(this,"OrderBySumary",null);y(this,"ShowHotKey",!1);y(this,"DefaultAddStart",0);y(this,"DefaultAddEnd",0);y(this,"UpperCase",!1);y(this,"VirtualScroll",!1);y(this,"Migration",null);y(this,"ListClass",null);y(this,"ExcelFieldName",null);y(this,"LiteGrid",!1);y(this,"ShowDatetimeField",!1);y(this,"ShowNull",!1);y(this,"AddDate",!1);y(this,"FilterEq",!1);y(this,"HeaderHeight",0);y(this,"BodyItemHeight",0);y(this,"FooterHeight",0);y(this,"ScrollHeight",0);y(this,"ScriptValidation",null);y(this,"FilterLocal",!1);y(this,"HideGrid",!1);y(this,"GroupReferenceId",null);y(this,"GroupReferenceName",null);y(this,"GroupName",null);y(this,"ShortDesc",null);y(this,"Description",null);y(this,"FeatureId",null);y(this,"ComponentId",null);y(this,"TextAlign",null);y(this,"HasFilter",!1);y(this,"Frozen",!1);y(this,"FilterTemplate",null);y(this,"Editable",!1);y(this,"FormatExcell",null);y(this,"DatabaseName",null);y(this,"Summary",null);y(this,"SummaryColSpan",0);y(this,"BasicSearch",!1);y(this,"ShowExp",null);y(this,"MinWidth",null);y(this,"MaxWidth",null);y(this,"TenantCode",null);y(this,"OrderBy",null);y(this,"ParentId",null);y(this,"Lang",null);y(this,"Name",null);y(this,"IsTab",!1);y(this,"TabGroup",null);y(this,"IsVertialTab",!1);y(this,"Responsive",!1);y(this,"OuterColumn",0);y(this,"XsOuterColumn",0);y(this,"SmOuterColumn",0);y(this,"LgOuterColumn",0);y(this,"XlOuterColumn",0);y(this,"XxlOuterColumn",0);y(this,"BadgeMonth",0);y(this,"IsDropDown",!1);y(this,"Html",null);y(this,"Css",null);y(this,"Javascript",null);y(this,"ParentElement",null);y(this,"Columns",[]);y(this,"LocalQuery")}}class Feature{constructor(){y(this,"Id","");y(this,"Name","");y(this,"Label","");y(this,"ParentId","");y(this,"Order",0);y(this,"ClassName","");y(this,"Style","");y(this,"StyleSheet","");y(this,"Script","");y(this,"Events","");y(this,"Icon","");y(this,"IsDivider",!1);y(this,"IsGroup",!1);y(this,"IsMenu",!1);y(this,"IsPublic",!1);y(this,"StartUp",!1);y(this,"ViewClass","");y(this,"EntityId","");y(this,"Description","");y(this,"Active",!1);y(this,"InsertedDate",new Date);y(this,"InsertedBy","");y(this,"UpdatedDate",new Date);y(this,"UpdatedBy","");y(this,"IsSystem",!1);y(this,"IgnoreEncode",!1);y(this,"InheritParentFeature",!1);y(this,"DeleteTemp",!1);y(this,"CustomNextCell",!1);y(this,"LoadEntity",!1);y(this,"IsLock",!1);y(this,"Html","");y(this,"Components",[]);y(this,"Layout")}}const PositionEnum={absolute:"absolute",fixed:"fixed",inherit:"inherit",initial:"initial",relative:"relative",static:"static",sticky:"sticky",unset:"unset"},KeyCodeEnum={Backspace:8,Tab:9,Enter:13,Shift:16,Ctrl:17,Alt:18,PauseBreak:19,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,LeftArrow:37,UpArrow:38,RightArrow:39,DownArrow:40,Insert:45,Delete:46,Zero:48,One:49,Two:50,Three:51,Four:52,Five:53,Six:54,Seven:55,Eight:56,Nine:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LeftWindowKey:91,RightWindowKey:92,SelectKey:93,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,Multiply:106,Add:107,Subtract:109,DecimalPoint:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NumLock:144,ScrollLock:145,SemiColon:186,EqualSign:187,Comma:188,Dash:189,Period:190,ForwardSlash:191,GraveAccent:192,OpenBracket:219,BackSlash:220,CloseBraket:221,SingleQuote:222},OperatorEnum={In:1,NotIn:2,Gt:3,Ge:4,Lt:5,Le:6,Lr:7,Rl:8},ActiveStateEnum={All:2,Yes:1,No:0},AdvSearchOperation={Equal:1,NotEqual:2,GreaterThan:3,GreaterThanOrEqual:4,LessThan:5,LessThanOrEqual:6,Contains:7,NotContains:8,StartWith:9,NotStartWith:10,EndWidth:11,NotEndWidth:12,In:13,NotIn:14,EqualDatime:15,GreaterThanDatime:21,LessThanDatime:22,NotEqualDatime:16,EqualNull:17,NotEqualNull:18,Like:19,NotLike:20,GreaterEqualDatime:23,LessEqualDatime:24},OperationToSql={[AdvSearchOperation.Equal]:"{0} = N'{1}'",[AdvSearchOperation.NotEqual]:"{0} != N'{1}'",[AdvSearchOperation.GreaterThan]:"{0} > N'{1}'",[AdvSearchOperation.GreaterThanOrEqual]:"{0} >= N'{1}'",[AdvSearchOperation.LessThan]:"{0} < N'{1}'",[AdvSearchOperation.LessThanOrEqual]:"{0} <= N'{1}'",[AdvSearchOperation.Contains]:"charindex(N'{1}', {0}) >= 1",[AdvSearchOperation.NotContains]:"contains({0}, N'{1}') eq false",[AdvSearchOperation.StartWith]:"charindex(N'{1}', {0}) = 1",[AdvSearchOperation.NotStartWith]:"charindex(N'{1}', {0}) > 1",[AdvSearchOperation.EndWidth]:"{0} like N'%{1}')",[AdvSearchOperation.NotEndWidth]:"{0} not like N'%{1}'",[AdvSearchOperation.In]:"{0} in ({1})",[AdvSearchOperation.Like]:"{0} like N'%{1}%'",[AdvSearchOperation.NotLike]:"{0} not like N'{1}'",[AdvSearchOperation.NotIn]:"{0} not in ({1})",[AdvSearchOperation.EqualDatime]:"cast(date, {0}) = N'{1}'",[AdvSearchOperation.NotEqualDatime]:"cast(date, {0}) != N'{1}'",[AdvSearchOperation.EqualNull]:"{0} is null",[AdvSearchOperation.NotEqualNull]:"{0} is not null",[AdvSearchOperation.GreaterThanDatime]:"cast(date, {0}) > N'{1}'",[AdvSearchOperation.GreaterEqualDatime]:"cast(date, {0}) >= N'{1}'",[AdvSearchOperation.LessThanDatime]:"cast(date, {0}) < N'{1}'",[AdvSearchOperation.LessEqualDatime]:"cast(date, {0}) <= N'{1}'"},LogicOperation={And:0,Or:1},OrderbyDirection={ASC:1,DESC:2},HttpMethod={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE"};/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={toStringTag:tag};P.absoluteValue=P.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),finalise(a)};P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(a,i){var e,t=this,s=t.constructor;if(a=new s(a),i=new s(i),!a.s||!i.s)return new s(NaN);if(a.gt(i))throw Error(invalidArgument+i);return e=t.cmp(a),e<0?a:t.cmp(i)>0?i:new s(t)};P.comparedTo=P.cmp=function(a){var i,e,t,s,n=this,r=n.d,l=(a=new n.constructor(a)).d,u=n.s,p=a.s;if(!r||!l)return!u||!p?NaN:u!==p?u:r===l?0:!r^u<0?1:-1;if(!r[0]||!l[0])return r[0]?u:l[0]?-p:0;if(u!==p)return u;if(n.e!==a.e)return n.e>a.e^u<0?1:-1;for(t=r.length,s=l.length,i=0,e=t<s?t:s;i<e;++i)if(r[i]!==l[i])return r[i]>l[i]^u<0?1:-1;return t===s?0:t>s^u<0?1:-1};P.cosine=P.cos=function(){var a,i,e=this,t=e.constructor;return e.d?e.d[0]?(a=t.precision,i=t.rounding,t.precision=a+Math.max(e.e,e.sd())+LOG_BASE,t.rounding=1,e=cosine(t,toLessThanHalfPi(t,e)),t.precision=a,t.rounding=i,finalise(quadrant==2||quadrant==3?e.neg():e,a,i,!0)):new t(1):new t(NaN)};P.cubeRoot=P.cbrt=function(){var a,i,e,t,s,n,r,l,u,p,g=this,S=g.constructor;if(!g.isFinite()||g.isZero())return new S(g);for(external=!1,n=g.s*mathpow(g.s*g,1/3),!n||Math.abs(n)==1/0?(e=digitsToString(g.d),a=g.e,(n=(a-e.length+1)%3)&&(e+=n==1||n==-2?"0":"00"),n=mathpow(e,1/3),a=mathfloor((a+1)/3)-(a%3==(a<0?-1:2)),n==1/0?e="5e"+a:(e=n.toExponential(),e=e.slice(0,e.indexOf("e")+1)+a),t=new S(e),t.s=g.s):t=new S(n.toString()),r=(a=S.precision)+3;;)if(l=t,u=l.times(l).times(l),p=u.plus(g),t=divide(p.plus(g).times(l),p.plus(u),r+2,1),digitsToString(l.d).slice(0,r)===(e=digitsToString(t.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!s&&e=="4999"){if(!s&&(finalise(l,a+1,0),l.times(l).times(l).eq(g))){t=l;break}r+=4,s=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(finalise(t,a+1,1),i=!t.times(t).times(t).eq(g));break}return external=!0,finalise(t,a,S.rounding,i)};P.decimalPlaces=P.dp=function(){var a,i=this.d,e=NaN;if(i){if(a=i.length-1,e=(a-mathfloor(this.e/LOG_BASE))*LOG_BASE,a=i[a],a)for(;a%10==0;a/=10)e--;e<0&&(e=0)}return e};P.dividedBy=P.div=function(a){return divide(this,new this.constructor(a))};P.dividedToIntegerBy=P.divToInt=function(a){var i=this,e=i.constructor;return finalise(divide(i,new e(a),0,1,1),e.precision,e.rounding)};P.equals=P.eq=function(a){return this.cmp(a)===0};P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(a){return this.cmp(a)>0};P.greaterThanOrEqualTo=P.gte=function(a){var i=this.cmp(a);return i==1||i===0};P.hyperbolicCosine=P.cosh=function(){var a,i,e,t,s,n=this,r=n.constructor,l=new r(1);if(!n.isFinite())return new r(n.s?1/0:NaN);if(n.isZero())return l;e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+4,r.rounding=1,s=n.d.length,s<32?(a=Math.ceil(s/3),i=(1/tinyPow(4,a)).toString()):(a=16,i="2.3283064365386962890625e-10"),n=taylorSeries(r,1,n.times(i),new r(1),!0);for(var u,p=a,g=new r(8);p--;)u=n.times(n),n=l.minus(u.times(g.minus(u.times(g))));return finalise(n,r.precision=e,r.rounding=t,!0)};P.hyperbolicSine=P.sinh=function(){var a,i,e,t,s=this,n=s.constructor;if(!s.isFinite()||s.isZero())return new n(s);if(i=n.precision,e=n.rounding,n.precision=i+Math.max(s.e,s.sd())+4,n.rounding=1,t=s.d.length,t<3)s=taylorSeries(n,2,s,s,!0);else{a=1.4*Math.sqrt(t),a=a>16?16:a|0,s=s.times(1/tinyPow(5,a)),s=taylorSeries(n,2,s,s,!0);for(var r,l=new n(5),u=new n(16),p=new n(20);a--;)r=s.times(s),s=s.times(l.plus(r.times(u.times(r).plus(p))))}return n.precision=i,n.rounding=e,finalise(s,i,e,!0)};P.hyperbolicTangent=P.tanh=function(){var a,i,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(a=t.precision,i=t.rounding,t.precision=a+7,t.rounding=1,divide(e.sinh(),e.cosh(),t.precision=a,t.rounding=i)):new t(e.s)};P.inverseCosine=P.acos=function(){var a,i=this,e=i.constructor,t=i.abs().cmp(1),s=e.precision,n=e.rounding;return t!==-1?t===0?i.isNeg()?getPi(e,s,n):new e(0):new e(NaN):i.isZero()?getPi(e,s+4,n).times(.5):(e.precision=s+6,e.rounding=1,i=i.asin(),a=getPi(e,s+4,n).times(.5),e.precision=s,e.rounding=n,a.minus(i))};P.inverseHyperbolicCosine=P.acosh=function(){var a,i,e=this,t=e.constructor;return e.lte(1)?new t(e.eq(1)?0:NaN):e.isFinite()?(a=t.precision,i=t.rounding,t.precision=a+Math.max(Math.abs(e.e),e.sd())+4,t.rounding=1,external=!1,e=e.times(e).minus(1).sqrt().plus(e),external=!0,t.precision=a,t.rounding=i,e.ln()):new t(e)};P.inverseHyperbolicSine=P.asinh=function(){var a,i,e=this,t=e.constructor;return!e.isFinite()||e.isZero()?new t(e):(a=t.precision,i=t.rounding,t.precision=a+2*Math.max(Math.abs(e.e),e.sd())+6,t.rounding=1,external=!1,e=e.times(e).plus(1).sqrt().plus(e),external=!0,t.precision=a,t.rounding=i,e.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var a,i,e,t,s=this,n=s.constructor;return s.isFinite()?s.e>=0?new n(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(a=n.precision,i=n.rounding,t=s.sd(),Math.max(t,a)<2*-s.e-1?finalise(new n(s),a,i,!0):(n.precision=e=t-s.e,s=divide(s.plus(1),new n(1).minus(s),e+a,1),n.precision=a+4,n.rounding=1,s=s.ln(),n.precision=a,n.rounding=i,s.times(.5))):new n(NaN)};P.inverseSine=P.asin=function(){var a,i,e,t,s=this,n=s.constructor;return s.isZero()?new n(s):(i=s.abs().cmp(1),e=n.precision,t=n.rounding,i!==-1?i===0?(a=getPi(n,e+4,t).times(.5),a.s=s.s,a):new n(NaN):(n.precision=e+6,n.rounding=1,s=s.div(new n(1).minus(s.times(s)).sqrt().plus(1)).atan(),n.precision=e,n.rounding=t,s.times(2)))};P.inverseTangent=P.atan=function(){var a,i,e,t,s,n,r,l,u,p=this,g=p.constructor,S=g.precision,I=g.rounding;if(p.isFinite()){if(p.isZero())return new g(p);if(p.abs().eq(1)&&S+4<=PI_PRECISION)return r=getPi(g,S+4,I).times(.25),r.s=p.s,r}else{if(!p.s)return new g(NaN);if(S+4<=PI_PRECISION)return r=getPi(g,S+4,I).times(.5),r.s=p.s,r}for(g.precision=l=S+10,g.rounding=1,e=Math.min(28,l/LOG_BASE+2|0),a=e;a;--a)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(external=!1,i=Math.ceil(l/LOG_BASE),t=1,u=p.times(p),r=new g(p),s=p;a!==-1;)if(s=s.times(u),n=r.minus(s.div(t+=2)),s=s.times(u),r=n.plus(s.div(t+=2)),r.d[i]!==void 0)for(a=i;r.d[a]===n.d[a]&&a--;);return e&&(r=r.times(2<<e-1)),external=!0,finalise(r,g.precision=S,g.rounding=I,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(a){return this.cmp(a)<0};P.lessThanOrEqualTo=P.lte=function(a){return this.cmp(a)<1};P.logarithm=P.log=function(a){var i,e,t,s,n,r,l,u,p=this,g=p.constructor,S=g.precision,I=g.rounding,F=5;if(a==null)a=new g(10),i=!0;else{if(a=new g(a),e=a.d,a.s<0||!e||!e[0]||a.eq(1))return new g(NaN);i=a.eq(10)}if(e=p.d,p.s<0||!e||!e[0]||p.eq(1))return new g(e&&!e[0]?-1/0:p.s!=1?NaN:e?0:1/0);if(i)if(e.length>1)n=!0;else{for(s=e[0];s%10===0;)s/=10;n=s!==1}if(external=!1,l=S+F,r=naturalLogarithm(p,l),t=i?getLn10(g,l+10):naturalLogarithm(a,l),u=divide(r,t,l,1),checkRoundingDigits(u.d,s=S,I))do if(l+=10,r=naturalLogarithm(p,l),t=i?getLn10(g,l+10):naturalLogarithm(a,l),u=divide(r,t,l,1),!n){+digitsToString(u.d).slice(s+1,s+15)+1==1e14&&(u=finalise(u,S+1,0));break}while(checkRoundingDigits(u.d,s+=10,I));return external=!0,finalise(u,S,I)};P.minus=P.sub=function(a){var i,e,t,s,n,r,l,u,p,g,S,I,F=this,O=F.constructor;if(a=new O(a),!F.d||!a.d)return!F.s||!a.s?a=new O(NaN):F.d?a.s=-a.s:a=new O(a.d||F.s!==a.s?F:NaN),a;if(F.s!=a.s)return a.s=-a.s,F.plus(a);if(p=F.d,I=a.d,l=O.precision,u=O.rounding,!p[0]||!I[0]){if(I[0])a.s=-a.s;else if(p[0])a=new O(F);else return new O(u===3?-0:0);return external?finalise(a,l,u):a}if(e=mathfloor(a.e/LOG_BASE),g=mathfloor(F.e/LOG_BASE),p=p.slice(),n=g-e,n){for(S=n<0,S?(i=p,n=-n,r=I.length):(i=I,e=g,r=p.length),t=Math.max(Math.ceil(l/LOG_BASE),r)+2,n>t&&(n=t,i.length=1),i.reverse(),t=n;t--;)i.push(0);i.reverse()}else{for(t=p.length,r=I.length,S=t<r,S&&(r=t),t=0;t<r;t++)if(p[t]!=I[t]){S=p[t]<I[t];break}n=0}for(S&&(i=p,p=I,I=i,a.s=-a.s),r=p.length,t=I.length-r;t>0;--t)p[r++]=0;for(t=I.length;t>n;){if(p[--t]<I[t]){for(s=t;s&&p[--s]===0;)p[s]=BASE-1;--p[s],p[t]+=BASE}p[t]-=I[t]}for(;p[--r]===0;)p.pop();for(;p[0]===0;p.shift())--e;return p[0]?(a.d=p,a.e=getBase10Exponent(p,e),external?finalise(a,l,u):a):new O(u===3?-0:0)};P.modulo=P.mod=function(a){var i,e=this,t=e.constructor;return a=new t(a),!e.d||!a.s||a.d&&!a.d[0]?new t(NaN):!a.d||e.d&&!e.d[0]?finalise(new t(e),t.precision,t.rounding):(external=!1,t.modulo==9?(i=divide(e,a.abs(),0,3,1),i.s*=a.s):i=divide(e,a,0,t.modulo,1),i=i.times(a),external=!0,e.minus(i))};P.naturalExponential=P.exp=function(){return naturalExponential(this)};P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)};P.negated=P.neg=function(){var a=new this.constructor(this);return a.s=-a.s,finalise(a)};P.plus=P.add=function(a){var i,e,t,s,n,r,l,u,p,g,S=this,I=S.constructor;if(a=new I(a),!S.d||!a.d)return!S.s||!a.s?a=new I(NaN):S.d||(a=new I(a.d||S.s===a.s?S:NaN)),a;if(S.s!=a.s)return a.s=-a.s,S.minus(a);if(p=S.d,g=a.d,l=I.precision,u=I.rounding,!p[0]||!g[0])return g[0]||(a=new I(S)),external?finalise(a,l,u):a;if(n=mathfloor(S.e/LOG_BASE),t=mathfloor(a.e/LOG_BASE),p=p.slice(),s=n-t,s){for(s<0?(e=p,s=-s,r=g.length):(e=g,t=n,r=p.length),n=Math.ceil(l/LOG_BASE),r=n>r?n+1:r+1,s>r&&(s=r,e.length=1),e.reverse();s--;)e.push(0);e.reverse()}for(r=p.length,s=g.length,r-s<0&&(s=r,e=g,g=p,p=e),i=0;s;)i=(p[--s]=p[s]+g[s]+i)/BASE|0,p[s]%=BASE;for(i&&(p.unshift(i),++t),r=p.length;p[--r]==0;)p.pop();return a.d=p,a.e=getBase10Exponent(p,t),external?finalise(a,l,u):a};P.precision=P.sd=function(a){var i,e=this;if(a!==void 0&&a!==!!a&&a!==1&&a!==0)throw Error(invalidArgument+a);return e.d?(i=getPrecision(e.d),a&&e.e+1>i&&(i=e.e+1)):i=NaN,i};P.round=function(){var a=this,i=a.constructor;return finalise(new i(a),a.e+1,i.rounding)};P.sine=P.sin=function(){var a,i,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(a=t.precision,i=t.rounding,t.precision=a+Math.max(e.e,e.sd())+LOG_BASE,t.rounding=1,e=sine(t,toLessThanHalfPi(t,e)),t.precision=a,t.rounding=i,finalise(quadrant>2?e.neg():e,a,i,!0)):new t(NaN)};P.squareRoot=P.sqrt=function(){var a,i,e,t,s,n,r=this,l=r.d,u=r.e,p=r.s,g=r.constructor;if(p!==1||!l||!l[0])return new g(!p||p<0&&(!l||l[0])?NaN:l?r:1/0);for(external=!1,p=Math.sqrt(+r),p==0||p==1/0?(i=digitsToString(l),(i.length+u)%2==0&&(i+="0"),p=Math.sqrt(i),u=mathfloor((u+1)/2)-(u<0||u%2),p==1/0?i="5e"+u:(i=p.toExponential(),i=i.slice(0,i.indexOf("e")+1)+u),t=new g(i)):t=new g(p.toString()),e=(u=g.precision)+3;;)if(n=t,t=n.plus(divide(r,n,e+2,1)).times(.5),digitsToString(n.d).slice(0,e)===(i=digitsToString(t.d)).slice(0,e))if(i=i.slice(e-3,e+1),i=="9999"||!s&&i=="4999"){if(!s&&(finalise(n,u+1,0),n.times(n).eq(r))){t=n;break}e+=4,s=1}else{(!+i||!+i.slice(1)&&i.charAt(0)=="5")&&(finalise(t,u+1,1),a=!t.times(t).eq(r));break}return external=!0,finalise(t,u,g.rounding,a)};P.tangent=P.tan=function(){var a,i,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(a=t.precision,i=t.rounding,t.precision=a+10,t.rounding=1,e=e.sin(),e.s=1,e=divide(e,new t(1).minus(e.times(e)).sqrt(),a+10,0),t.precision=a,t.rounding=i,finalise(quadrant==2||quadrant==4?e.neg():e,a,i,!0)):new t(NaN)};P.times=P.mul=function(a){var i,e,t,s,n,r,l,u,p,g=this,S=g.constructor,I=g.d,F=(a=new S(a)).d;if(a.s*=g.s,!I||!I[0]||!F||!F[0])return new S(!a.s||I&&!I[0]&&!F||F&&!F[0]&&!I?NaN:!I||!F?a.s/0:a.s*0);for(e=mathfloor(g.e/LOG_BASE)+mathfloor(a.e/LOG_BASE),u=I.length,p=F.length,u<p&&(n=I,I=F,F=n,r=u,u=p,p=r),n=[],r=u+p,t=r;t--;)n.push(0);for(t=p;--t>=0;){for(i=0,s=u+t;s>t;)l=n[s]+F[t]*I[s-t-1]+i,n[s--]=l%BASE|0,i=l/BASE|0;n[s]=(n[s]+i)%BASE|0}for(;!n[--r];)n.pop();return i?++e:n.shift(),a.d=n,a.e=getBase10Exponent(n,e),external?finalise(a,S.precision,S.rounding):a};P.toBinary=function(a,i){return toStringBinary(this,2,a,i)};P.toDecimalPlaces=P.toDP=function(a,i){var e=this,t=e.constructor;return e=new t(e),a===void 0?e:(checkInt32(a,0,MAX_DIGITS),i===void 0?i=t.rounding:checkInt32(i,0,8),finalise(e,a+e.e+1,i))};P.toExponential=function(a,i){var e,t=this,s=t.constructor;return a===void 0?e=finiteToString(t,!0):(checkInt32(a,0,MAX_DIGITS),i===void 0?i=s.rounding:checkInt32(i,0,8),t=finalise(new s(t),a+1,i),e=finiteToString(t,!0,a+1)),t.isNeg()&&!t.isZero()?"-"+e:e};P.toFixed=function(a,i){var e,t,s=this,n=s.constructor;return a===void 0?e=finiteToString(s):(checkInt32(a,0,MAX_DIGITS),i===void 0?i=n.rounding:checkInt32(i,0,8),t=finalise(new n(s),a+s.e+1,i),e=finiteToString(t,!1,a+t.e+1)),s.isNeg()&&!s.isZero()?"-"+e:e};P.toFraction=function(a){var i,e,t,s,n,r,l,u,p,g,S,I,F=this,O=F.d,X=F.constructor;if(!O)return new X(F);if(p=e=new X(1),t=u=new X(0),i=new X(t),n=i.e=getPrecision(O)-F.e-1,r=n%LOG_BASE,i.d[0]=mathpow(10,r<0?LOG_BASE+r:r),a==null)a=n>0?i:p;else{if(l=new X(a),!l.isInt()||l.lt(p))throw Error(invalidArgument+l);a=l.gt(i)?n>0?i:p:l}for(external=!1,l=new X(digitsToString(O)),g=X.precision,X.precision=n=O.length*LOG_BASE*2;S=divide(l,i,0,1,1),s=e.plus(S.times(t)),s.cmp(a)!=1;)e=t,t=s,s=p,p=u.plus(S.times(s)),u=s,s=i,i=l.minus(S.times(s)),l=s;return s=divide(a.minus(e),t,0,1,1),u=u.plus(s.times(p)),e=e.plus(s.times(t)),u.s=p.s=F.s,I=divide(p,t,n,1).minus(F).abs().cmp(divide(u,e,n,1).minus(F).abs())<1?[p,t]:[u,e],X.precision=g,external=!0,I};P.toHexadecimal=P.toHex=function(a,i){return toStringBinary(this,16,a,i)};P.toNearest=function(a,i){var e=this,t=e.constructor;if(e=new t(e),a==null){if(!e.d)return e;a=new t(1),i=t.rounding}else{if(a=new t(a),i===void 0?i=t.rounding:checkInt32(i,0,8),!e.d)return a.s?e:a;if(!a.d)return a.s&&(a.s=e.s),a}return a.d[0]?(external=!1,e=divide(e,a,0,i,1).times(a),external=!0,finalise(e)):(a.s=e.s,e=a),e};P.toNumber=function(){return+this};P.toOctal=function(a,i){return toStringBinary(this,8,a,i)};P.toPower=P.pow=function(a){var i,e,t,s,n,r,l=this,u=l.constructor,p=+(a=new u(a));if(!l.d||!a.d||!l.d[0]||!a.d[0])return new u(mathpow(+l,p));if(l=new u(l),l.eq(1))return l;if(t=u.precision,n=u.rounding,a.eq(1))return finalise(l,t,n);if(i=mathfloor(a.e/LOG_BASE),i>=a.d.length-1&&(e=p<0?-p:p)<=MAX_SAFE_INTEGER)return s=intPow(u,l,e,t),a.s<0?new u(1).div(s):finalise(s,t,n);if(r=l.s,r<0){if(i<a.d.length-1)return new u(NaN);if(a.d[i]&1||(r=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=r,l}return e=mathpow(+l,p),i=e==0||!isFinite(e)?mathfloor(p*(Math.log("0."+digitsToString(l.d))/Math.LN10+l.e+1)):new u(e+"").e,i>u.maxE+1||i<u.minE-1?new u(i>0?r/0:0):(external=!1,u.rounding=l.s=1,e=Math.min(12,(i+"").length),s=naturalExponential(a.times(naturalLogarithm(l,t+e)),t),s.d&&(s=finalise(s,t+5,1),checkRoundingDigits(s.d,t,n)&&(i=t+10,s=finalise(naturalExponential(a.times(naturalLogarithm(l,i+e)),i),i+5,1),+digitsToString(s.d).slice(t+1,t+15)+1==1e14&&(s=finalise(s,t+1,0)))),s.s=r,external=!0,u.rounding=n,finalise(s,t,n))};P.toPrecision=function(a,i){var e,t=this,s=t.constructor;return a===void 0?e=finiteToString(t,t.e<=s.toExpNeg||t.e>=s.toExpPos):(checkInt32(a,1,MAX_DIGITS),i===void 0?i=s.rounding:checkInt32(i,0,8),t=finalise(new s(t),a,i),e=finiteToString(t,a<=t.e||t.e<=s.toExpNeg,a)),t.isNeg()&&!t.isZero()?"-"+e:e};P.toSignificantDigits=P.toSD=function(a,i){var e=this,t=e.constructor;return a===void 0?(a=t.precision,i=t.rounding):(checkInt32(a,1,MAX_DIGITS),i===void 0?i=t.rounding:checkInt32(i,0,8)),finalise(new t(e),a,i)};P.toString=function(){var a=this,i=a.constructor,e=finiteToString(a,a.e<=i.toExpNeg||a.e>=i.toExpPos);return a.isNeg()&&!a.isZero()?"-"+e:e};P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var a=this,i=a.constructor,e=finiteToString(a,a.e<=i.toExpNeg||a.e>=i.toExpPos);return a.isNeg()?"-"+e:e};function digitsToString(a){var i,e,t,s=a.length-1,n="",r=a[0];if(s>0){for(n+=r,i=1;i<s;i++)t=a[i]+"",e=LOG_BASE-t.length,e&&(n+=getZeroString(e)),n+=t;r=a[i],t=r+"",e=LOG_BASE-t.length,e&&(n+=getZeroString(e))}else if(r===0)return"0";for(;r%10===0;)r/=10;return n+r}function checkInt32(a,i,e){if(a!==~~a||a<i||a>e)throw Error(invalidArgument+a)}function checkRoundingDigits(a,i,e,t){var s,n,r,l;for(n=a[0];n>=10;n/=10)--i;return--i<0?(i+=LOG_BASE,s=0):(s=Math.ceil((i+1)/LOG_BASE),i%=LOG_BASE),n=mathpow(10,LOG_BASE-i),l=a[s]%n|0,t==null?i<3?(i==0?l=l/100|0:i==1&&(l=l/10|0),r=e<4&&l==99999||e>3&&l==49999||l==5e4||l==0):r=(e<4&&l+1==n||e>3&&l+1==n/2)&&(a[s+1]/n/100|0)==mathpow(10,i-2)-1||(l==n/2||l==0)&&(a[s+1]/n/100|0)==0:i<4?(i==0?l=l/1e3|0:i==1?l=l/100|0:i==2&&(l=l/10|0),r=(t||e<4)&&l==9999||!t&&e>3&&l==4999):r=((t||e<4)&&l+1==n||!t&&e>3&&l+1==n/2)&&(a[s+1]/n/1e3|0)==mathpow(10,i-3)-1,r}function convertBase(a,i,e){for(var t,s=[0],n,r=0,l=a.length;r<l;){for(n=s.length;n--;)s[n]*=i;for(s[0]+=NUMERALS.indexOf(a.charAt(r++)),t=0;t<s.length;t++)s[t]>e-1&&(s[t+1]===void 0&&(s[t+1]=0),s[t+1]+=s[t]/e|0,s[t]%=e)}return s.reverse()}function cosine(a,i){var e,t,s;if(i.isZero())return i;t=i.d.length,t<32?(e=Math.ceil(t/3),s=(1/tinyPow(4,e)).toString()):(e=16,s="2.3283064365386962890625e-10"),a.precision+=e,i=taylorSeries(a,1,i.times(s),new a(1));for(var n=e;n--;){var r=i.times(i);i=r.times(r).minus(r).times(8).plus(1)}return a.precision-=e,i}var divide=function(){function a(t,s,n){var r,l=0,u=t.length;for(t=t.slice();u--;)r=t[u]*s+l,t[u]=r%n|0,l=r/n|0;return l&&t.unshift(l),t}function i(t,s,n,r){var l,u;if(n!=r)u=n>r?1:-1;else for(l=u=0;l<n;l++)if(t[l]!=s[l]){u=t[l]>s[l]?1:-1;break}return u}function e(t,s,n,r){for(var l=0;n--;)t[n]-=l,l=t[n]<s[n]?1:0,t[n]=l*r+t[n]-s[n];for(;!t[0]&&t.length>1;)t.shift()}return function(t,s,n,r,l,u){var p,g,S,I,F,O,X,V,be,Oe,he,$e,b,de,it,ze,fe,We,Ne,Le,Je=t.constructor,Pe=t.s==s.s?1:-1,ge=t.d,ce=s.d;if(!ge||!ge[0]||!ce||!ce[0])return new Je(!t.s||!s.s||(ge?ce&&ge[0]==ce[0]:!ce)?NaN:ge&&ge[0]==0||!ce?Pe*0:Pe/0);for(u?(F=1,g=t.e-s.e):(u=BASE,F=LOG_BASE,g=mathfloor(t.e/F)-mathfloor(s.e/F)),Ne=ce.length,fe=ge.length,be=new Je(Pe),Oe=be.d=[],S=0;ce[S]==(ge[S]||0);S++);if(ce[S]>(ge[S]||0)&&g--,n==null?(de=n=Je.precision,r=Je.rounding):l?de=n+(t.e-s.e)+1:de=n,de<0)Oe.push(1),O=!0;else{if(de=de/F+2|0,S=0,Ne==1){for(I=0,ce=ce[0],de++;(S<fe||I)&&de--;S++)it=I*u+(ge[S]||0),Oe[S]=it/ce|0,I=it%ce|0;O=I||S<fe}else{for(I=u/(ce[0]+1)|0,I>1&&(ce=a(ce,I,u),ge=a(ge,I,u),Ne=ce.length,fe=ge.length),ze=Ne,he=ge.slice(0,Ne),$e=he.length;$e<Ne;)he[$e++]=0;Le=ce.slice(),Le.unshift(0),We=ce[0],ce[1]>=u/2&&++We;do I=0,p=i(ce,he,Ne,$e),p<0?(b=he[0],Ne!=$e&&(b=b*u+(he[1]||0)),I=b/We|0,I>1?(I>=u&&(I=u-1),X=a(ce,I,u),V=X.length,$e=he.length,p=i(X,he,V,$e),p==1&&(I--,e(X,Ne<V?Le:ce,V,u))):(I==0&&(p=I=1),X=ce.slice()),V=X.length,V<$e&&X.unshift(0),e(he,X,$e,u),p==-1&&($e=he.length,p=i(ce,he,Ne,$e),p<1&&(I++,e(he,Ne<$e?Le:ce,$e,u))),$e=he.length):p===0&&(I++,he=[0]),Oe[S++]=I,p&&he[0]?he[$e++]=ge[ze]||0:(he=[ge[ze]],$e=1);while((ze++<fe||he[0]!==void 0)&&de--);O=he[0]!==void 0}Oe[0]||Oe.shift()}if(F==1)be.e=g,inexact=O;else{for(S=1,I=Oe[0];I>=10;I/=10)S++;be.e=S+g*F-1,finalise(be,l?n+be.e+1:n,r,O)}return be}}();function finalise(a,i,e,t){var s,n,r,l,u,p,g,S,I,F=a.constructor;e:if(i!=null){if(S=a.d,!S)return a;for(s=1,l=S[0];l>=10;l/=10)s++;if(n=i-s,n<0)n+=LOG_BASE,r=i,g=S[I=0],u=g/mathpow(10,s-r-1)%10|0;else if(I=Math.ceil((n+1)/LOG_BASE),l=S.length,I>=l)if(t){for(;l++<=I;)S.push(0);g=u=0,s=1,n%=LOG_BASE,r=n-LOG_BASE+1}else break e;else{for(g=l=S[I],s=1;l>=10;l/=10)s++;n%=LOG_BASE,r=n-LOG_BASE+s,u=r<0?0:g/mathpow(10,s-r-1)%10|0}if(t=t||i<0||S[I+1]!==void 0||(r<0?g:g%mathpow(10,s-r-1)),p=e<4?(u||t)&&(e==0||e==(a.s<0?3:2)):u>5||u==5&&(e==4||t||e==6&&(n>0?r>0?g/mathpow(10,s-r):0:S[I-1])%10&1||e==(a.s<0?8:7)),i<1||!S[0])return S.length=0,p?(i-=a.e+1,S[0]=mathpow(10,(LOG_BASE-i%LOG_BASE)%LOG_BASE),a.e=-i||0):S[0]=a.e=0,a;if(n==0?(S.length=I,l=1,I--):(S.length=I+1,l=mathpow(10,LOG_BASE-n),S[I]=r>0?(g/mathpow(10,s-r)%mathpow(10,r)|0)*l:0),p)for(;;)if(I==0){for(n=1,r=S[0];r>=10;r/=10)n++;for(r=S[0]+=l,l=1;r>=10;r/=10)l++;n!=l&&(a.e++,S[0]==BASE&&(S[0]=1));break}else{if(S[I]+=l,S[I]!=BASE)break;S[I--]=0,l=1}for(n=S.length;S[--n]===0;)S.pop()}return external&&(a.e>F.maxE?(a.d=null,a.e=NaN):a.e<F.minE&&(a.e=0,a.d=[0])),a}function finiteToString(a,i,e){if(!a.isFinite())return nonFiniteToString(a);var t,s=a.e,n=digitsToString(a.d),r=n.length;return i?(e&&(t=e-r)>0?n=n.charAt(0)+"."+n.slice(1)+getZeroString(t):r>1&&(n=n.charAt(0)+"."+n.slice(1)),n=n+(a.e<0?"e":"e+")+a.e):s<0?(n="0."+getZeroString(-s-1)+n,e&&(t=e-r)>0&&(n+=getZeroString(t))):s>=r?(n+=getZeroString(s+1-r),e&&(t=e-s-1)>0&&(n=n+"."+getZeroString(t))):((t=s+1)<r&&(n=n.slice(0,t)+"."+n.slice(t)),e&&(t=e-r)>0&&(s+1===r&&(n+="."),n+=getZeroString(t))),n}function getBase10Exponent(a,i){var e=a[0];for(i*=LOG_BASE;e>=10;e/=10)i++;return i}function getLn10(a,i,e){if(i>LN10_PRECISION)throw external=!0,e&&(a.precision=e),Error(precisionLimitExceeded);return finalise(new a(LN10),i,1,!0)}function getPi(a,i,e){if(i>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new a(PI),i,e,!0)}function getPrecision(a){var i=a.length-1,e=i*LOG_BASE+1;if(i=a[i],i){for(;i%10==0;i/=10)e--;for(i=a[0];i>=10;i/=10)e++}return e}function getZeroString(a){for(var i="";a--;)i+="0";return i}function intPow(a,i,e,t){var s,n=new a(1),r=Math.ceil(t/LOG_BASE+4);for(external=!1;;){if(e%2&&(n=n.times(i),truncate(n.d,r)&&(s=!0)),e=mathfloor(e/2),e===0){e=n.d.length-1,s&&n.d[e]===0&&++n.d[e];break}i=i.times(i),truncate(i.d,r)}return external=!0,n}function isOdd(a){return a.d[a.d.length-1]&1}function maxOrMin(a,i,e){for(var t,s=new a(i[0]),n=0;++n<i.length;)if(t=new a(i[n]),t.s)s[e](t)&&(s=t);else{s=t;break}return s}function naturalExponential(a,i){var e,t,s,n,r,l,u,p=0,g=0,S=0,I=a.constructor,F=I.rounding,O=I.precision;if(!a.d||!a.d[0]||a.e>17)return new I(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(i==null?(external=!1,u=O):u=i,l=new I(.03125);a.e>-2;)a=a.times(l),S+=5;for(t=Math.log(mathpow(2,S))/Math.LN10*2+5|0,u+=t,e=n=r=new I(1),I.precision=u;;){if(n=finalise(n.times(a),u,1),e=e.times(++g),l=r.plus(divide(n,e,u,1)),digitsToString(l.d).slice(0,u)===digitsToString(r.d).slice(0,u)){for(s=S;s--;)r=finalise(r.times(r),u,1);if(i==null)if(p<3&&checkRoundingDigits(r.d,u-t,F,p))I.precision=u+=10,e=n=l=new I(1),g=0,p++;else return finalise(r,I.precision=O,F,external=!0);else return I.precision=O,r}r=l}}function naturalLogarithm(a,i){var e,t,s,n,r,l,u,p,g,S,I,F=1,O=10,X=a,V=X.d,be=X.constructor,Oe=be.rounding,he=be.precision;if(X.s<0||!V||!V[0]||!X.e&&V[0]==1&&V.length==1)return new be(V&&!V[0]?-1/0:X.s!=1?NaN:V?0:X);if(i==null?(external=!1,g=he):g=i,be.precision=g+=O,e=digitsToString(V),t=e.charAt(0),Math.abs(n=X.e)<15e14){for(;t<7&&t!=1||t==1&&e.charAt(1)>3;)X=X.times(a),e=digitsToString(X.d),t=e.charAt(0),F++;n=X.e,t>1?(X=new be("0."+e),n++):X=new be(t+"."+e.slice(1))}else return p=getLn10(be,g+2,he).times(n+""),X=naturalLogarithm(new be(t+"."+e.slice(1)),g-O).plus(p),be.precision=he,i==null?finalise(X,he,Oe,external=!0):X;for(S=X,u=r=X=divide(X.minus(1),X.plus(1),g,1),I=finalise(X.times(X),g,1),s=3;;){if(r=finalise(r.times(I),g,1),p=u.plus(divide(r,new be(s),g,1)),digitsToString(p.d).slice(0,g)===digitsToString(u.d).slice(0,g))if(u=u.times(2),n!==0&&(u=u.plus(getLn10(be,g+2,he).times(n+""))),u=divide(u,new be(F),g,1),i==null)if(checkRoundingDigits(u.d,g-O,Oe,l))be.precision=g+=O,p=r=X=divide(S.minus(1),S.plus(1),g,1),I=finalise(X.times(X),g,1),s=l=1;else return finalise(u,be.precision=he,Oe,external=!0);else return be.precision=he,u;u=p,s+=2}}function nonFiniteToString(a){return String(a.s*a.s/0)}function parseDecimal(a,i){var e,t,s;for((e=i.indexOf("."))>-1&&(i=i.replace(".","")),(t=i.search(/e/i))>0?(e<0&&(e=t),e+=+i.slice(t+1),i=i.substring(0,t)):e<0&&(e=i.length),t=0;i.charCodeAt(t)===48;t++);for(s=i.length;i.charCodeAt(s-1)===48;--s);if(i=i.slice(t,s),i){if(s-=t,a.e=e=e-t-1,a.d=[],t=(e+1)%LOG_BASE,e<0&&(t+=LOG_BASE),t<s){for(t&&a.d.push(+i.slice(0,t)),s-=LOG_BASE;t<s;)a.d.push(+i.slice(t,t+=LOG_BASE));i=i.slice(t),t=LOG_BASE-i.length}else t-=s;for(;t--;)i+="0";a.d.push(+i),external&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function parseOther(a,i){var e,t,s,n,r,l,u,p,g;if(i.indexOf("_")>-1){if(i=i.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(i))return parseDecimal(a,i)}else if(i==="Infinity"||i==="NaN")return+i||(a.s=NaN),a.e=NaN,a.d=null,a;if(isHex.test(i))e=16,i=i.toLowerCase();else if(isBinary.test(i))e=2;else if(isOctal.test(i))e=8;else throw Error(invalidArgument+i);for(n=i.search(/p/i),n>0?(u=+i.slice(n+1),i=i.substring(2,n)):i=i.slice(2),n=i.indexOf("."),r=n>=0,t=a.constructor,r&&(i=i.replace(".",""),l=i.length,n=l-n,s=intPow(t,new t(e),n,n*2)),p=convertBase(i,e,BASE),g=p.length-1,n=g;p[n]===0;--n)p.pop();return n<0?new t(a.s*0):(a.e=getBase10Exponent(p,g),a.d=p,external=!1,r&&(a=divide(a,s,l*4)),u&&(a=a.times(Math.abs(u)<54?mathpow(2,u):Decimal.pow(2,u))),external=!0,a)}function sine(a,i){var e,t=i.d.length;if(t<3)return i.isZero()?i:taylorSeries(a,2,i,i);e=1.4*Math.sqrt(t),e=e>16?16:e|0,i=i.times(1/tinyPow(5,e)),i=taylorSeries(a,2,i,i);for(var s,n=new a(5),r=new a(16),l=new a(20);e--;)s=i.times(i),i=i.times(n.plus(s.times(r.times(s).minus(l))));return i}function taylorSeries(a,i,e,t,s){var n,r,l,u,p=a.precision,g=Math.ceil(p/LOG_BASE);for(external=!1,u=e.times(e),l=new a(t);;){if(r=divide(l.times(u),new a(i++*i++),p,1),l=s?t.plus(r):t.minus(r),t=divide(r.times(u),new a(i++*i++),p,1),r=l.plus(t),r.d[g]!==void 0){for(n=g;r.d[n]===l.d[n]&&n--;);if(n==-1)break}n=l,l=t,t=r,r=n}return external=!0,r.d.length=g+1,r}function tinyPow(a,i){for(var e=a;--i;)e*=a;return e}function toLessThanHalfPi(a,i){var e,t=i.s<0,s=getPi(a,a.precision,1),n=s.times(.5);if(i=i.abs(),i.lte(n))return quadrant=t?4:1,i;if(e=i.divToInt(s),e.isZero())quadrant=t?3:2;else{if(i=i.minus(e.times(s)),i.lte(n))return quadrant=isOdd(e)?t?2:3:t?4:1,i;quadrant=isOdd(e)?t?1:4:t?3:2}return i.minus(s).abs()}function toStringBinary(a,i,e,t){var s,n,r,l,u,p,g,S,I,F=a.constructor,O=e!==void 0;if(O?(checkInt32(e,1,MAX_DIGITS),t===void 0?t=F.rounding:checkInt32(t,0,8)):(e=F.precision,t=F.rounding),!a.isFinite())g=nonFiniteToString(a);else{for(g=finiteToString(a),r=g.indexOf("."),O?(s=2,i==16?e=e*4-3:i==8&&(e=e*3-2)):s=i,r>=0&&(g=g.replace(".",""),I=new F(1),I.e=g.length-r,I.d=convertBase(finiteToString(I),10,s),I.e=I.d.length),S=convertBase(g,10,s),n=u=S.length;S[--u]==0;)S.pop();if(!S[0])g=O?"0p+0":"0";else{if(r<0?n--:(a=new F(a),a.d=S,a.e=n,a=divide(a,I,e,t,0,s),S=a.d,n=a.e,p=inexact),r=S[e],l=s/2,p=p||S[e+1]!==void 0,p=t<4?(r!==void 0||p)&&(t===0||t===(a.s<0?3:2)):r>l||r===l&&(t===4||p||t===6&&S[e-1]&1||t===(a.s<0?8:7)),S.length=e,p)for(;++S[--e]>s-1;)S[e]=0,e||(++n,S.unshift(1));for(u=S.length;!S[u-1];--u);for(r=0,g="";r<u;r++)g+=NUMERALS.charAt(S[r]);if(O){if(u>1)if(i==16||i==8){for(r=i==16?4:3,--u;u%r;u++)g+="0";for(S=convertBase(g,s,i),u=S.length;!S[u-1];--u);for(r=1,g="1.";r<u;r++)g+=NUMERALS.charAt(S[r])}else g=g.charAt(0)+"."+g.slice(1);g=g+(n<0?"p":"p+")+n}else if(n<0){for(;++n;)g="0"+g;g="0."+g}else if(++n>u)for(n-=u;n--;)g+="0";else n<u&&(g=g.slice(0,n)+"."+g.slice(n))}g=(i==16?"0x":i==2?"0b":i==8?"0o":"")+g}return a.s<0?"-"+g:g}function truncate(a,i){if(a.length>i)return a.length=i,!0}function abs(a){return new this(a).abs()}function acos(a){return new this(a).acos()}function acosh(a){return new this(a).acosh()}function add(a,i){return new this(a).plus(i)}function asin(a){return new this(a).asin()}function asinh(a){return new this(a).asinh()}function atan(a){return new this(a).atan()}function atanh(a){return new this(a).atanh()}function atan2(a,i){a=new this(a),i=new this(i);var e,t=this.precision,s=this.rounding,n=t+4;return!a.s||!i.s?e=new this(NaN):!a.d&&!i.d?(e=getPi(this,n,1).times(i.s>0?.25:.75),e.s=a.s):!i.d||a.isZero()?(e=i.s<0?getPi(this,t,s):new this(0),e.s=a.s):!a.d||i.isZero()?(e=getPi(this,n,1).times(.5),e.s=a.s):i.s<0?(this.precision=n,this.rounding=1,e=this.atan(divide(a,i,n,1)),i=getPi(this,n,1),this.precision=t,this.rounding=s,e=a.s<0?e.minus(i):e.plus(i)):e=this.atan(divide(a,i,n,1)),e}function cbrt(a){return new this(a).cbrt()}function ceil(a){return finalise(a=new this(a),a.e+1,2)}function clamp$1(a,i,e){return new this(a).clamp(i,e)}function config(a){if(!a||typeof a!="object")throw Error(decimalError+"Object expected");var i,e,t,s=a.defaults===!0,n=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(i=0;i<n.length;i+=3)if(e=n[i],s&&(this[e]=DEFAULTS[e]),(t=a[e])!==void 0)if(mathfloor(t)===t&&t>=n[i+1]&&t<=n[i+2])this[e]=t;else throw Error(invalidArgument+e+": "+t);if(e="crypto",s&&(this[e]=DEFAULTS[e]),(t=a[e])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[e]=!0;else throw Error(cryptoUnavailable);else this[e]=!1;else throw Error(invalidArgument+e+": "+t);return this}function cos(a){return new this(a).cos()}function cosh(a){return new this(a).cosh()}function clone(a){var i,e,t;function s(n){var r,l,u,p=this;if(!(p instanceof s))return new s(n);if(p.constructor=s,isDecimalInstance(n)){p.s=n.s,external?!n.d||n.e>s.maxE?(p.e=NaN,p.d=null):n.e<s.minE?(p.e=0,p.d=[0]):(p.e=n.e,p.d=n.d.slice()):(p.e=n.e,p.d=n.d?n.d.slice():n.d);return}if(u=typeof n,u==="number"){if(n===0){p.s=1/n<0?-1:1,p.e=0,p.d=[0];return}if(n<0?(n=-n,p.s=-1):p.s=1,n===~~n&&n<1e7){for(r=0,l=n;l>=10;l/=10)r++;external?r>s.maxE?(p.e=NaN,p.d=null):r<s.minE?(p.e=0,p.d=[0]):(p.e=r,p.d=[n]):(p.e=r,p.d=[n]);return}else if(n*0!==0){n||(p.s=NaN),p.e=NaN,p.d=null;return}return parseDecimal(p,n.toString())}else if(u!=="string")throw Error(invalidArgument+n);return(l=n.charCodeAt(0))===45?(n=n.slice(1),p.s=-1):(l===43&&(n=n.slice(1)),p.s=1),isDecimal.test(n)?parseDecimal(p,n):parseOther(p,n)}if(s.prototype=P,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=config,s.clone=clone,s.isDecimal=isDecimalInstance,s.abs=abs,s.acos=acos,s.acosh=acosh,s.add=add,s.asin=asin,s.asinh=asinh,s.atan=atan,s.atanh=atanh,s.atan2=atan2,s.cbrt=cbrt,s.ceil=ceil,s.clamp=clamp$1,s.cos=cos,s.cosh=cosh,s.div=div,s.exp=exp,s.floor=floor,s.hypot=hypot,s.ln=ln,s.log=log,s.log10=log10,s.log2=log2,s.max=max,s.min=min,s.mod=mod,s.mul=mul,s.pow=pow,s.random=random,s.round=round,s.sign=sign,s.sin=sin,s.sinh=sinh,s.sqrt=sqrt,s.sub=sub,s.sum=sum,s.tan=tan,s.tanh=tanh,s.trunc=trunc,a===void 0&&(a={}),a&&a.defaults!==!0)for(t=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<t.length;)a.hasOwnProperty(e=t[i++])||(a[e]=this[e]);return s.config(a),s}function div(a,i){return new this(a).div(i)}function exp(a){return new this(a).exp()}function floor(a){return finalise(a=new this(a),a.e+1,3)}function hypot(){var a,i,e=new this(0);for(external=!1,a=0;a<arguments.length;)if(i=new this(arguments[a++]),i.d)e.d&&(e=e.plus(i.times(i)));else{if(i.s)return external=!0,new this(1/0);e=i}return external=!0,e.sqrt()}function isDecimalInstance(a){return a instanceof Decimal||a&&a.toStringTag===tag||!1}function ln(a){return new this(a).ln()}function log(a,i){return new this(a).log(i)}function log2(a){return new this(a).log(2)}function log10(a){return new this(a).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(a,i){return new this(a).mod(i)}function mul(a,i){return new this(a).mul(i)}function pow(a,i){return new this(a).pow(i)}function random(a){var i,e,t,s,n=0,r=new this(1),l=[];if(a===void 0?a=this.precision:checkInt32(a,1,MAX_DIGITS),t=Math.ceil(a/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(i=crypto.getRandomValues(new Uint32Array(t));n<t;)s=i[n],s>=429e7?i[n]=crypto.getRandomValues(new Uint32Array(1))[0]:l[n++]=s%1e7;else if(crypto.randomBytes){for(i=crypto.randomBytes(t*=4);n<t;)s=i[n]+(i[n+1]<<8)+(i[n+2]<<16)+((i[n+3]&127)<<24),s>=214e7?crypto.randomBytes(4).copy(i,n):(l.push(s%1e7),n+=4);n=t/4}else throw Error(cryptoUnavailable);else for(;n<t;)l[n++]=Math.random()*1e7|0;for(t=l[--n],a%=LOG_BASE,t&&a&&(s=mathpow(10,LOG_BASE-a),l[n]=(t/s|0)*s);l[n]===0;n--)l.pop();if(n<0)e=0,l=[0];else{for(e=-1;l[0]===0;e-=LOG_BASE)l.shift();for(t=1,s=l[0];s>=10;s/=10)t++;t<LOG_BASE&&(e-=LOG_BASE-t)}return r.e=e,r.d=l,r}function round(a){return finalise(a=new this(a),a.e+1,this.rounding)}function sign(a){return a=new this(a),a.d?a.d[0]?a.s:0*a.s:a.s||NaN}function sin(a){return new this(a).sin()}function sinh(a){return new this(a).sinh()}function sqrt(a){return new this(a).sqrt()}function sub(a,i){return new this(a).sub(i)}function sum(){var a=0,i=arguments,e=new this(i[a]);for(external=!1;e.s&&++a<i.length;)e=e.plus(i[a]);return external=!0,finalise(e,this.precision,this.rounding)}function tan(a){return new this(a).tan()}function tanh(a){return new this(a).tanh()}function trunc(a){return finalise(a=new this(a),a.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var Decimal=P.constructor=clone(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);class SqlViewModel{constructor(){y(this,"SvcId","");y(this,"ComId","");y(this,"Action","");y(this,"Params","");y(this,"Ids",[]);y(this,"AnnonymousTenant",Client.Tenant);y(this,"AnnonymousEnv",Client.Env);y(this,"Paging","");y(this,"Select","");y(this,"Where","");y(this,"OrderBy","");y(this,"GroupBy","");y(this,"Having","");y(this,"Count",!1);y(this,"FieldName",[]);y(this,"SkipXQuery",!1);y(this,"Skip",0);y(this,"Top",0);y(this,"MetaConn",Client.MetaConn);y(this,"DataConn",Client.DataConn);y(this,"Table","");y(this,"WrapQuery",!0)}}class BadGatewayQueue{constructor(){this._queue=[]}Enqueue(i){!i.NoQueue&&i.Method!=="GET"&&(i.Retry=!0,this._queue.push(i))}Dequeue(){return this._queue.shift()}Peek(){return this._queue[0]}get Count(){return this._queue.length}}class Token{constructor(){y(this,"UserId",null);y(this,"CostCenterId",null);y(this,"UserName",null);y(this,"Email",null);y(this,"FirstName",null);y(this,"LastName",null);y(this,"FullName",null);y(this,"Address",null);y(this,"Avatar",null);y(this,"AccessToken",null);y(this,"RefreshToken",null);y(this,"AccessTokenExp",null);y(this,"RefreshTokenExp",null);y(this,"HashPassword",null);y(this,"Recovery",null);y(this,"Vendor",null);y(this,"RoleIds",[]);y(this,"RoleNames",[]);y(this,"CenterIds",[]);y(this,"Ssn",null);y(this,"PhoneNumber",null);y(this,"TeamId",null);y(this,"PartnerId",null);y(this,"RegionId",null);y(this,"Additional",null);y(this,"SigninDate",new Date);y(this,"TenantCode",null);y(this,"Env",null);y(this,"ConnKey",null);y(this,"SystemRole",!1);this.TenantCode=Client.Tenant,this.Env=Client.Env,this.ConnKey=Client.MetaConn}static parse(i){var e=i.split(".")[1],t=e.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(t).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join(""));const n=JSON.parse(s),r=new Token;return r.CopyPropFrom(n),r}}class PatchDetail{constructor(){y(this,"Field","");y(this,"Label","");y(this,"OldVal","");y(this,"Value","");y(this,"HistoryValue","")}}class PatchVM{constructor(){y(this,"FeatureId");y(this,"ComId");y(this,"Table");y(this,"DeletedIds");y(this,"QueueName");y(this,"CacheName");y(this,"MetaConn");y(this,"DataConn");y(this,"Changes",[])}get EntityId(){const i=this.Changes.find(e=>e.Field===Utils.IdField);return i?i.Value:null}set OldId(i){let e=this.Changes.find(t=>t.Field===Utils.IdField);e?e.OldVal=i:this.Changes.push(new PatchDetail(Utils.IdField,"",i,"",""))}}class Toast{static Create(i){const e=document.createElement("div");e.className=`toast ${i.ClassName}`,e.innerHTML=i.Message;var t=document.createElement("i");t.className=i.Icon,e.appendChild(t),document.body.appendChild(e),setTimeout(()=>{e.remove()},i.Timeout)}static Success(i,e=2500,...t){Toast.Create({ClassName:"success",Timeout:e,Icon:"fal fa-check",Message:i,Params:t})}static Warning(i,...e){Toast.Create({ClassName:"warning",Icon:"fal fa-exclamation-triangle",Timeout:2500,Message:i,Params:e})}static Error(i,...e){Toast.Create({ClassName:"error",Timeout:2500,Message:i,Params:e})}static Small(i,e=2500){Toast.Create({ClassName:"sm-tran",Timeout:e,Message:i})}}const Path={ImgExt:["tif","pjp","xbm","jxl","svgz","jpeg","ico","tiff","gif","svg","jfif","webp","png","bmp","pjpeg","avif","jpg"],IsImage(a){const i=this.GetExtension(a).toLowerCase().substring(1);return this.ImgExt.includes(i)},CombineHostAndPath(a,i){return this.ContainHost(i)?i:this.Combine(a,i)},ContainHost(a){return a.includes("http://")||a.includes("https://")},GetExtension(a){return a?a.substring(a.lastIndexOf(".")):""},GetFileName(a){if(!a)return"";const i=a.lastIndexOf("/");return i>=0?a.substring(i+1):a},GetFileNameWithoutExtension(a){if(!a)return"";const i=a.lastIndexOf("/"),e=a.lastIndexOf("."),t=i>=0?i+1:0;return a.substring(t,e)},Combine(...a){return a.length?a.filter(e=>e).map(e=>{const t=e[0]==="/"?1:0,s=e[e.length-1]==="/"?e.length-1:e.length;return e.substring(t,s)}).join("/"):""}};class Action{constructor(){y(this,"hasTrigger",!1);y(this,"handler",[])}add(i){this.handler.push(i)}Invoke(i){var e;this.hasTrigger=!0,(e=this.handler)==null||e.forEach(t=>t(i))}invoke(i){var e;this.hasTrigger=!0,(e=this.handler)==null||e.forEach(t=>t(i))}}var ns,ss,rs,as,os,ls,cs,us,hs,fn,nn;const tt=class tt{constructor(i,e="",t=!1){y(this,"_nameSpace");y(this,"_config");y(this,"CustomPrefix",(()=>{const i=Array.from(document.head.children).find(e=>e instanceof HTMLMetaElement&&e.name==="prefix");return i==null?void 0:i.content})());this._nameSpace=e,this._config=t,this._nameSpace&&this._nameSpace.charAt(this._nameSpace.length-1)!=="."&&(this._nameSpace+="."),this.EntityName=i}static get Origin(){var i;return((i=document.head.origin)==null?void 0:i.content)||window.location.origin}static get Instance(){return tt._instance||(tt._instance=new tt),tt._instance}static get Token(){const i=Si(this,fn);return i||JSON.parse(localStorage.getItem("UserInfo"))}static set Token(i){Fi(this,fn,i),localStorage.setItem("UserInfo",JSON.stringify(i))}static get SystemRole(){var i;return Si(tt,nn)==null&&Fi(tt,nn,(i=Token.parse(tt.Token.AccessToken))==null?void 0:i.SystemRole),Si(tt,nn)}async UserSvc(i,e=!1){const t={Value:JSON.stringify(i),Url:Utils$1.UserSvc,IsRawString:!0,Method:"POST",AllowAnonymous:e};return this.SubmitAsync(t)}async ComQuery(i){const e={Value:JSON.stringify(i),Url:Utils$1.ComQuery,IsRawString:!0,Method:"POST"};return this.SubmitAsync(e)}GetIds(i){let e,t;const s=new Promise((r,l)=>{e=r,t=l});i.Select="ds.Id",i.Count=!1,i.SkipXQuery=!0;const n={Url:Utils$1.ComQuery,Value:JSON.stringify(i),IsRawString:!0,Method:"POST"};return this.SubmitAsync(n).then(r=>{var u;const l=r.length===0||r[0].length===0?[]:(u=r[0])==null?void 0:u.map(p=>p.Id);e(l)}).catch(t),s}async SubmitAsyncWithToken(i){const e=i.FormData===void 0;return new Promise((s,n)=>{var l;const r=new XMLHttpRequest;!i.Headers&&i.FormData===void 0&&(i.Headers={"Content-Type":"application/json"}),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?ProcessSuccessRequest(i,s,r):ErrorHandler(i,n,r))},i.ProgressHandler!==void 0&&r.addEventListener("progress",i.ProgressHandler),r.open(i.Method,tt.api+(i.FinalUrl??i.Url),!0),i.AllowAnonymous||r.setRequestHeader("Authorization","Bearer "+((l=tt.Token)==null?void 0:l.AccessToken));for(const[u,p]of Object.entries(i.Headers))r.setRequestHeader(u,p);e?r.send(i.JsonData):r.send(i.FormData)})}async SubmitAsync(i){return i.AllowAnonymous||await tt.RefreshToken(),await this.SubmitAsyncWithToken(i)}async FirstOrDefaultAsync(i=null,e=!1,t=!1){var r;const s=ClearCacheHeader(e),n=await this.SubmitAsync({Value:null,AddTenant:t,Url:i,Headers:s,Method:"GET"});return(r=n==null?void 0:n.Value)==null?void 0:r[0]}async GetByIdAsync(i,e){const t={JsonData:JSON.stringify({Table:i,Id:e}),Url:Utils$1.ComQuery,IsRawString:!0,Method:"POST"};return this.SubmitAsync(t)}async PostAsync(i,e="",t=!1){const s={Value:i,Url:e,Method:"POST",AllowAnonymous:t};return this.SubmitAsync(s)}async PatchAsync(i,e=null,t=!1){const s={JsonData:JSON.stringify(i),IsRawString:!0,Url:Utils$1.PatchSvc,Headers:{"Content-type":"application/json"},Method:"PATCH",AllowAnonymous:t,ErrorHandler:e};return this.SubmitAsync(s)}async PostFilesAsync(i,e="",t=null){const s=new FormData;s.append("file",i);const n={FormData:s,File:i,ProgressHandler:t,Method:"POST",Url:e};return this.SubmitAsync(n)}async SendMail(i){return this.SubmitAsync({Value:i,Method:"POST",Url:"Email"})}async DeactivateAsync(i,e,t){const s={Ids:i,Params:e,MetaConn:tt.MetaConn,DataConn:t||tt.DataConn};return this.SubmitAsync({Url:Utils$1.DeactivateSvc,Value:JSON.stringify(s),Method:"DELETE",IsRawString:!0,Headers:{"Content-type":"application/json"}})}async HardDeleteAsync(i,e,t,s=null){const n={Table:e,DeletedIds:i,DataConn:t||tt.DataConn,MetaConn:s||tt.MetaConn};return this.SubmitAsync({Url:Utils$1.DeleteSvc,JsonData:JSON.stringify(n),Method:"DELETE",IsRawString:!0,Headers:{"Content-type":"application/json"}})}static async LoadScript(i){return Array.from(document.body.children).some(s=>s instanceof HTMLScriptElement&&s.src.split("/").pop()===i.split("/").pop())?!0:new Promise(s=>{const n=document.createElement("script");n.src=i,n.addEventListener("load",()=>{s(!0)}),n.onerror=()=>(s(!0),!1),document.body.appendChild(n)})}static async LoadLink(i){return Array.from(document.head.children).some(s=>s instanceof HTMLLinkElement&&s.href.replace(document.location.origin,"")===i)?!0:new Promise(s=>{const n=document.createElement("link");n.href=i,n.addEventListener("load",()=>{s(!0)}),n.onerror=()=>(s(!0),!1),document.head.appendChild(n)})}static async RefreshToken(i=null){const e=tt.Token;if(!e||new Date(e.RefreshTokenExp)<=tt.EpsilonNow)return null;if(new Date(e.AccessTokenExp)>tt.EpsilonNow)return e;if(new Date(e.AccessTokenExp)<=tt.EpsilonNow&&new Date(e.RefreshTokenExp)>tt.EpsilonNow){const t=await tt.GetToken(e);return t&&(tt.Token=t,i==null||i(t)),t}}static async GetToken(i){return await tt.Instance.SubmitAsync({NoQueue:!0,Url:`/api/auth/refreshToken?t=${tt.Token.TenantCode||tt.Tenant}`,Method:"POST",JsonData:JSON.stringify({RefreshToken:i.RefreshToken}),AllowAnonymous:!0,ErrorHandler:t=>{t.status===400&&(tt.Token=null,Toast.Warning("Phin truy cp  ht hn! Vui lng ch trong giy lt, h thng ang ti li trang"))}})}static RemoveGuid(i){let t=i;if(i.length>36){const s=Utils$1.GetFileNameWithoutExtension(i);t=s.substring(0,s.length-36)+"."+i.split(".").pop()}return t}static Download(i){const e=this.RemoveGuid(i),t=document.createElement("a");t.href=i.includes("http")?i:Path.Combine(tt.Origin,i),t.target="_blank",t.setAttribute("download",e),document.body.appendChild(t),t.click(),document.body.removeChild(t)}};fn=new WeakMap,nn=new WeakMap,y(tt,"Entities",[]),y(tt,"EpsilonNow",new Date(Date.now()+1*60*1e3)),y(tt,"ErrorMessage","H thng ang cp nht vui lng ch trong 30s!"),y(tt,"ModelNamespace"),y(tt,"entities"),y(tt,"token"),y(tt,"GuidLength",36),y(tt,"Host",(((ns=document.head.host)==null?void 0:ns.content)||window.location.host).toLowerCase()),y(tt,"BaseUri",(((ss=document.head.baseUri)==null?void 0:ss.content)||window.location.origin).toLowerCase()),y(tt,"IsPortal",((rs=document.head.startup)==null?void 0:rs.content)!=="admin"),y(tt,"MetaConn",((as=document.head.metaKey)==null?void 0:as.content)||"default"),y(tt,"DataConn",((os=document.head.dataConn)==null?void 0:os.content)||"bl"),y(tt,"Tenant",((ls=document.head.tenant)==null?void 0:ls.content)||"System"),y(tt,"Env",((cs=document.head.env)==null?void 0:cs.content)||"test"),y(tt,"FileFTP",((us=document.head.file)==null?void 0:us.content)||"/user"),y(tt,"api",(()=>{const i=Array.from(document.head.childNodes).find(e=>e.name==="api");return i?i.content:"http://localhost:8005"})()),y(tt,"Config",((hs=document.head.config)==null?void 0:hs.content)||""),y(tt,"BadGatewayRequest",new BadGatewayQueue),y(tt,"UnAuthorizedEventHandler",new Action),y(tt,"SignOutEventHandler",new Action),y(tt,"_instance"),Bi(tt,fn),Bi(tt,nn);let Client=tt;function ProcessSuccessRequest(a,i,e){if(a.Retry){i(!0);return}if(!e.responseText){i(null);return}if(a.CustomParser){i(a.CustomParser(e.response));return}const t=typeof a.Value;if(t==="number")i(Number(e.responseText));else if(t==="string")i(e.responseText);else if(t==="object"){const s=JSON.parse(e.responseText);i(s)}else try{const s=JSON.parse(e.responseText);i(s)}catch{i(e.responseText)}}function ErrorHandler(a,i,e){var s;if(a.Retry){i(!1);return}let t;try{t=JSON.parse(e.responseText),t.StatusCode=e.status}catch{t={Message:" c li xy ra trong qu trnh x l",StackTrace:e.responseText}}if(a.ErrorHandler){a.ErrorHandler(e),i(new Error(t.Message));return}e.status>=400&&e.status<500?t&&t.Message&&a.ShowError&&console.warn(t.Message):e.status===500||e.status===404?console.warn(t):e.status===401?(s=Client.UnAuthorizedEventHandler)==null||s.call(Client,a):e.status>=502||e.status===504||e.status===503?(a.ShowError&&console.warn("Li kt ni ti my ch, vui lng ch trong giy lt..."),a.Retry||Client.BadGatewayRequest.Enqueue(a)):e.responseText&&console.warn(e.responseText),i(new Error(t.Message))}function ClearCacheHeader(a){const i={};return a&&(i.Pragma="no-cache",i.Expires="0",i["Last-Modified"]=new Date().toString(),i["If-Modified-Since"]=new Date().toString(),i["Cache-Control"]="no-store, no-cache, must-revalidate, post-check=0, pre-check=0"),i}var Ye;let Utils$1=(Ye=class{static get HeadChildren(){return document.head.children}static EncodeSpecialChar(i){return i?i.split("").map(e=>Ye.SpecialChar[e]||e).join(""):null}static DecodeSpecialChar(i){return!i||i==null||i===null?null:i.replaceAll("%2B","+").replaceAll("%2F","/").replaceAll("%3F","?").replaceAll("%23","#").replaceAll("%26","&")}static GenerateRandomToken(i=32){let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t.length;for(let n=0;n<i;n++)e+=t.charAt(Math.floor(Math.random()*s));return e}static ToJson(i){return JSON.stringify(i)}static Clone(i){return JSON.parse(JSON.stringify(i))}static TryParseInt(i){const e=parseInt(i,10);return isNaN(e)?null:e}static TryParseDecimal(i){try{return[!0,new Decimal(i)]}catch{return[!1,null]}}static Parse(i){try{return JSON.parse(i)}catch{return null}}static TryParse(i){try{return JSON.parse(i)}catch{return null}}static ChangeType(i,e){switch(e){case"int":case"number":return Ye.TryParseInt(i);case"decimal":return Ye.TryParseDecimal(i);case"boolean":return i==="true";default:return i}}static EncodeProperties(i){return!i||typeof i!="object"||Object.keys(i).forEach(e=>{typeof i[e]=="string"&&(i[e]=Ye.EncodeSpecialChar(i[e]))}),i}static DecodeProperties(i){return!i||typeof i!="object"||Object.keys(i).forEach(e=>{typeof i[e]=="string"&&(i[e]=Ye.DecodeSpecialChar(i[e]))}),i}static GetUrlParam(i=Ye.FeatureField,e=null){return new URLSearchParams(e||window.location.search).get(i)}static GetEntityById(i){return Client.Entities[i]}static GetEntity(i){return Object.values(Client.Entities).find(e=>e.Name===i)}static IsNullable(i,e){const t=Ye.GetPropValue(i,e);return!t||t==="object"}static GetComplexPropType(i,e){if(!i||!e||typeof e!="object")return null;const t=i.split(".");let s=e;for(const n of t){if(!s.hasOwnProperty(n))return null;s=s[n]}return typeof s}static GetPropValue(i,e){if(!i||!e||typeof i!="object")return null;const t=e.split(".");let s=i;for(const n of t){if(!s.hasOwnProperty(n))return null;s=s[n]}return s}static FormatEntity(i,e){if(i===null)return null;if(e===null)return i;let t=[],s=0,n=!1,r=!1,l=[],u=[];for(let p=0;p<i.length;p++){const g=i[p];switch(g){case"{":n=!0,r=!0,t.push(g+s.toString());break;case":":n&&!r?t.push(g):n?(r=!1,t.push(g),this.GetValues(e,l,u),l=[]):t.push(g);break;case"}":n&&(n=!1,t.push(g),s++,this.GetValues(e,l,u),l=[]);break;default:n&&r?l.push(g):t.push(g);break}}return this.Format(t.join(""),u)}static Format(i,...e){return i.replace(/{(\d+)}/g,(t,s)=>typeof e[s]<"u"?e[s]:t)}static GetValues(i,e,t=[]){if(!(e==null||e==="")){var s=i[e.join("")];t.push(s)}}static SetPropValue(i,e,t){!e||e.trim()===""||i&&typeof i=="object"&&(i[e]=t)}static GetCellText(i,e,t,s=!1,n=null){return this.DecodeSpecialChar(this.GetCellTextInternal(i,e,t,s,n))}static GetCellTextInternal(i,e,t,s=!1,n=null){let r="";if(s||e!==null&&i.FieldName===this.IdField&&typeof e=="number"&&e<=0)return"";if(e===null)return this.isNullOrWhiteSpace(i.FormatEntity)||(this.isFunction(i.FormatEntity)?r=getFunction(i.FormatEntity).call(t,t,n).toString():r=this.GetFormattedRow(i.FormatEntity,t)),r;switch(i.ComponentType){case"Datepicker":let l=new Date,u=Date.parse(e.toString());r=formatDate(u?new Date(e):l,i.FormatData||"dd/MM/yyyy");break;case"Dropdown":case"Select2":try{let I=i.FieldName;i.FieldName.substr(i.FieldName.length-2)===this.IdField&&(I=i.FieldName.substr(0,i.FieldName.length-2));let O=t[I];if(O===null||typeof O=="number"){let X=i.LocalData;O=X&&X.find(V=>compareIdField(V,e))}O===null||this.isNullOrWhiteSpace(i.FormatData)?r="":r=this.FormatEntity(i.FormatData,O)}catch{console.log(`Format of ${i.FieldName} is null`),r=""}break;case"MultipleSearchEntry":let p=i.LocalData;r=e.split(",").map(I=>parseInt(I,10)).filter(I=>I!==0).map(I=>{let F=p&&p.find(O=>this.compareIdField(O,I));return F===null||this.isNullOrWhiteSpace(i.FormatData)?"":this.FormatEntity(i.FormatData,null,F,EmptyFormat,EmptyFormat)}).join("");break;default:r=(e==null?void 0:e.toString())??"",this.isNullOrWhiteSpace(i.FormatData)||(r=this.formatString(i.FormatData,r)),this.isNullOrWhiteSpace(i.FormatEntity)||(this.IsFunction(i.FormatEntity)?r=this.getFunction(i.FormatEntity).call(t,t,n).toString():r=this.GetFormattedRow(i.FormatEntity,t)),i.ComponentType==="Number"&&i.UpperCase&&(r=r.replace(/,/g," "));break}return r}static isNullOrWhiteSpace(i){return!i||i.trim()===""||i.trim()===null}static isFunction(i){return typeof window[i]=="function"}static getFunction(i){return window[i]}static getFormattedRow(i,e){return""}static formatDate(i,e){return""}static getPropValue(i,e){return i[e]}static formatString(i,e){return i.replace("{0}",e)}static GetHtmlCode(i,e,t=Ye.NullFormatHandler,s=Ye.NotFoundHandler){if(!i)return null;const n=[];let r=0,l=!1,u="",p="";for(let g=0;g<i.length;g++){const S=i[g];switch(S){case"$":i[g+1]==="{"?(l=!0,p+="{"+r.toString()):l?u+=S:p+=S;break;case"}":l?(l=!1,p+=S,r++,Ye.GetValues(e[0],t,s,u,n),u=""):p+=S;break;default:if(l&&S==="{")break;l?u+=S:p+=S;break}}return p}static GetFormattedRow(i,e){var s;return Ye.IsFunction(i)?(s=i(e,e))==null?void 0:s.toString():Ye.FormatEntity2(i,null,e,Ye.EmptyFormat,Ye.EmptyFormat)}static ForEachProp(i,e){if(!i||typeof i!="object"||typeof e!="function")return;Object.keys(i).forEach(s=>e(s,i[s]))}static LastDayOfMonth(i=null){const e=i?new Date(i):new Date,t=e.getFullYear(),s=e.getMonth()+1;return new Date(t,s,0)}static IsFunction(i,e=!1,t){if(e=i&&!i.includes("return"),!i||i==null||i=="")return null;if(i instanceof Function)return i;try{var s=new Function(e?"return "+i:i);return s.call(t)}catch{return null}}static GetFileNameWithoutExtension(i){if(!i)return"";var e=i.lastIndexOf("/");e<0&&(e=0);var t=i.lastIndexOf(".");return i.substring(e+1|0,(t-1|0)-(e>=0?e:0)|0)}static IsImage(i){const e=["png","jpg","jpeg","gif","bmp"],t=n=>{const r=n.lastIndexOf(".")+1;return n.slice(r+1)};return e.includes(t(i).toLowerCase())}static GetExtension(i){return i?i.substring(i.lastIndexOf(".")):""}static IsOwner(i,e=!0){var O,X,V;const t="Id",s="OwnerUserIds",n="OwnerRoleIds",r="InsertedBy",l=",";if(!i||i[t]!==null||!Client.Token)return e;const u=(O=i[s])==null?void 0:O.toString(),p=(u==null?void 0:u.trim())!==""&&u.split(l).includes(Client.Token.UserId),g=(X=i[n])==null?void 0:X.toString(),S=(g==null?void 0:g.trim())!==""&&g.split(l).some(be=>Client.Token.RoleIds.includes(be)),I=(V=i[r])==null?void 0:V.toString();return!u&&I===Client.Token.UserId||S||p}static CastProp(i,e){if(i==null)return null;const t=new e;return this.CopyPropsFrom(i,t),t}static CopyPropsFrom(i,e){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t])}static As(i,e){return i instanceof e?i:null}static UploadBase64Image(i,e){const t={Value:i,Url:`/user/image/?name=${e}`,IsRawString:!0,Method:HttpMethod.POST};return Client.Instance.SubmitAsync(t)}static GetMimeType(i){if(i===null)throw new Error("extension cannot be null");switch(i.startsWith(".")&&(i=i.substring(1)),i=i.toLowerCase(),i){case"323":return"text/h323";case"3g2":return"video/3gpp2";case"3gp":return"video/3gpp";case"3gp2":return"video/3gpp2";case"3gpp":return"video/3gpp";case"7z":return"application/x-7z-compressed";case"aa":return"audio/audible";case"aac":return"audio/aac";case"aaf":return"application/octet-stream";case"aax":return"audio/vnd.audible.aax";case"ac3":return"audio/ac3";case"aca":return"application/octet-stream";case"accda":return"application/msaccess.addin";case"accdb":return"application/msaccess";case"accdc":return"application/msaccess.cab";case"accde":return"application/msaccess";case"accdr":return"application/msaccess.runtime";case"accdt":return"application/msaccess";case"accdw":return"application/msaccess.webapplication";case"accft":return"application/msaccess.ftemplate";case"acx":return"application/internet-property-stream";case"addin":return"text/xml";case"ade":return"application/msaccess";case"adobebridge":return"application/x-bridge-url";case"adp":return"application/msaccess";case"adt":return"audio/vnd.dlna.adts";case"adts":return"audio/aac";case"afm":return"application/octet-stream";case"ai":return"application/postscript";case"aif":return"audio/x-aiff";case"aifc":return"audio/aiff";case"aiff":return"audio/aiff";case"air":return"application/vnd.adobe.air-application-installer-package+zip";case"amc":return"application/x-mpeg";case"application":return"application/x-ms-application";case"art":return"image/x-jg";case"asa":return"application/xml";case"asax":return"application/xml";case"ascx":return"application/xml";case"asd":return"application/octet-stream";case"asf":return"video/x-ms-asf";case"ashx":return"application/xml";case"asi":return"application/octet-stream";case"asm":return"text/plain";case"asmx":return"application/xml";case"aspx":return"application/xml";case"asr":return"video/x-ms-asf";case"asx":return"video/x-ms-asf";case"atom":return"application/atom+xml";case"au":return"audio/basic";case"avi":return"video/x-msvideo";case"axs":return"application/olescript";case"bas":return"text/plain";case"bcpio":return"application/x-bcpio";case"bin":return"application/octet-stream";case"bmp":return"image/bmp";case"c":return"text/plain";case"cab":return"application/octet-stream";case"caf":return"audio/x-caf";case"calx":return"application/vnd.ms-office.calx";case"cat":return"application/vnd.ms-pki.seccat";case"cc":return"text/plain";case"cd":return"text/plain";case"cdda":return"audio/aiff";case"cdf":return"application/x-cdf";case"cer":return"application/x-x509-ca-cert";case"chm":return"application/octet-stream";case"class":return"application/x-java-applet";case"clp":return"application/x-msclip";case"cmx":return"image/x-cmx";case"cnf":return"text/plain";case"cod":return"image/cis-cod";case"config":return"application/xml";case"contact":return"text/x-ms-contact";case"coverage":return"application/xml";case"cpio":return"application/x-cpio";case"cpp":return"text/plain";case"crd":return"application/x-mscardfile";case"crl":return"application/pkix-crl";case"crt":return"application/x-x509-ca-cert";case"cs":return"text/plain";case"csdproj":return"text/plain";case"csh":return"application/x-csh";case"csproj":return"text/plain";case"css":return"text/css";case"csv":return"text/csv";case"cur":return"application/octet-stream";case"cxx":return"text/plain";case"dat":return"application/octet-stream";case"DataSourceFilter":return"application/xml";case"dbproj":return"text/plain";case"dcr":return"application/x-director";case"def":return"text/plain";case"deploy":return"application/octet-stream";case"der":return"application/x-x509-ca-cert";case"dgml":return"application/xml";case"dib":return"image/bmp";case"dif":return"video/x-dv";case"dir":return"application/x-director";case"disco":return"text/xml";case"dll":return"application/x-msdownload";case"dll.config":return"text/xml";case"dlm":return"text/dlm";case"doc":return"application/msword";case"docm":return"application/vnd.ms-word.document.macroenabled.12";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"dot":return"application/msword";case"dotm":return"application/vnd.ms-word.template.macroenabled.12";case"dotx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.template";case"dsp":return"application/octet-stream";case"dsw":return"text/plain";case"dtd":return"text/xml";case"dtsconfig":return"text/xml";case"dv":return"video/x-dv";case"dvi":return"application/x-dvi";case"dwf":return"drawing/x-dwf";case"dwp":return"application/octet-stream";case"dxr":return"application/x-director";case"eml":return"message/rfc822";case"emz":return"application/octet-stream";case"eot":return"application/octet-stream";case"eps":return"application/postscript";case"etl":return"application/etl";case"etx":return"text/x-setext";case"evy":return"application/envoy";case"exe":return"application/octet-stream";case"exe.config":return"text/xml";case"fdf":return"application/vnd.fdf";case"fif":return"application/fractals";case"filters":return"application/xml";case"fla":return"application/octet-stream";case"flr":return"x-world/x-vrml";case"flv":return"video/x-flv";case"fsscript":return"application/fsharp-script";case"fsx":return"application/fsharp-script";case"generictest":return"application/xml";case"gif":return"image/gif";case"group":return"text/x-ms-group";case"gsm":return"audio/x-gsm";case"gtar":return"application/x-gtar";case"gz":return"application/x-gzip";case"h":return"text/plain";case"hdf":return"application/x-hdf";case"hdml":return"text/x-hdml";case"hhc":return"application/x-oleobject";case"hhk":return"application/octet-stream";case"hhp":return"application/octet-stream";case"hlp":return"application/winhlp";case"hpp":return"text/plain";case"hqx":return"application/mac-binhex40";case"hta":return"application/hta";case"htc":return"text/x-component";case"htm":return"text/html";case"html":return"text/html";case"htt":return"text/webviewhtml";case"hxa":return"application/xml";case"hxc":return"application/xml";case"hxd":return"application/octet-stream";case"hxe":return"application/xml";case"hxf":return"application/xml";case"hxh":return"application/octet-stream";case"hxi":return"application/octet-stream";case"hxk":return"application/xml";case"hxq":return"application/octet-stream";case"hxr":return"application/octet-stream";case"hxs":return"application/octet-stream";case"hxt":return"text/html";case"hxv":return"application/xml";case"hxw":return"application/octet-stream";case"hxx":return"text/plain";case"i":return"text/plain";case"ico":return"image/x-icon";case"ics":return"application/octet-stream";case"idl":return"text/plain";case"ief":return"image/ief";case"iii":return"application/x-iphone";case"inc":return"text/plain";case"inf":return"application/octet-stream";case"inl":return"text/plain";case"ins":return"application/x-internet-signup";case"ipa":return"application/x-itunes-ipa";case"ipg":return"application/x-itunes-ipg";case"ipproj":return"text/plain";case"ipsw":return"application/x-itunes-ipsw";case"iqy":return"text/x-ms-iqy";case"isp":return"application/x-internet-signup";case"ite":return"application/x-itunes-ite";case"itlp":return"application/x-itunes-itlp";case"itms":return"application/x-itunes-itms";case"itpc":return"application/x-itunes-itpc";case"ivf":return"video/x-ivf";case"jar":return"application/java-archive";case"java":return"application/octet-stream";case"jck":return"application/liquidmotion";case"jcz":return"application/liquidmotion";case"jfif":return"image/pjpeg";case"jnlp":return"application/x-java-jnlp-file";case"jpb":return"application/octet-stream";case"jpe":return"image/jpeg";case"jpeg":return"image/jpeg";case"jpg":return"image/jpeg";case"js":return"application/x-javascript";case"jsx":return"text/jscript";case"jsxbin":return"text/plain";case"latex":return"application/x-latex";case"library-ms":return"application/windows-library+xml";case"lit":return"application/x-ms-reader";case"loadtest":return"application/xml";case"lpk":return"application/octet-stream";case"lsf":return"video/x-la-asf";case"lst":return"text/plain";case"lsx":return"video/x-la-asf";case"lzh":return"application/octet-stream";case"m13":return"application/x-msmediaview";case"m14":return"application/x-msmediaview";case"m1v":return"video/mpeg";case"m2t":return"video/vnd.dlna.mpeg-tts";case"m2ts":return"video/vnd.dlna.mpeg-tts";case"m2v":return"video/mpeg";case"m3u":return"audio/x-mpegurl";case"m3u8":return"audio/x-mpegurl";case"m4a":return"audio/m4a";case"m4b":return"audio/m4b";case"m4p":return"audio/m4p";case"m4r":return"audio/x-m4r";case"m4v":return"video/x-m4v";case"mac":return"image/x-macpaint";case"mak":return"text/plain";case"man":return"application/x-troff-man";case"manifest":return"application/x-ms-manifest";case"map":return"text/plain";case"master":return"application/xml";case"mda":return"application/msaccess";case"mdb":return"application/x-msaccess";case"mde":return"application/msaccess";case"mdp":return"application/octet-stream";case"me":return"application/x-troff-me";case"mfp":return"application/x-shockwave-flash";case"mht":return"message/rfc822";case"mhtml":return"message/rfc822";case"mid":return"audio/mid";case"midi":return"audio/mid";case"mix":return"application/octet-stream";case"mk":return"text/plain";case"mmf":return"application/x-smaf";case"mno":return"text/xml";case"mny":return"application/x-msmoney";case"mod":return"video/mpeg";case"mov":return"video/quicktime";case"movie":return"video/x-sgi-movie";case"mp2":return"video/mpeg";case"mp2v":return"video/mpeg";case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"mp4v":return"video/mp4";case"mpa":return"video/mpeg";case"mpe":return"video/mpeg";case"mpeg":return"video/mpeg";case"mpf":return"application/vnd.ms-mediapackage";case"mpg":return"video/mpeg";case"mpp":return"application/vnd.ms-project";case"mpv2":return"video/mpeg";case"mqv":return"video/quicktime";case"ms":return"application/x-troff-ms";case"msi":return"application/octet-stream";case"mso":return"application/octet-stream";case"mts":return"video/vnd.dlna.mpeg-tts";case"mtx":return"application/xml";case"mvb":return"application/x-msmediaview";case"mvc":return"application/x-miva-compiled";case"mxp":return"application/x-mmxp";case"nc":return"application/x-netcdf";case"nsc":return"video/x-ms-asf";case"nws":return"message/rfc822";case"ocx":return"application/octet-stream";case"oda":return"application/oda";case"odc":return"text/x-ms-odc";case"odh":return"text/plain";case"odl":return"text/plain";case"odp":return"application/vnd.oasis.opendocument.presentation";case"ods":return"application/oleobject";case"odt":return"application/vnd.oasis.opendocument.text";case"one":return"application/onenote";case"onea":return"application/onenote";case"onepkg":return"application/onenote";case"onetmp":return"application/onenote";case"onetoc":return"application/onenote";case"onetoc2":return"application/onenote";case"orderedtest":return"application/xml";case"osdx":return"application/opensearchdescription+xml";case"p10":return"application/pkcs10";case"p12":return"application/x-pkcs12";case"p7b":return"application/x-pkcs7-certificates";case"p7c":return"application/pkcs7-mime";case"p7m":return"application/pkcs7-mime";case"p7r":return"application/x-pkcs7-certreqresp";case"p7s":return"application/pkcs7-signature";case"pbm":return"image/x-portable-bitmap";case"pcast":return"application/x-podcast";case"pct":return"image/pict";case"pcx":return"application/octet-stream";case"pcz":return"application/octet-stream";case"pdf":return"application/pdf";case"pfb":return"application/octet-stream";case"pfm":return"application/octet-stream";case"pfx":return"application/x-pkcs12";case"pgm":return"image/x-portable-graymap";case"pic":return"image/pict";case"pict":return"image/pict";case"pkgdef":return"text/plain";case"pkgundef":return"text/plain";case"pko":return"application/vnd.ms-pki.pko";case"pls":return"audio/scpls";case"pma":return"application/x-perfmon";case"pmc":return"application/x-perfmon";case"pml":return"application/x-perfmon";case"pmr":return"application/x-perfmon";case"pmw":return"application/x-perfmon";case"png":return"image/png";case"pnm":return"image/x-portable-anymap";case"pnt":return"image/x-macpaint";case"pntg":return"image/x-macpaint";case"pnz":return"image/png";case"pot":return"application/vnd.ms-powerpoint";case"potm":return"application/vnd.ms-powerpoint.template.macroenabled.12";case"potx":return"application/vnd.openxmlformats-officedocument.presentationml.template";case"ppa":return"application/vnd.ms-powerpoint";case"ppam":return"application/vnd.ms-powerpoint.addin.macroenabled.12";case"ppm":return"image/x-portable-pixmap";case"pps":return"application/vnd.ms-powerpoint";case"ppsm":return"application/vnd.ms-powerpoint.slideshow.macroenabled.12";case"ppsx":return"application/vnd.openxmlformats-officedocument.presentationml.slideshow";case"ppt":return"application/vnd.ms-powerpoint";case"pptm":return"application/vnd.ms-powerpoint.presentation.macroenabled.12";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"prf":return"application/pics-rules";case"prm":return"application/octet-stream";case"prx":return"application/octet-stream";case"ps":return"application/postscript";case"psc1":return"application/powershell";case"psd":return"application/octet-stream";case"psess":return"application/xml";case"psm":return"application/octet-stream";case"psp":return"application/octet-stream";case"pub":return"application/x-mspublisher";case"pwz":return"application/vnd.ms-powerpoint";case"qht":return"text/x-html-insertion";case"qhtm":return"text/x-html-insertion";case"qt":return"video/quicktime";case"qti":return"image/x-quicktime";case"qtif":return"image/x-quicktime";case"qtl":return"application/x-quicktimeplayer";case"qxd":return"application/octet-stream";case"ra":return"audio/x-pn-realaudio";case"ram":return"audio/x-pn-realaudio";case"rar":return"application/octet-stream";case"ras":return"image/x-cmu-raster";case"rat":return"application/rat-file";case"rc":return"text/plain";case"rc2":return"text/plain";case"rct":return"text/plain";case"rdlc":return"application/xml";case"resx":return"application/xml";case"rf":return"image/vnd.rn-realflash";case"rgb":return"image/x-rgb";case"rgs":return"text/plain";case"rm":return"application/vnd.rn-realmedia";case"rmi":return"audio/mid";case"rmp":return"application/vnd.rn-rn_music_package";case"roff":return"application/x-troff";case"rpm":return"audio/x-pn-realaudio-plugin";case"rqy":return"text/x-ms-rqy";case"rtf":return"application/rtf";case"rtx":return"text/richtext";case"ruleset":return"application/xml";case"s":return"text/plain";case"safariextz":return"application/x-safari-safariextz";case"scd":return"application/x-msschedule";case"sct":return"text/scriptlet";case"sd2":return"audio/x-sd2";case"sdp":return"application/sdp";case"sea":return"application/octet-stream";case"searchconnector-ms":return"application/windows-search-connector+xml";case"setpay":return"application/set-payment-initiation";case"setreg":return"application/set-registration-initiation";case"settings":return"application/xml";case"sgimb":return"application/x-sgimb";case"sgml":return"text/sgml";case"sh":return"application/x-sh";case"shar":return"application/x-shar";case"shtml":return"text/html";case"sit":return"application/x-stuffit";case"sitemap":return"application/xml";case"skin":return"application/xml";case"sldm":return"application/vnd.ms-powerpoint.slide.macroenabled.12";case"sldx":return"application/vnd.openxmlformats-officedocument.presentationml.slide";case"slk":return"application/vnd.ms-excel";case"sln":return"text/plain";case"slupkg-ms":return"application/x-ms-license";case"smd":return"audio/x-smd";case"smi":return"application/octet-stream";case"smx":return"audio/x-smd";case"smz":return"audio/x-smd";case"snd":return"audio/basic";case"snippet":return"application/xml";case"snp":return"application/octet-stream";case"sol":return"text/plain";case"sor":return"text/plain";case"spc":return"application/x-pkcs7-certificates";case"spl":return"application/futuresplash";case"src":return"application/x-wais-source";case"srf":return"text/plain";case"ssisdeploymentmanifest":return"text/xml";case"ssm":return"application/streamingmedia";case"sst":return"application/vnd.ms-pki.certstore";case"stl":return"application/vnd.ms-pki.stl";case"sv4cpio":return"application/x-sv4cpio";case"sv4crc":return"application/x-sv4crc";case"svc":return"application/xml";case"swf":return"application/x-shockwave-flash";case"t":return"application/x-troff";case"tar":return"application/x-tar";case"tcl":return"application/x-tcl";case"testrunconfig":return"application/xml";case"testsettings":return"application/xml";case"tex":return"application/x-tex";case"texi":return"application/x-texinfo";case"texinfo":return"application/x-texinfo";case"tgz":return"application/x-compressed";case"thmx":return"application/vnd.ms-officetheme";case"thn":return"application/octet-stream";case"tif":return"image/tiff";case"tiff":return"image/tiff";case"tlh":return"text/plain";case"tli":return"text/plain";case"toc":return"application/octet-stream";case"tr":return"application/x-troff";case"trm":return"application/x-msterminal";case"trx":return"application/xml";case"ts":return"video/vnd.dlna.mpeg-tts";case"tsv":return"text/tab-separated-values";case"ttf":return"application/octet-stream";case"tts":return"video/vnd.dlna.mpeg-tts";case"txt":return"text/plain";case"u32":return"application/octet-stream";case"uls":return"text/iuls";case"user":return"text/plain";case"ustar":return"application/x-ustar";case"vb":return"text/plain";case"vbdproj":return"text/plain";case"vbk":return"video/mpeg";case"vbproj":return"text/plain";case"vbs":return"text/vbscript";case"vcf":return"text/x-vcard";case"vcproj":return"application/xml";case"vcs":return"text/plain";case"vcxproj":return"application/xml";case"vddproj":return"text/plain";case"vdp":return"text/plain";case"vdproj":return"text/plain";case"vdx":return"application/vnd.ms-visio.viewer";case"vml":return"text/xml";case"vscontent":return"application/xml";case"vsct":return"text/xml";case"vsd":return"application/vnd.visio";case"vsi":return"application/ms-vsi";case"vsix":return"application/vsix";case"vsixlangpack":return"text/xml";case"vsixmanifest":return"text/xml";case"vsmdi":return"application/xml";case"vspscc":return"text/plain";case"vss":return"application/vnd.visio";case"vsscc":return"text/plain";case"vssettings":return"text/xml";case"vssscc":return"text/plain";case"vst":return"application/vnd.visio";case"vstemplate":return"text/xml";case"vsto":return"application/x-ms-vsto";case"vsw":return"application/vnd.visio";case"vsx":return"application/vnd.visio";case"vtx":return"application/vnd.visio";case"wav":return"audio/wav";case"wave":return"audio/wav";case"wax":return"audio/x-ms-wax";case"wbk":return"application/msword";case"wbmp":return"image/vnd.wap.wbmp";case"wcm":return"application/vnd.ms-works";case"wdb":return"application/vnd.ms-works";case"wdp":return"image/vnd.ms-photo";case"webarchive":return"application/x-safari-webarchive";case"webtest":return"application/xml";case"wiq":return"application/xml";case"wiz":return"application/msword";case"wks":return"application/vnd.ms-works";case"wlmp":return"application/wlmoviemaker";case"wlpginstall":return"application/x-wlpg-detect";case"wlpginstall3":return"application/x-wlpg3-detect";case"wm":return"video/x-ms-wm";case"wma":return"audio/x-ms-wma";case"wmd":return"application/x-ms-wmd";case"wmf":return"application/x-msmetafile";case"wml":return"text/vnd.wap.wml";case"wmlc":return"application/vnd.wap.wmlc";case"wmls":return"text/vnd.wap.wmlscript";case"wmlsc":return"application/vnd.wap.wmlscriptc";case"wmp":return"video/x-ms-wmp";case"wmv":return"video/x-ms-wmv";case"wmx":return"video/x-ms-wmx";case"wmz":return"application/x-ms-wmz";case"wpl":return"application/vnd.ms-wpl";case"wps":return"application/vnd.ms-works";case"wri":return"application/x-mswrite";case"wrl":return"x-world/x-vrml";case"wrz":return"x-world/x-vrml";case"wsc":return"text/scriptlet";case"wsdl":return"text/xml";case"wvx":return"video/x-ms-wvx";case"x":return"application/directx";case"xaf":return"x-world/x-vrml";case"xaml":return"application/xaml+xml";case"xap":return"application/x-silverlight-app";case"xbap":return"application/x-ms-xbap";case"xbm":return"image/x-xbitmap";case"xdr":return"text/plain";case"xht":return"application/xhtml+xml";case"xhtml":return"application/xhtml+xml";case"xla":return"application/vnd.ms-excel";case"xlam":return"application/vnd.ms-excel.addin.macroenabled.12";case"xlc":return"application/vnd.ms-excel";case"xld":return"application/vnd.ms-excel";case"xlk":return"application/vnd.ms-excel";case"xll":return"application/vnd.ms-excel";case"xlm":return"application/vnd.ms-excel";case"xls":return"application/vnd.ms-excel";case"xlsb":return"application/vnd.ms-excel.sheet.binary.macroenabled.12";case"xlsm":return"application/vnd.ms-excel.sheet.macroenabled.12";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xlt":return"application/vnd.ms-excel";case"xltm":return"application/vnd.ms-excel.template.macroenabled.12";case"xltx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.template";case"xlw":return"application/vnd.ms-excel";case"xml":return"text/xml";case"xmta":return"application/xml";case"xof":return"x-world/x-vrml";case"xoml":return"text/plain";case"xpm":return"image/x-xpixmap";case"xps":return"application/vnd.ms-xpsdocument";case"xrm-ms":return"text/xml";case"xsc":return"application/xml";case"xsd":return"text/xml";case"xsf":return"text/xml";case"xsl":return"text/xml";case"xslt":return"text/xml";case"xsn":return"application/octet-stream";case"xss":return"application/xml";case"xtp":return"application/octet-stream";case"xwd":return"image/x-xwindowdump";case"z":return"application/x-compress";case"zip":return"application/x-zip-compressed";default:return"application/octet-stream"}}},y(Ye,"SystemId","1"),y(Ye,"TenantField","t"),y(Ye,"Pixel","px"),y(Ye,"FeatureField","f"),y(Ye,"QuestionMark","?"),y(Ye,"Amp","&"),y(Ye,"BreakLine","<br />"),y(Ye,"ApplicationJson","application/json"),y(Ye,"Authorization","Authorization"),y(Ye,"SelfVendorId","65"),y(Ye,"IdField","Id"),y(Ye,"NewLine",`\r
`),y(Ye,"Indent","	"),y(Ye,"Dot","."),y(Ye,"Slash","/"),y(Ye,"Hash","#"),y(Ye,"Comma",";"),y(Ye,"Semicolon",";"),y(Ye,"Space"," "),y(Ye,"ComponentId","20"),y(Ye,"ComponentGroupId","30"),y(Ye,"HistoryId","4199"),y(Ye,"InsertedBy","InsertedBy"),y(Ye,"OwnerUserIds","OwnerUserIds"),y(Ye,"OwnerRoleIds","OwnerRoleIds"),y(Ye,"ComQuery","/api/feature/go"),y(Ye,"PatchSvc","/api/feature/run"),y(Ye,"PatchesSvc","user/SavePatches"),y(Ye,"UserSvc","/user/svc"),y(Ye,"DeleteSvc","/api/feature/delete"),y(Ye,"DeactivateSvc","/user/Deactivate"),y(Ye,"ExportExcel","/user/excel"),y(Ye,"FileSvc","/user/file"),y(Ye,"Return","return "),y(Ye,"SpecialChar",{"+":"%2B","/":"%2F","?":"%3F","#":"%23","&":"%26"}),y(Ye,"ReverseSpecialChar",{"%2B":"+","%2F":"/","%3F":"?","%23":"#","%26":"&"}),y(Ye,"NullFormatHandler",i=>"null"),y(Ye,"NotFoundHandler",i=>"{"+i+"}"),y(Ye,"EmptyFormat",i=>""),Ye);class OutOfViewPort{constructor(){this.Top=!1,this.Left=!1,this.Right=!1,this.Bottom=!1,this.Any=!1,this.All=!1}}class Str{static Format(i,...e){return i.replace(/{(\d+)}/g,(t,s)=>typeof e[s]<"u"?e[s]:t)}static Join(i,...e){e.join(i)}}y(Str,"Empty",""),y(Str,"Comma",","),y(Str,"Type","string");function HasElement(){return this!=null&&this.length>0}Array.prototype.Nothing=function(){return this.length===0};Array.prototype.Flattern=function(a){if(this.Nothing())return this;var i=this.Select(e=>a(e)).Where(e=>e!=null).SelectMany(e=>e);return i.Nothing()?this:this.concat(i.Flattern(a))};Array.prototype.Any=function(a){if(!a)return this.length>0;for(let i=0;i<this.length;i++)if(a(this[i]))return!0};Array.prototype.Where=Array.prototype.filter;Array.prototype.SelectMany=Array.prototype.flatMap;Array.prototype.SelectForEach=Array.prototype.map;Array.prototype.Select=Array.prototype.map;Array.prototype.HasElement=HasElement;Array.prototype.ToArray=function(){return this};Array.prototype.Contains=function(a){return this.indexOf(a)!==-1};Array.prototype.Remove=function(a){var i=this.indexOf(a);i!==-1&&this.splice(i,1)};Array.prototype.ToDictionary=function(a,i){return i==null&&(i=e=>e),this.reduce((e,t)=>(e[a(t)]=i(t),e),{})};Array.prototype.FirstOrDefault=function(a=null){if(!a)return this.length>0?this[0]:null;for(let i=0;i<this.length;i++)if(a(this[i]))return this[i]};Array.prototype.GroupBy=function(a){const i=this.reduce((e,t)=>{const s=a(t),n=JSON.stringify(s);return e[n]||(e[n]=[],e[n].keyObj=s),e[n].push(t),e},{});return Object.keys(i).map(e=>{const t=i[e];return t.Key=i[e].keyObj,t})};Array.prototype.ForEach=Array.prototype.forEach;Array.prototype.DistinctBy=function(a){return this.GroupBy(a).FirstOrDefault()};Array.prototype.Distinct=function(){return this.GroupBy(a=>a).FirstOrDefault()};Array.prototype.ForEachAsync=async function(a){var i=this.map(a);return await Promise.all(i),this};Array.prototype.Clear=function(){for(;this.length;)this.pop()};Array.prototype.AddRange=Array.prototype.push;Array.prototype.Combine=function(a=null,i=","){return a?this.map(a).join(i):this.join(i)};Array.prototype.OrderBy=function(a,i,e=!0,t=!0){return this.slice().sort((s,n)=>{const r=a(s),l=a(n);if(r!=l)return r>l?e?1:-1:e?-1:1;const u=i(s),p=i(n);return u>p?t?1:-1:t?-1:1})};Array.prototype.All=Array.prototype.every;Array.prototype.IndexOf=Array.prototype.findIndex;Array.prototype.LastOrDefault=function(a=null){return a?this.findLast(a):this.length>0?this[this.length-1]:null};Promise.prototype.Done=Promise.prototype.then;Promise.prototype.done=Promise.prototype.then;Date.prototype.addSeconds=function(a){var i=new Date(this.valueOf());return i.setSeconds(i.getSeconds()+a),i};Date.prototype.addMinutes=function(a){var i=new Date(this.valueOf());return i.setMinutes(i.getMinutes()+a),i};Date.prototype.addHours=function(a){var i=new Date(this.valueOf());return i.setHours(i.getHours()+a),i};Date.prototype.addDays=function(a){var i=new Date(this.valueOf());return i.setDate(i.getDate()+a),i};Date.prototype.addMonths=function(a){var i=new Date(this.valueOf());return i.setMonth(i.getMonth()+a),i};Date.prototype.addYears=function(a){var i=new Date(this.valueOf());return i.setFullYear(i.getFullYear()+a),i};HTMLElement.prototype.HasClass=function(a){return this.classList.contains(a)};HTMLElement.prototype.ReplaceClass=function(a,i){this.classList.remove(a),this.classList.add(i)};Number.prototype.leadingDigit=function(){return this<10?"0"+this:""+this};Event.prototype.Top=function(){return this.clientY};Event.prototype.Left=function(){return parseFloat(this.clientX)};Event.prototype.KeyCode=function(){return this.keyCode??-1};Event.prototype.KeyCodeEnum=function(){return this.keyCode??-1};Event.prototype.ShiftKey=function(){return this.shiftKey};Event.prototype.CtrlOrMetaKey=function(){return this.ctrlKey||this.metaKey};Event.prototype.AltKey=function(){return this.altKey};Event.prototype.GetChecked=function(){return this.target&&this.target.type==="checkbox"?this.target.checked:!1};Event.prototype.GetInputText=function(){return this.target&&typeof this.target.value=="string"?this.target.value:""};HTMLElement.prototype.GetFullHeight=function(){if(!this)return 0;const a=window.getComputedStyle(this),i=parseFloat(a.marginTop)||0,e=parseFloat(a.marginBottom)||0;return this.scrollHeight+i+e};HTMLElement.prototype.AddClass=function(a){!this||!a||this.classList.add(a)};HTMLElement.prototype.RemoveClass=function(a){!this||!a||this.classList.remove(a)};HTMLElement.prototype.ToggleClass=function(a){!this||!a||this.classList.toggle(a)};HTMLElement.prototype.Show=function(){this&&(this.style.display="")};HTMLElement.prototype.GetComputedStyle=function(){return window.getComputedStyle(this)};HTMLElement.prototype.Hide=function(){this&&(this.style.display="none")};HTMLElement.prototype.Hidden=function(){if(!this)return!0;const a=this.getBoundingClientRect();return window.getComputedStyle(this).display==="none"||a.bottom===0&&a.top===0&&a.width===0&&a.height===0};HTMLElement.prototype.OutOfViewport=function(){const a=this.getBoundingClientRect(),i=new OutOfViewPort;return i.Top=a.top<0,i.Left=a.left<0,i.Bottom=a.bottom>window.innerHeight,i.Right=a.right>window.innerWidth,i.Any=i.Top||i.Left||i.Bottom||i.Right,i.All=i.Top&&i.Left&&i.Bottom&&i.Right,i};HTMLCollection.prototype.forEach=function(a){Array.from(this).forEach(a)};class ValidationRule{constructor(i,e,t,s,n,r){this.Rule=i,this.Message=e,this.Value1=t,this.Value2=s,this.Condition=n,this.RejectInvalid=r}}y(ValidationRule,"Required","required"),y(ValidationRule,"MinLength","minLength"),y(ValidationRule,"CheckLength","checkLength"),y(ValidationRule,"MaxLength","maxLength"),y(ValidationRule,"GreaterThanOrEqual","min"),y(ValidationRule,"LessThanOrEqual","max"),y(ValidationRule,"GreaterThan","gt"),y(ValidationRule,"LessThan","lt"),y(ValidationRule,"Equal","eq"),y(ValidationRule,"NotEqual","ne"),y(ValidationRule,"RegEx","regEx"),y(ValidationRule,"Unique","unique");class EventType{}y(EventType,"Abort","abort"),y(EventType,"AfterPrint","afterprint"),y(EventType,"AnimationEnd","animationend"),y(EventType,"AnimationIteration","animationiteration"),y(EventType,"AnimationStart","animationstart"),y(EventType,"BeforePrint","beforeprint"),y(EventType,"BeforeUnload","beforeunload"),y(EventType,"Blocked","blocked"),y(EventType,"Blur","blur"),y(EventType,"Cached","cached"),y(EventType,"CanPlay","canplay"),y(EventType,"CanPlayThrough","canplaythrough"),y(EventType,"Change","change"),y(EventType,"Checking","checking"),y(EventType,"Click","click"),y(EventType,"Close","close"),y(EventType,"Complete","complete"),y(EventType,"CompositionEnd","compositionend"),y(EventType,"CompositionStart","compositionstart"),y(EventType,"CompositionUpdate","compositionupdate"),y(EventType,"ContextMenu","contextmenu"),y(EventType,"Copy","copy"),y(EventType,"Cut","cut"),y(EventType,"DblClick","dblclick"),y(EventType,"DeviceLight","devicelight"),y(EventType,"DeviceMotion","devicemotion"),y(EventType,"DeviceOrientation","deviceorientation"),y(EventType,"DeviceProximity","deviceproximity"),y(EventType,"DischargingTimeChange","dischargingtimechange"),y(EventType,"DOMContentLoaded","domcontentloaded"),y(EventType,"Downloading","downloading"),y(EventType,"Drag","drag"),y(EventType,"DragEnd","dragend"),y(EventType,"DragEnter","dragenter"),y(EventType,"DragLeave","dragleave"),y(EventType,"DragOver","dragover"),y(EventType,"DragStart","dragstart"),y(EventType,"Drop","drop"),y(EventType,"DurationChange","durationchange"),y(EventType,"Emptied","emptied"),y(EventType,"Ended","ended"),y(EventType,"Error","error"),y(EventType,"Focus","focus"),y(EventType,"FocusIn","focusin"),y(EventType,"FocusOut","focusout"),y(EventType,"FullScreenChange","fullscreenchange"),y(EventType,"FullScreenError","fullscreenerror"),y(EventType,"GamepadConnected","gamepadconnected"),y(EventType,"GamepadDisconnected","gamepaddisconnected"),y(EventType,"HashChange","hashchange"),y(EventType,"Input","input"),y(EventType,"Invalid","invalid"),y(EventType,"KeyDown","keydown"),y(EventType,"KeyPress","keypress"),y(EventType,"KeyUp","keyup"),y(EventType,"LevelChange","levelchange"),y(EventType,"Load","load"),y(EventType,"LoadedData","loadeddata"),y(EventType,"LoadedMetaData","loadedmetadata"),y(EventType,"LoadEnd","loadend"),y(EventType,"LoadStart","loadstart"),y(EventType,"Message","message"),y(EventType,"MouseDown","mousedown"),y(EventType,"MouseEnter","mouseenter"),y(EventType,"MouseLeave","mouseleave"),y(EventType,"MouseMove","mousemove"),y(EventType,"MouseOut","mouseout"),y(EventType,"MouseOver","mouseover"),y(EventType,"MouseUp","mouseup"),y(EventType,"NoUpdate","noupdate"),y(EventType,"Obsolete","obsolete"),y(EventType,"Offline","offline"),y(EventType,"Online","online"),y(EventType,"Open","open"),y(EventType,"OrientationChange","orientationchange"),y(EventType,"PageHide","pagehide"),y(EventType,"PageShow","pageshow"),y(EventType,"Paste","paste"),y(EventType,"Pause","pause"),y(EventType,"PointerLockChange","pointerlockchange"),y(EventType,"PointerLockError","pointerlockerror"),y(EventType,"Play","play"),y(EventType,"Playing","playing"),y(EventType,"PopState","popstate"),y(EventType,"Progress","progress"),y(EventType,"RateChange","ratechange"),y(EventType,"ReadyStateChange","readystatechange"),y(EventType,"RepeatEvent","repeatevent"),y(EventType,"Reset","reset"),y(EventType,"Resize","resize"),y(EventType,"Scroll","scroll"),y(EventType,"Seeked","seeked"),y(EventType,"Seeking","seeking"),y(EventType,"Select","select"),y(EventType,"Show","show"),y(EventType,"Stalled","stalled"),y(EventType,"Storage","storage"),y(EventType,"Submit","submit"),y(EventType,"Success","success"),y(EventType,"Suspend","suspend"),y(EventType,"SVGAbort","svgabort"),y(EventType,"SVGError","svgerror"),y(EventType,"SVGLoad","svgload"),y(EventType,"SVGResize","svgresize"),y(EventType,"SVGScroll","svgscroll"),y(EventType,"SVGUnload","svgunload"),y(EventType,"SVGZoom","svgzoom"),y(EventType,"Timeout","timeout"),y(EventType,"TimeUpdate","timeupdate"),y(EventType,"TouchCancel","touchcancel"),y(EventType,"TouchEnd","touchend"),y(EventType,"TouchEnter","touchenter"),y(EventType,"TouchLeave","touchleave"),y(EventType,"TouchMove","touchmove"),y(EventType,"TouchStart","touchstart"),y(EventType,"TransitionEnd","transitionend"),y(EventType,"Unload","unload"),y(EventType,"UpdateReady","updateready"),y(EventType,"UpgradeNeeded","upgradeneeded"),y(EventType,"UserProximity","userproximity"),y(EventType,"VersionChange","versionchange"),y(EventType,"VisibilityChange","visibilitychange"),y(EventType,"VolumeChange","volumechange"),y(EventType,"Waiting","waiting"),y(EventType,"Wheel","wheel");class ComponentType{}y(ComponentType,"Datepicker","Datepicker"),y(ComponentType,"ListView","ListView"),y(ComponentType,"GridView","GridView"),y(ComponentType,"ListViewItem","ListViewItem"),y(ComponentType,"EditForm","EditForm"),y(ComponentType,"Checkbox","Checkbox"),y(ComponentType,"Numbox","Numbox"),y(ComponentType,"Number","Numbox"),y(ComponentType,"Textbox","Textbox"),y(ComponentType,"Textarea","Textarea"),y(ComponentType,"SearchEntry","SearchEntry"),y(ComponentType,"Section","Section"),y(ComponentType,"MultipleSearchEntry","MultipleSearchEntry");class Uuid7{static TimeNs(){return 100*new Date().getTime()}static NewGuid(){return"-"+this.Guid()}static Guid(i=null){let t;if(i===null)t=this.TimeNs();else{if(i===0)return"00000000-0000-0000-0000-000000000000";t=i}let s=BigInt(t),n=BigInt(s/16000000000n),r=s%16000000000n,l=BigInt(r*0x10000n/16000000000n),u;i!==null?(s===this._x&&n===this._y&&l===this._z?this._seq<16383&&(this._seq+=1):(this._seq=0,this._x=s,this._y=n,this._z=l),u=this._seq):(s===this._x_asOf&&n===this._y_asOf&&l===this._z_asOf?this._seq_asOf<16383&&(this._seq_asOf+=1):(this._seq_asOf=0,this._x_asOf=s,this._y_asOf=n,this._z_asOf=l),u=this._seq_asOf);let p=new Uint8Array(8);crypto.getRandomValues(p),p[0]=128|u>>8,p[1]=u&255;let g=new Uint8Array(16);return g.set(new Uint32Array([Number(s),Number(n),Number(l)])),g.set(p,8),[this._toHex(g[3],2),this._toHex(g[2],2),this._toHex(g[1],2),this._toHex(g[0],2),"-",this._toHex(g[5],2),this._toHex(g[4],2),"-",this._toHex(g[7],2),this._toHex(g[6],2),"-",this._toHex(g[8],2),this._toHex(g[9],2),"-",this._toHex(g[10],2),this._toHex(g[11],2),this._toHex(g[12],2),this._toHex(g[13],2),this._toHex(g[14],2),this._toHex(g[15],2)].join("")}static _toHex(i,e){return i.toString(16).padStart(e,"0")}static String(i=null){return this.Guid(i)}static Id25(i=null){let e=this.Guid(i);return this.Id25Internal(e)}static Id25Internal(i){const e="0123456789abcdefghijkmnopqrstuvwxyz";let t=new Array(25),s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);let n=this.ArrToBigInt(s),r,l=BigInt(e.length);for(let u=24;u>=0;u--)[n,r]=[n/l,n%l],t[u]=e[Number(r)];return t.join("")}static ArrToBigInt(i){return i.reduce((e,t)=>e<<8n|BigInt(t),0n)}static CheckTimingPrecision(){let i=new Set,e=0,t=Date.now();for(;Date.now()-t<500&&e<1e3;)i.add(this.TimeNs()),e+=1;let s=i.size,n=1e6*(Date.now()-t)/s,r=1e6*(Date.now()-t)/e;return s===e?`Precision is ${n.toFixed(0)}ns with no repeats in ${e} loops taking ${Date.now()-t}ms`:`Precision is ${n.toFixed(0)}ns rather than ${r.toFixed(0)}ns (${s} unique timestamps from ${e} loops taking ${Date.now()-t}ms)`}}const It=class It{static get Culture(){if(It._culture!==void 0&&It._culture!==null)return It._culture.replace('"',"");const i=localStorage.getItem("Culture");return i!==null&&(It._culture=i.replace('"',"")),i!==null?i.replace('"',""):null}static set Culture(i){It._culture!==i&&(It._culture=i!==null?i.replace('"',""):null,localStorage.setItem("Culture",i!==null?i.replace('"',""):null))}static SetCultureAndTranslate(i){It.Culture=i,It.Translate()}static Get(i){if(i===null||i==="")return"";if(It.Culture===null)return i;const e=It._dictionaries[It.Culture];if(e==null){const t=localStorage.getItem(It.Culture);t!==null&&(It._dictionaries[It.Culture]=t)}return e!=null&&e[i]!==void 0?e[i]:i}static async Translate(i=!0){return new Promise((t,s)=>{const n=new SqlViewModel;n.DataConn=Client.MetaConn,n.MetaConn=Client.MetaConn,n.ComId="Dictionary",n.Action="GetAll",n.AnnonymousTenant=Client.Tenant,Client.Instance.UserSvc(n,i).Done(l=>{It.DictionaryLoaded(l[0].map(u=>u.As())),t(!0)})})}static DictionaryLoaded(i){const e=i.filter((t,s,n)=>n.findIndex(r=>r.Key===t.Key)===s).reduce((t,s)=>(t[s.Key]=s.Value,t),{});It._dictionaries[It.Culture]=e,localStorage.setItem(It.Culture,e),It.Travel(document).forEach(t=>{const s=t[It.LangProp];s==null||s===""||s.split(",").forEach(n=>{const r=t[It.LangKey+n],l=t[It.LangParam+n],u=e[r]!==void 0?e[r]:r;l!=null&&l.length>0?t[n]=Str.Format(u,l):t[n]=u})})}static*Travel(i){yield i;for(const e of i.childNodes)yield*this.Travel(e)}};y(It,"LangProp","langprop"),y(It,"LangKey","langkey"),y(It,"LangParam","Para"),y(It,"LangCode","langcode"),y(It,"Active","Active"),y(It,"_dictionaries",{}),y(It,"_culture");let LangSelect=It;class ElementType{static get a(){return"a"}static get abbr(){return"abbr"}static get address(){return"address"}static get area(){return"area"}static get article(){return"article"}static get aside(){return"aside"}static get audio(){return"audio"}static get b(){return"b"}static get base(){return"base"}static get bdi(){return"bdi"}static get bdo(){return"bdo"}static get blockquote(){return"blockquote"}static get button(){return"button"}static get canvas(){return"canvas"}static get caption(){return"caption"}static get cite(){return"cite"}static get code(){return"code"}static get col(){return"col"}static get colgroup(){return"colgroup"}static get datalist(){return"datalist"}static get dd(){return"dd"}static get del(){return"del"}static get details(){return"details"}static get dfn(){return"dfn"}static get div(){return"div"}static get dl(){return"dl"}static get dt(){return"dt"}static get em(){return"em"}static get embed(){return"embed"}static get fieldset(){return"fieldset"}static get figcaption(){return"figcaption"}static get figure(){return"figure"}static get footer(){return"footer"}static get form(){return"form"}static get h1(){return"h1"}static get h2(){return"h2"}static get h3(){return"h3"}static get h4(){return"h4"}static get h5(){return"h5"}static get h6(){return"h6"}static get head(){return"head"}static get header(){return"header"}static get i(){return"i"}static get iframe(){return"iframe"}static get img(){return"img"}static get input(){return"input"}static get ins(){return"ins"}static get kbd(){return"kbd"}static get keygen(){return"keygen"}static get label(){return"label"}static get legend(){return"legend"}static get li(){return"li"}static get link(){return"link"}static get main(){return"main"}static get map(){return"map"}static get mark(){return"mark"}static get menu(){return"menu"}static get menuitem(){return"menuitem"}static get meta(){return"meta"}static get meter(){return"meter"}static get nav(){return"nav"}static get object(){return"object"}static get ol(){return"ol"}static get optgroup(){return"optgroup"}static get option(){return"option"}static get output(){return"output"}static get p(){return"p"}static get param(){return"param"}static get pre(){return"pre"}static get progress(){return"progress"}static get q(){return"q"}static get rp(){return"rp"}static get rt(){return"rt"}static get ruby(){return"ruby"}static get s(){return"s"}static get samp(){return"samp"}static get script(){return"script"}static get section(){return"section"}static get select(){return"select"}static get small(){return"small"}static get source(){return"source"}static get span(){return"span"}static get strong(){return"strong"}static get style(){return"style"}static get sub(){return"sub"}static get summary(){return"summary"}static get sup(){return"sup"}static get table(){return"table"}static get tbody(){return"tbody"}static get td(){return"td"}static get textarea(){return"textarea"}static get tfoot(){return"tfoot"}static get th(){return"th"}static get thead(){return"thead"}static get time(){return"time"}static get title(){return"title"}static get tr(){return"tr"}static get track(){return"track"}static get u(){return"u"}static get ul(){return"ul"}static get var(){return"var"}static get video(){return"video"}}const Direction={top:"top",right:"right",bottom:"bottom",left:"left"};class HTML{constructor(){y(this,"Context")}get Instance(){return this}Take(i){return i==null?this:(typeof i=="string"?this.Context=document.querySelector(i):this.Context=i,this)}GetContext(){return this.Context}Add(i){const e=document.createElement(i);return this.Context.appendChild(e),this.Context=e,this}get Div(){return this.Add("div")}get Iframe(){return this.Add("iframe")}get Link(){return this.Add("link")}get Script(){return this.Add("script")}get Header(){return this.Add("header")}get Section(){return this.Add("section")}get Canvas(){return this.Add("canvas")}get Video(){return this.Add("video")}get Audio(){return this.Add("audio")}get H1(){return this.Add("h1")}get H2(){return this.Add("h2")}get H3(){return this.Add("h3")}get H4(){return this.Add("h4")}get H5(){return this.Add("h5")}get H6(){return this.Add("h6")}get Nav(){return this.Add("nav")}get Input(){return this.Add("input")}get Select(){return this.Add("select")}get Option(){return this.Add("option")}get Span(){return this.Add("span")}get Small(){return this.Add("small")}get I(){return this.Add("i")}get Img(){return this.Add("img")}get Button(){return this.Add("button")}get Table(){return this.Add("table")}get Thead(){return this.Add("thead")}get Th(){return this.Add("th")}get TBody(){return this.Add("tbody")}get TFooter(){return this.Add("tfoot")}get TRow(){return this.Add("tr")}get TData(){return this.Add("td")}get P(){return this.Add("p")}get TextArea(){return this.Add("textarea")}get Br(){var i=document.createElement("br");return this.Context.appendChild(i),this}get Hr(){var i=document.createElement("hr");return this.Context.appendChild(i),this}get Ul(){return this.Add("ul")}get Li(){return this.Add("li")}get Aside(){return this.Add("aside")}get A(){return this.Add("a")}get Form(){return this.Add("form")}get Label(){return this.Add("label")}get End(){return this.Context=this.Context.parentElement,this}Render(){}Event(i,e,...t){return this.Context.addEventListener(i,s=>e(s,...t)),this}Trigger(i){var e=new Event(i);return this.Context.dispatchEvent(e),this}ClassName(i){return this.Context.className!=""?this.Context.className+=" "+i:this.Context.className=i,this}Id(i){return this.Context.id=i,this}Style(i){return i==null?this:(this.Context.style.cssText+=i,this)}Width(i){return this.Context.style.width=i,this}Padding(i,e,t){return t==null&&(t="px"),this.Style(`padding-${i}: ${e}${t}`)}TextAlign(i){return this.Style("text-align: "+i)}Text(i){if(i==null)return this;var e=new Text(i);return this.Context.appendChild(e),this}Button2(i="",e="button info small",t=""){return this.Button.Render(),t!==""&&this.Span.ClassName(t).End.Text(" ").Render(),this.ClassName(e).IText(i)}Title(i){return i?(this.MarkLangProp(this.Context,i,"title"),this.Attr("title",LangSelect.Get(i))):this}Margin(i,e,t="px"){return this.Style(`margin-${i} : ${e}${t}`)}MarginRem(i,e){return this.Style(`margin-${i} : ${e}rem`)}IText(i,...e){if(!i)return this;const t=LangSelect.Get(i),s=e.length>0?Str.Format(t,e):t,n=document.createTextNode(s);return this.MarkLangProp(n,i,"TextContent",e),this.Context.appendChild(n),this}InnerHTML(i){return this.Context.innerHTML=i,this}SmallCheckbox(i=!1){return this.Label.ClassName("checkbox input-small transition-on style2").Input.Attr("type","checkbox").Type("checkbox").End.Span.ClassName("check myCheckbox"),this.Context.previousElementSibling.checked=i,this}Type(i){return this.Context.type=i,this}Attr(i,e){return this.Context.setAttribute(i,e),this}Href(i){return this.Context.setAttribute("href",i),this}Src(i){return this.Context.setAttribute("src",i),this}TabIndex(i){return this.Context.setAttribute("tabindex",i.toString()),this}DataAttr(i,e){return this.Context.setAttribute("data-"+i,e),this}PlaceHolder(i){return!i||i.trim()===""?this:(this.MarkLangProp(this.Context,i,"placeholder"),this.Attr("placeholder",LangSelect.Get(i)))}MarkLangProp(i,e,t,...s){if(!i)return;const n=LangSelect.LangKey+t,r=LangSelect.LangParam+t;i[n]=e,s.length>0&&(i[r]=s);const l=i[LangSelect.LangProp],p=(l?l+","+t:t).split(",").filter((g,S,I)=>I.indexOf(g)===S);i[LangSelect.LangProp]=p.join(",")}Value(i){const e=this.Context;return e.value=i,this}Icon(i){const e=i.includes("mif")||i.includes("fa")||i.includes("fa-");return this.Span.ClassName("icon"),e?this.ClassName(i).Render():this.Style(`background-image: url(${Client.Origin+i});`).ClassName("iconBg").Render(),this}Position(i,e=null,t="px"){return e==null?this.Style(`position: {${i}}`):this.Style(`position: ${i}; ${i}: ${e}${t};`)}Escape(i){const e=this.Context;return e.tabIndex=-1,e.focus(),e.addEventListener("keydown",t=>{if(t.keyCode===27){const s=e.parentElement;t.stopPropagation(),i(t),s.focus()}}),this}IconForSpan(i){if(!i||i.trim().length===0)return this;i=i.trim();const e=this.Context;return this.ClassName("icon"),i.includes("mif")||i.includes("fa")||i.includes("fa-")?e.classList.add(i):(e.classList.add("iconBg"),e.style.backgroundImage=`url(${i})`),this}Floating(i,e){return this.Position(PositionEnum.fixed).Position(Direction.top,i).Position(Direction.left,e)}IHtml(i,...e){if(!i)return this;const t=this.Context,s=LangSelect.Get(i);return this.MarkLangProp(t,i,"innerHTML",e),t.innerHTML=s,this}ColSpan(i){return this.Attr("colspan",i.toString())}RowSpan(i){return this.Attr("rowspan",i.toString())}EndOf(i){typeof i=="object"&&i.toString&&(i=i.toString());let e=this.Context;for(;e!==null&&e.querySelector(i)===null;)e=e.parentElement;if(e===null)throw new Error("Cannot find the element of selector "+i);return this.Context=e,this}Closest(i){return this.Context&&typeof this.Context.closest=="function"&&(this.Context=this.Context.closest(i.toString())),this}Clear(){return this.Context.innerHTML="",this}Checkbox(i){this.Add(ElementType.input);var e=this.Context;return e instanceof HTMLInputElement&&(e.setAttribute("type","checkbox"),e.checked=i??!1),this}Sticky(i=null,e=null){const t=this.Context;return t?(t.previousElementSibling&&t.tagName===t.previousElementSibling.tagName&&(e==="0"?e=`${t.offsetLeft}px`:i==="0"&&(i=`${t.offsetTop}px`)),i!==null&&this.Style(`top: ${i};`),e!==null&&this.Style(`left: ${e};`),this.Style("position: sticky; z-index: 1;")):this}ForEach(i,e){for(let t=0;t<i.length;t++)e(i[t],t);return this}Display(i){const e=this.Context;return e.style.display=i?"":"none",this}Visibility(i){var e=this.Context;return e.style.visibility=i?"":"hidden",this}}const Html=new HTML;var gn,Xi,sn,vn,Qi;const Li=class Li{constructor(i,e=null){y(this,"DefaultObject",{});y(this,"TabGroup",!1);y(this,"IsListViewItem",!1);y(this,"Parent");y(this,"Children",[]);y(this,"ParentElement");y(this,"Element");y(this,"Entity",null);y(this,"Meta");y(this,"DefaultValue");y(this,"Classes",[]);Bi(this,gn);y(this,"Disposed",new Action);y(this,"DOMContentLoaded",new Action);y(this,"OnToggle",new Action);Bi(this,Xi);y(this,"UserInput",new Action);y(this,"OldValue");y(this,"ValidationResult",{});y(this,"ValidationRules",{});Bi(this,sn);Bi(this,vn);y(this,"_dirty");y(this,"AlwaysValid");y(this,"IdField","Id");y(this,"AfterSaved",new Action);y(this,"BeforeSaved",new Action);y(this,"PopulateDirty",!0);y(this,"LocalData",[]);y(this,"IsListViewItem",!1);y(this,"IsButton",!1);y(this,"IsRow",!1);y(this,"IsListView",!1);y(this,"IsSearchEntry",!1);y(this,"IsEditForm",!1);y(this,"Popup",!1);y(this,"IsTab",!1);y(this,"_events",{});Bi(this,Qi);var s,n;if(this.Meta=i,this.ParentElement=(s=this.Meta)==null?void 0:s.ParentElement,this.Element=e,this.AlwaysLogHistory=!1,this.Entity={},((n=this.Meta)==null?void 0:n.Validation)!=null){var t=typeof i.Validation===Str.Type?JSON.parse(i.Validation.toString()):i.Validation;t.length>0&&(this.ValidationRules=t.ToDictionary(r=>r.Rule,r=>r))}this.DOMContentLoaded.add(()=>{this.SetRequired(),this.SendQueueAction("Subscribe"),i!=null&&i.Events&&this.DispatchEvent(i.Events,EventType.DOMContentLoaded,this.Entity).Done()})}get ClassName(){return this.Element.className}set ClassName(i){this.Element.className=i}get TabEditor(){if(Si(this,Xi)!=null)return Si(this,Xi);Fi(this,Xi,this.FindClosest(i=>i.IsTab))}set TabEditor(i){Fi(this,Xi,i)}get EditForm(){return Si(this,vn)}set EditForm(i){Fi(this,vn,i)}get IsSmallUp(){return document.body.clientWidth>768}get IsMediumUp(){return document.body.clientWidth>992}get IsLargeUp(){return document.body.clientWidth>1200}get Disabled(){return Si(this,sn)}set Disabled(i){Fi(this,sn,i),this.SetDisableUI(i),this.Children.Flattern(e=>e.Children).forEach(e=>{Fi(e,sn,i),e.SetDisableUI(i)})}get Dirty(){var i=this._dirty&&!this.AlwaysValid||this.FilterChildren(e=>e._dirty,e=>!e.PopulateDirty||e.AlwaysValid).Any();return i}set Dirty(i){this._dirty=i,i||this.FilterChildren(e=>e._dirty,e=>!e.PopulateDirty||e.AlwaysValid).forEach(e=>e._dirty=!1)}get IsValid(){return Object.keys(this.ValidationResult).length===0}get CacheName(){var t;var i=(t=this.Meta)==null?void 0:t.CacheName;if(!i)return null;var e=Utils$1.IsFunction(i);return e?e.call(null,this):i}get QueueName(){var i;return(i=this.Meta)==null?void 0:i.QueueName}get EntityId(){var i;return(i=this.Entity)==null?void 0:i.Id}set EntityId(i){this.Entity!=null&&(this.Entity.Id=i)}get ComLabel(){var i;return(i=this.Meta)==null?void 0:i.Label}get Name(){var i;return(i=this.Meta)==null?void 0:i.FieldName}set Name(i){this.Meta==null&&(this.Meta=new Component),this.Meta.FieldName=i||null}get Id(){var i;return(i=this.Meta)==null?void 0:i.Id}set Id(i){this.Meta==null&&(this.Meta=new Component),this.Meta.Id=i}get ComponentType(){var i;return(i=this.Meta)==null?void 0:i.ComponentType}set ComponentType(i){this.Meta==null&&(this.Meta=new Component),this.Meta.ComponentType=i}get EmptyRow(){return Si(this,gn)}set EmptyRow(i){Fi(this,gn,i)}get MetaConn(){var i;return(i=this.Meta)==null?void 0:i.MetaConn}get DataConn(){var i;return(i=this.Meta)==null?void 0:i.DataConn}get FieldVal(){return!this.Entity||!this.Name?null:this.Entity[this.Name]}set FieldVal(i){this.Entity==null||this.Name==null||(this.Entity[this.Name]=i)}get FirstChild(){return this.Children.FirstOrDefault()}DispatchEvent(i,e,...t){return i?this.InvokeEvent(i,e,...t):Promise.resolve(!0)}InvokeEvent(i,e,...t){let s;try{s=JSON.parse(i)}catch{return Promise.resolve(!1)}const n=s[e];if(!n)return Promise.resolve(!1);const r=Utils$1.IsFunction(n);if(r)return r.call(null,this,this.EditForm),Promise.resolve(!0);let l=this.EditForm;if(!l)return Promise.resolve(!1);const u=l[n];return u?new Promise((g,S)=>{let I=u.apply(l,t);!I||I.isCompleted==null?g(!1):I.then(()=>g(!0)).catch(F=>S(F))}):Promise.resolve(!1)}DispatchCustomEvent(i,e,...t){if(!i)return Promise.resolve(!0);const s=e.toString();return this.InvokeEvent(i,s,...t)}SetRequired(){var e;const i=this.Element;i!=null&&((e=this.ValidationRules)!=null&&e.hasOwnProperty(ValidationRule.Required)?i.setAttribute(ValidationRule.Required,"true"):i.removeAttribute(ValidationRule.Required))}Validate(i,e,t){var g,S;if(!this.ValidationRules.hasOwnProperty(i))return!0;let s=this.ValidationRules[i];if(s===null||s.Value1===null)return!0;let n=s.Value1.toString();if(n==="")return!0;let r=s.Value1,l=r,[u,p]=this.Entity.GetComplexProp(n);if(u&&(l=(S=(g=this.Parent.FirstOrDefault(I=>I.Name===n))==null?void 0:g.Meta)==null?void 0:S.Label,r=p),t(e,r))delete this.ValidationResult[i];else return this.ValidationResult[i]=Str.Format(s.Message,this.Meta.Label,l),!0;return!1}SetDisableUI(i){const e=this.Element;e!=null&&(i?e.setAttribute("disabled","disabled"):(e.removeAttribute("disabled"),e.setAttribute("enable","true")))}SetDefaultVal(){if(!Utils$1.isNullOrWhiteSpace(this.Meta.DefaultVal)&&!(this.Entity==null||this.EntityId==null)){var i=Utils$1.IsFunction(this.Meta.DefaultVal);i?i.call(this,this):this.Entity[this.Name]==null&&(this.Entity[this.Name]=this.DefaultValue)}}ValidateRequired(i){if(this.Element===null||Object.keys(this.ValidationRules).length===0||this.EmptyRow||this.AlwaysValid)return!0;if(!this.ValidationRules.hasOwnProperty(ValidationRule.Required))return this.Element.removeAttribute(ValidationRule.Required),!0;const e=this.ValidationRules[ValidationRule.Required];return this.Element.setAttribute(ValidationRule.Required,"true"),i==null||i.toString().trim()===""?(this.Element.removeAttribute("readonly"),this.ValidationResult[ValidationRule.Required]=e.Message.replace("{0}",LangSelect.Get(this.Meta.Label)).replace("{1}",this.Entity),!1):(delete this.ValidationResult[ValidationRule.Required],!0)}AddRule(i){this.ValidationRules[i.Rule]=i,i.Rule===ValidationRule.Required&&this.Element.setAttribute(ValidationRule.Required,"true")}RemoveRule(i){delete this.ValidationRules[i],Object.keys(this.ValidationRules).includes(ValidationRule.Required)||this.Element.removeAttribute(ValidationRule.Required)}GetInvalid(){return this.Children.Flattern(i=>i.AlwaysValid?null:i.Children).Where(i=>!i.IsValid)}CascadeField(){if(!this.Meta.CascadeField)return;const i=this.FindClosest(t=>t.IsRow)??this.EditForm,e=this.Meta.CascadeField.split(",").map(t=>t.trim()).filter(t=>t!=="");e.length!==0&&e.forEach(t=>{i.FilterChildren(s=>s.Name===t).forEach(s=>{s instanceof SearchEntry&&s!==null?(s.Value=null,s.Meta.LocalData=null):s.UpdateView()})})}PopulateFields(i=null){if(this.Entity==null||this.Meta.PopulateField==null)return;const e=this.FindClosest(ListViewItem.prototype)??this.FindClosest(ComponentType.EditForm),t=e!==null?e:this.EditForm,s=Utils$1.IsFunction(this.Meta.PopulateField);if(s){try{s.call(null,this,i)}catch(r){console.error(r)}t.UpdateView(!0);return}const n=this.Meta.PopulateField.split(",").map(r=>r.trim()).filter(r=>r!=="");i===null||n.length===0||n.forEach(r=>{t.FilterChildren(l=>l.Name===r).forEach(l=>{const u=Utils$1.GetPropValue(i,r),p=Utils$1.GetPropValue(this.Entity,r),g=this.Entity[r];u===p||g===null||new g!==p||(this.Entity[r]=u,l.UpdateView(!0,!1))})})}GetValueTextAct(){return this.Element.textContent}AddIdToPatch(i){const e=i.findIndex(t=>t.Field===Utils$1.IdField);e!==-1&&i.splice(e,1),this.EntityId===null?i.push({Field:Utils$1.IdField,Value:Uuid7.Id25()}):i.push({Field:Utils$1.IdField,Value:this.EntityId,OldVal:this.EntityId})}addEventListener(i,e){if(e===null)throw new Error("Handler cannot be null");const t=this._events[i]||null;t==null?this._events[i]=[e]:t.push(e)}removeEventListener(i,e){if(e===null)throw new Error("Handler cannot be null");(this._events[i]||null)!==null&&delete this._events[i]}FindComponentByName(i,e){return this.FirstOrDefault(t=>t.Name===i&&(e==null||t.Classes.includes(e)))}FindClosest(i=null){let e=this;for(;e!=null;){if(i==null||i(e))return e;e=e.Parent}return null}get Show(){return Si(this,Qi)}set Show(i){this.Toggle(i)}Toggle(i){this.Element&&(Fi(this,Qi,i),Si(this,Qi)?(this.Element.style.display="",this.Meta&&this.Meta.ShowLabel&&!this.Parent&&this.Meta.FieldName&&(this.Element.parentElement.style.display="",this.Element.parentElement.previousElementSibling.style.display=""),this.OnToggle.invoke(Si(this,Qi))):(this.Element.style.display="none",this.Meta&&this.Meta.ShowLabel&&!this.Parent&&this.Meta.FieldName&&(this.Element.parentElement.style.display="none",this.Element.parentElement.previousElementSibling.style.display="none")))}ToggleShow(i){var e=Utils$1.IsFunction(i);if(e){var t=e.call(null,this);this.Show=t??!1}}ToggleDisabled(i){if(i instanceof Boolean){this.Disabled=i;return}var e=Utils$1.IsFunction(i);if(e){let t=e(null,this)||!1;this.Disabled=t}}ListViewItemTab(i){}UpdateView(i=!1,e=null,...t){if(this.PrepareUpdateView(i,e),!(!this.Children||this.Children.length===0))if(t.length>0){const s=this.FilterChildren(l=>l instanceof Section&&t.includes(l.Name)).flatMap(l=>l.FilterChildren(u=>!(u instanceof Section))),n=this.FilterChildren(l=>t.includes(l.Name)&&!(l instanceof Section));[...new Set([...s,...n].filter(l=>!(l instanceof Section)))].forEach(l=>{l.PrepareUpdateView(i,e),l.UpdateView(i,e,...t)})}else this.FilterChildren(n=>n.ComponentType!="Section").forEach(n=>{n.PrepareUpdateView(i,e),n.UpdateView(i,e,...t)})}PrepareUpdateView(i,e){var t,s;i&&(this.EmptyRow=!1),this.ToggleShow((t=this.Meta)==null?void 0:t.ShowExp),this.ToggleDisabled((s=this.Meta)==null?void 0:s.DisabledExp),e!==void 0&&(this._setDirty=e)}Nothing(){return!this.Children||this.Children.length===0}DisposeChildren(){if(this.Nothing())return;let i=this.Flatten(e=>e.Children).filter(e=>e.Element!==null&&e.Parent!==null&&e.Nothing());for(;i.length>0&&i==1&&i[0]!=this;)i.forEach(e=>{e!==null&&(e.Dispose(),e.Parent&&e.Parent.Children&&(e.Parent.Children=e.Parent.Children.filter(t=>t!==e)))}),i=this.Flatten(e=>e.Children).filter(e=>e.Element!==null&&e.Parent!==null&&e.Nothing())}Flatten(i){const e=[],t=[this];for(;t.length>0;){const s=t.pop();e.push(s);const n=i(s);n&&t.push(...n)}return e}Dispose(){var i;this.SendQueueAction("Unsubscribe"),this.DisposeChildren(),this.RemoveDOM(),this.Children=null,this.DOMContentLoaded=null,this.OnToggle=null,this.Parent!=null&&this.Parent.Children!=null&&this.Parent.Children.ToArray().HasElement()&&this.Parent.Children.ToArray().Contains(this)&&this.Parent.Children.ToArray().Remove(this),(i=this.Disposed)==null||i.Invoke()}RemoveDOM(){this.Element!=null&&(this.Element.remove(),this.Element=null)}SendQueueAction(i){var s,n;var e=this.QueueName;if(!e)return;const t={QueueName:e,Action:i};(n=(s=this.EditForm)==null?void 0:s.NotificationClient)==null||n.Send(JSON.stringify(t)),i=="Subscribe"?window.addEventListener(e,this.QueueHandler):window.removeEventListener(e,this.QueueHandler)}GetValueText(){return this.Element===null?"":this.Element instanceof HTMLInputElement?this.Element.value:this.Element instanceof HTMLTextAreaElement?this.Element.value:""}ValidateAsync(){return Promise.resolve(!0)}static IsEmpty(i){return i.length===0}FilterChildren(i,e,t=null){return this.FilterChildrenTyped(i,e,t)}FilterChildrenTyped(i=null,e=null,t=new Set){if(t=t??new Set,Li.IsEmpty(this.Children))return[];let s=[];for(const n of this.Children){let r=n instanceof Li?n:null;r===null&&Li.IsEmpty(n.Children)||e&&e(r)||(r!==null&&(!i||i(r))&&!t.has(r)&&(t.add(r),s.push(r)),s=s.concat(n.FilterChildrenTyped(i,e,t)))}return s}FindActiveComponent(i){const e=t=>!t.hidden()&&i(t);return this.Children.Where(e).Flattern(t=>e(t)?t.Children:null)}FirstOrDefault(i){return this.Children.Flattern(e=>e.Children).FirstOrDefault(i)}AddChild(i,e=null,t=null,s=null){if(i.IsSingleton){i.Render();return}i.ParentElement||(i.ComponentType==null&&this.TabEditor?i.Popup?i.ParentElement=Element||this.TabEditor.TabContainer:i.ParentElement=this.TabEditor.TabContainer:i.ParentElement=Html.Context),(!i.Entity||this.DeepEqual(i.Entity,this.DefaultObject))&&(i.Entity=this.Entity??{}),!i.EditForm&&!i.Popup&&(i.EditForm=this.EditForm),e===null||e>=this.Children.length||e<0?this.Children.push(i):this.Children.splice(e,1,i),i.Parent||(i.Parent=this),Html.Take(i.ParentElement),i.Render(),i.ToggleShow(t||(i.Meta?i.Meta.ShowExp:"")),i.ToggleDisabled(s||(i.Meta?i.Meta.DisabledExp:""))}DeepEqual(i,e){if(i===e)return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;let t=Object.keys(i),s=Object.keys(e);if(t.length!==s.length)return!1;for(let n of t)if(!s.includes(n)||!deepEqual(i[n],e[n]))return!1;return!0}RemoveChild(i){const e=this.Children.indexOf(i);e>-1&&this.Children.splice(e,1)}Focus(){var i;(i=this.Element)==null||i.focus()}SetDisabled(i,...e){e==null||e.length==0?this.Disabled=i:this.FilterChildren(t=>e.includes(t.Name)).forEach(t=>t.Disabled=i)}};gn=new WeakMap,Xi=new WeakMap,sn=new WeakMap,vn=new WeakMap,Qi=new WeakMap,y(Li,"SmallScreen",768),y(Li,"ExSmallScreen",567),y(Li,"MediumScreen",992),y(Li,"LargeScreen",1200),y(Li,"ExLargeScreen",1452),y(Li,"TabContainer",document.getElementById("tab-content"));let EditableComponent=Li;const editableComponent=Object.freeze(Object.defineProperty({__proto__:null,EditableComponent},Symbol.toStringTag,{value:"Module"}));class Textbox extends EditableComponent{constructor(i,e){super(i,e),this.DefaultValue="",e.tagName=="INPUT"?this.Input=e:e.tagName=="TEXTAREA"&&(this.TextArea=e),this._value=null,this.MultipleLine=!1,this.Password=!1,this._text="",this._oldText=""}get Text(){return this._text}set Text(i){this._text=i,this.Input!=null&&(this.Input.value=this._text),this.TextArea!=null&&(this.TextArea.value=this._text)}get Value(){return this._value}set Value(i){var t;this._value=i,this._value!==null&&typeof this._value===Str.Type&&this.EditForm&&this.EditForm.Meta&&!this.EditForm.Meta.IgnoreEncode&&(this.Entity[this.Name]=Utils$1.EncodeSpecialChar(Utils$1.DecodeSpecialChar(this._value))),this.Entity&&(this.Entity[this.Name]=this._value);let e=this.EditForm&&this.EditForm.Meta&&this.EditForm.Meta.IgnoreEncode?this._value:Utils$1.DecodeSpecialChar(this._value);this.Meta.FormatData&&(e=Utils$1.FormatEntity(this.Meta.FormatData,this.Entity[this.Name])),this.Meta.FormatEntity&&(e=Utils$1.FormatEntity2(this.Meta.FormatEntity,null,this.Entity,Utils$1.EmptyFormat,Utils$1.EmptyFormat)),(t=Utils$1.IsFunction(this.Meta.Renderer))==null||t.call(this,this),this.Text=e,this.PopulateFields()}Render(){var s,n,r;this.SetDefaultVal();var i=this.Entity&&this.Entity[this.Name]||null,e=i!=null&&typeof i===Str.Type&&this.EditForm!=null&&this.EditForm.Meta!=null&&!this.EditForm.Meta.IgnoreEncode;if(e){const l=Utils$1.DecodeSpecialChar(i),u=Utils$1.EncodeSpecialChar(l);this.Entity[this.Name]=u}var t=i;this.Meta.FormatData&&(t=Utils$1.FormatEntity(this.Meta.FormatData,i)),this.Meta.FormatEntity&&(t=Utils$1.FormatEntity(this.Meta.FormatEntity,this.Entity)),this._text=this.EditForm!=null&&this.EditForm.Meta!=null&&this.EditForm.Meta.IgnoreEncode?t:Utils$1.DecodeSpecialChar(t)??"",this.OldValue=this._text,this.MultipleLine||this.TextArea!=null?(this.TextArea==null?(Html.Take(this.ParentElement).TextArea.Value(this._text).PlaceHolder(this.Meta.PlainText),this.Element=this.TextArea=Html.Context):this.TextArea&&(Html.Take(this.Element),this.Element=this.TextArea,this.TextArea.value=this._text),this.Meta.Row>0&&Html.Instance.Attr("rows",this.Meta.Row??1),this.TextArea.addEventListener("input",l=>this.PopulateUIChange(EventType.Input)),this.TextArea.addEventListener("change",l=>this.PopulateUIChange(EventType.Change))):(this.Input==null?((s=Html.Take(this.ParentElement).Input.Value(this._text))==null||s.PlaceHolder(this.Meta.PlainText),this.Element=this.Input=Html.Context):(Html.Take(this.Element),this.Element=this.Input,this.Input.value=this._text),this.Input.addEventListener("input",l=>this.PopulateUIChange(EventType.Input)),this.Input.addEventListener("change",l=>this.PopulateUIChange(EventType.Change))),(n=Utils$1.IsFunction(this.Meta.Renderer))==null||n.call(this,this),this.Password&&Html.Instance.Style("text-security: disc;-webkit-text-security: disc;-moz-text-security: disc;"),this.Meta.ShowLabel||Html.Instance.PlaceHolder(this.Meta.PlainText),this.Element&&this.Element.closest("td")&&this.Element.closest("td").addEventListener("keydown",this.ListViewItemTab.bind(this)),(r=this.DOMContentLoaded)==null||r.Invoke()}PopulateUIChange(i,e=!1){var t,s;this.Disabled||(this._oldText=this._text,this._text=this.Input?this.Input.value:this.TextArea.value,this._text=this.Password?this._text:e?(t=this._text)==null?void 0:t.trim():this._text,this.Meta.UpperCase&&this._text!=null&&(this.Text=this._text.toLocaleUpperCase()),this._value=this.EditForm!=null&&this.EditForm.Meta!=null&&this.EditForm.Meta.IgnoreEncode?this._text:Utils$1.EncodeSpecialChar(this._text),this.Entity[this.Name]=this._value,this.Dirty=!0,(s=this.UserInput)==null||s.Invoke({NewData:this._text,OldData:this._oldText,EvType:i}),this.PopulateFields(),this.DispatchEvent(this.Meta.Events,i,this.Entity))}UpdateView(i=!1,e=null,...t){var s;this.Value=this.Entity&&Utils$1.GetPropValue(this.Entity,this.Name),this.Dirty||((s=this.DOMContentLoaded)==null||s.Invoke(),this.OldValue=this._text)}ValidateAsync(){return this.ValidationRules.Nothing()?Promise.resolve(!0):new Promise((e,t)=>{this.ValidationResult.Clear(),this.Validate(ValidationRule.MinLength,this._text,(s,n)=>this._text!=null&&this._text.length>=n),this.Validate(ValidationRule.CheckLength,this._text,(s,n)=>this._text==null||this._text==""||this._text.length==n),this.Validate(ValidationRule.MaxLength,this._text,(s,n)=>this._text==null||this._text.length<=n),this.Validate(ValidationRule.RegEx,this._text,this.ValidateRegEx),this.ValidateRequired(this.Text),this.ValidateUnique().then(()=>{e(this.IsValid)})})}ValidateRegEx(i,e){if(i===null)return!0;var t=new RegExp(e),s=t.test(i),n=this.ValidationRules[ValidationRule.RegEx];if(n&&!s&&n.RejectInvalid){var r=this.Input.selectionEnd;return this.Text=this._oldText,this._value=this._oldText,this.Input.selectionStart=r,this.Input.selectionEnd=r,t.test(this._oldText)}return s}ValidateUnique(){if(!this.ValidationRules.hasOwnProperty(ValidationRule.Unique))return Promise.resolve(!0);var i=this.ValidationRules[ValidationRule.Unique];if(i===null||this._text.trim()==="")return Promise.resolve(!0);const e=Utils$1.IsFunction(this.Meta.PreQuery);this.Meta.RefName?this.EditForm.Meta.EntityName:this.Meta.RefName;const t={ComId:this.Meta.Id,Params:e?JSON.stringify(e.call(null,this)):null,MetaConn:this.MetaConn,DataConn:this.DataConn};var s=new Promise((n,r)=>{Client.Instance.ComQuery(t).then(l=>{var u=l.length>0&&l[0].length>0;return u}).then(l=>{l?this.ValidationResult[ValidationRule.Unique]=`${i.Message} ${LangSelect.Get(this.Meta.Label)} ${this._text}`:delete this.ValidationResult[ValidationRule.Unique],n(!0)}).catch(l=>{console.error("Query error:",l),r(l)})});return s}SetDisableUI(i){this.Input!=null&&(this.Input.readOnly=i),this.TextArea!=null&&(this.TextArea.readOnly=i)}}class Numbox extends EditableComponent{constructor(i,e=null){super(i,e),e&&e.tagName=="INPUT"&&(this._input=e),this._value=null,this._isString=!1,this._decimalSeparator=".",this.SetSelection=!0,this.DefaultValue=0}get Value(){return this._value}set Value(i){var l,u,p,g;const e=this._value;if(this._value=i,i===null)this._input.value="",this._value=null;else{var[t,s]=Utils$1.TryParseDecimal((l=this._value)==null?void 0:l.toString());if(t){this._value=s;const S=(((u=this._input.value)==null?void 0:u.match(/,/g))||[]).length,I=this._input.selectionEnd;this._input.value.split("").filter(O=>O===".").length>1;var n=this._value.toFixed(this.Meta.Precision??0).replace(/\B(?=(\d{3})+(?!\d))/g,",");this._input.value=n;const F=(((p=this._input.value)==null?void 0:p.match(/,/g))||[]).length-S;this.SetSelection&&(this._input.selectionStart=I+F,this._input.selectionEnd=I+F)}else{var[t,s]=Utils$1.TryParseDecimal(e==null?void 0:e.toString());t||(this.parsedVal=new Decimal(0)),this._value=new Decimal(s),this._input.value=s.toFixed(this.Meta.Precision||0)}}e==null||this._value==null?this.Dirty=e!=this._value:this.Dirty=!((g=this._value)!=null&&g.eq(e)),this.Entity[this.Name]=this._value,this.PopulateFields();var r=Utils$1.IsFunction(this.Meta.Renderer);r&&r.call(this,this)}SetValue(){var n;const i=this._value;if(this.EmptyRow=!1,!this._input.value){this.Value=null;return}this._input.value=this._input.value.trim(),this._input.value.slice(-1)===this._decimalSeparator&&(this._input.value=this._input.value.substring(0,this._input.value.length-1));const e=this._input.value.replace(/,/g,""),[t,s]=Utils$1.TryParseDecimal(e);if(!t){this.Value=this._value;return}this._value=new Decimal(s),this.Value=this._value,(n=this.UserInput)==null||n.invoke({NewData:this._value,OldData:i,EvType:EventType.Input}),this.DispatchEvent(this.Meta.Events,EventType.Input,this.Entity,this._value,i).done()}Render(){var e;if(this.SetDefaultVal(),this.Entity!=null&&this.Entity[this.Name]!=null&&(this._value=this.GetDecimalValue()),!this._input||this._input===null){Html.Take(this.ParentElement).Input.Render();const t=Html.Context;t instanceof HTMLInputElement&&(this.Element=this._input=t)}else this.Element=this._input;this._input.type="tel",this._input.setAttribute("autocorrect","off"),this._input.setAttribute("spellcheck","false"),this._input.addEventListener("input",this.SetValue.bind(this)),this._input.addEventListener("change",this.ChangeSetValue.bind(this)),this._input.autocomplete="off",this.Value=this._value;let i=Utils$1.IsFunction(this.Meta.Renderer);i&&window.setTimeout(()=>i.call(this,this,this._input),100),(e=this.DOMContentLoaded)==null||e.invoke()}IsNullable(){const i=this.Entity.GetComplexProp(this.Name);return i==null}ChangeSetValue(){var n,r;const i=this._value;if(this.EmptyRow=!1,!this._input.value){this.Value=null,(n=this.UserInput)==null||n.Invoke({NewData:null,OldData:i,EvType:EventType.Change});return}this._input.value=this._input.value.trim(),this._input.value.slice(-1)==="."&&(this._input.value=this._input.value.substring(0,this._input.value.length-1));const e=this._input.value.replace(",",""),[t,s]=Utils$1.TryParseDecimal(e);if(!t){this.Value=this._value;return}this.Value=new Decimal(s),this.Dirty=!0,(r=this.UserInput)==null||r.Invoke({NewData:s,OldData:i,EvType:EventType.Change}),this.PopulateFields(),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity,s,i).done()}GetDecimalValue(){if(this.Entity==null)return null;const i=this.Entity[this.Meta.FieldName];if(i==null||this._isString&&i.toString().IsNullOrWhiteSpace())return null;try{return new Decimal(i)}catch{return null}}UpdateView(i=!1,e=null,...t){var s;this.Value=this.GetDecimalValue(),this.Dirty||((s=this.DOMContentLoaded)==null||s.invoke(),this.OldValue=this._input.value)}async ValidateAsync(){return this.ValidationRules.Nothing()?!0:(this.ValidationResult.Clear(),this.ValidateRequired(this._value),this.Validate(ValidationRule.GreaterThan,this._value,(i,e)=>e==null||i!=null&&i>e),this.Validate(ValidationRule.LessThan,this._value,(i,e)=>e==null||i!=null&&i<e),this.Validate(ValidationRule.GreaterThanOrEqual,this._value,(i,e)=>e==null||i!=null&&i>=e),this.Validate(ValidationRule.LessThanOrEqual,this._value,(i,e)=>e==null||i!=null&&i<=e),this.Validate(ValidationRule.Equal,this._value,(i,e)=>i===e),this.Validate(ValidationRule.NotEqual,this._value,(i,e)=>i!==e),this.IsValid)}SetDisableUI(i){this._input.readOnly=i}}const Ki=class Ki{constructor(){}static Init(){if(this._instance!==null)return;this._instance=new Ki;let i=document.getElementById("spinner");if(i)this._span=i,this._backdrop=i.previousElementSibling;else{let e=document.createElement("div");e.className="backdrop",e.style.background="transparent !important",document.body.appendChild(e);let t=document.createElement("span");t.className="spinner",e.appendChild(t),this._span=t,this._backdrop=e}this._span.style.display="none",this._backdrop.style.display="none"}static AppendTo(i,e=!0,t=!0,s=7e3){this._span&&(this._span.parentElement===i&&this._span.style.display===""||(i?i.appendChild(this._span):document.body.appendChild(this._span),this._span.style.display="",e&&(this._backdrop.style.display=""),t&&(window.clearTimeout(this._hiddenAwaiter),this._hiddenAwaiter=window.setTimeout(()=>this.Hide(),s))))}static Hide(){this._span&&(this._span.style.display="none",this._backdrop.style.display="none")}};y(Ki,"_instance",null),y(Ki,"_span",null),y(Ki,"_backdrop",null),y(Ki,"_hiddenAwaiter",null);let Spinner=Ki;const scriptRel="modulepreload",assetsURL=function(a){return"/vnitart1/"+a},seen={},__vitePreload=function(i,e,t){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));s=Promise.all(e.map(l=>{if(l=assetsURL(l),l in seen)return;seen[l]=!0;const u=l.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":scriptRel,u||(g.as="script",g.crossOrigin=""),g.href=l,r&&g.setAttribute("nonce",r),document.head.appendChild(g),u)return new Promise((S,I)=>{g.addEventListener("load",S),g.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>i()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})},CustomEventType={BeforeCopied:"BeforeCopied",UpdateHeader:"UpdateHeader",AfterWebsocket:"AfterWebsocket",AfterCopied:"AfterCopied",BeforeDeleted:"BeforeDeleted",AfterDeleted:"AfterDeleted",Deactivated:"Deactivated",BeforePasted:"BeforePasted",AfterPasted:"AfterPasted",BeforeCreated:"BeforeCreated",AfterCreated:"AfterCreated",BeforeEmptyRowCreated:"BeforeEmptyRowCreated",AfterEmptyRowCreated:"AfterEmptyRowCreated",BeforeCreatedList:"BeforeCreatedList",AfterCreatedList:"AfterCreatedList",Selected:"Selected",RowFocusIn:"RowFocusIn",RowFocusOut:"RowFocusOut",RowMouseEnter:"RowMouseEnter",RowMouseLeave:"RowMouseLeave",OpenRef:"OpenRef",BeforePatchUpdate:"BeforePatchUpdate",ValidatePatchUpdate:"ValidatePatchUpdate",BeforePatchCreate:"BeforePatchCreate",AfterPatchUpdate:"AfterPatchUpdate"};class Message{}y(Message,"NotDirty","Data was not changed!"),y(Message,"ReasonOfChange","Auto change");class StringBuilder{constructor(i=""){this._buffer=[i]}Append(i){return this._buffer.push(i),this}ToString(){return this._buffer.join("")}}class FeaturePolicy{constructor(){y(this,"Id","");y(this,"FeatureId","");y(this,"RoleId","");y(this,"CanRead",!1);y(this,"CanWrite",!1);y(this,"CanDelete",!1);y(this,"CanDeleteAll",!1);y(this,"Active",!1);y(this,"InsertedDate",new Date);y(this,"InsertedBy","");y(this,"UpdatedDate",null);y(this,"UpdatedBy","");y(this,"CanDeactivate",!1);y(this,"CanDeactivateAll",!1);y(this,"LockDeleteAfterCreated","");y(this,"LockUpdateAfterCreated","");y(this,"EntityId","");y(this,"RecordId","");y(this,"UserId","");y(this,"CanShare",!1);y(this,"CanShareAll",!1);y(this,"Desc","");y(this,"CanWriteAll",!1);y(this,"EntityName","");y(this,"CanWriteMeta",!1);y(this,"CanWriteMetaAll",!1)}}class ObservableArgs{constructor(){y(this,"EvType");y(this,"Com");y(this,"NewData");y(this,"OldData");y(this,"NewMatch");y(this,"OldMatch");y(this,"NewEntity");y(this,"OldEntity");y(this,"FieldName")}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var dayjs_min={exports:{}},hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,function(a,i){(function(e,t){a.exports=t()})(commonjsGlobal,function(){var e=1e3,t=6e4,s=36e5,n="millisecond",r="second",l="minute",u="hour",p="day",g="week",S="month",I="quarter",F="year",O="date",X="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,be=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Pe){var ge=["th","st","nd","rd"],ce=Pe%100;return"["+Pe+(ge[(ce-20)%10]||ge[ce]||ge[0])+"]"}},he=function(Pe,ge,ce){var Me=String(Pe);return!Me||Me.length>=ge?Pe:""+Array(ge+1-Me.length).join(ce)+Pe},$e={s:he,z:function(Pe){var ge=-Pe.utcOffset(),ce=Math.abs(ge),Me=Math.floor(ce/60),ve=ce%60;return(ge<=0?"+":"-")+he(Me,2,"0")+":"+he(ve,2,"0")},m:function Pe(ge,ce){if(ge.date()<ce.date())return-Pe(ce,ge);var Me=12*(ce.year()-ge.year())+(ce.month()-ge.month()),ve=ge.clone().add(Me,S),_e=ce-ve<0,Se=ge.clone().add(Me+(_e?-1:1),S);return+(-(Me+(ce-ve)/(_e?ve-Se:Se-ve))||0)},a:function(Pe){return Pe<0?Math.ceil(Pe)||0:Math.floor(Pe)},p:function(Pe){return{M:S,y:F,w:g,d:p,D:O,h:u,m:l,s:r,ms:n,Q:I}[Pe]||String(Pe||"").toLowerCase().replace(/s$/,"")},u:function(Pe){return Pe===void 0}},b="en",de={};de[b]=Oe;var it="$isDayjsObject",ze=function(Pe){return Pe instanceof Le||!(!Pe||!Pe[it])},fe=function Pe(ge,ce,Me){var ve;if(!ge)return b;if(typeof ge=="string"){var _e=ge.toLowerCase();de[_e]&&(ve=_e),ce&&(de[_e]=ce,ve=_e);var Se=ge.split("-");if(!ve&&Se.length>1)return Pe(Se[0])}else{var Z=ge.name;de[Z]=ge,ve=Z}return!Me&&ve&&(b=ve),ve||!Me&&b},We=function(Pe,ge){if(ze(Pe))return Pe.clone();var ce=typeof ge=="object"?ge:{};return ce.date=Pe,ce.args=arguments,new Le(ce)},Ne=$e;Ne.l=fe,Ne.i=ze,Ne.w=function(Pe,ge){return We(Pe,{locale:ge.$L,utc:ge.$u,x:ge.$x,$offset:ge.$offset})};var Le=function(){function Pe(ce){this.$L=fe(ce.locale,null,!0),this.parse(ce),this.$x=this.$x||ce.x||{},this[it]=!0}var ge=Pe.prototype;return ge.parse=function(ce){this.$d=function(Me){var ve=Me.date,_e=Me.utc;if(ve===null)return new Date(NaN);if(Ne.u(ve))return new Date;if(ve instanceof Date)return new Date(ve);if(typeof ve=="string"&&!/Z$/i.test(ve)){var Se=ve.match(V);if(Se){var Z=Se[2]-1||0,ae=(Se[7]||"0").substring(0,3);return _e?new Date(Date.UTC(Se[1],Z,Se[3]||1,Se[4]||0,Se[5]||0,Se[6]||0,ae)):new Date(Se[1],Z,Se[3]||1,Se[4]||0,Se[5]||0,Se[6]||0,ae)}}return new Date(ve)}(ce),this.init()},ge.init=function(){var ce=this.$d;this.$y=ce.getFullYear(),this.$M=ce.getMonth(),this.$D=ce.getDate(),this.$W=ce.getDay(),this.$H=ce.getHours(),this.$m=ce.getMinutes(),this.$s=ce.getSeconds(),this.$ms=ce.getMilliseconds()},ge.$utils=function(){return Ne},ge.isValid=function(){return this.$d.toString()!==X},ge.isSame=function(ce,Me){var ve=We(ce);return this.startOf(Me)<=ve&&ve<=this.endOf(Me)},ge.isAfter=function(ce,Me){return We(ce)<this.startOf(Me)},ge.isBefore=function(ce,Me){return this.endOf(Me)<We(ce)},ge.$g=function(ce,Me,ve){return Ne.u(ce)?this[Me]:this.set(ve,ce)},ge.unix=function(){return Math.floor(this.valueOf()/1e3)},ge.valueOf=function(){return this.$d.getTime()},ge.startOf=function(ce,Me){var ve=this,_e=!!Ne.u(Me)||Me,Se=Ne.p(ce),Z=function(pt,ot){var L=Ne.w(ve.$u?Date.UTC(ve.$y,ot,pt):new Date(ve.$y,ot,pt),ve);return _e?L:L.endOf(p)},ae=function(pt,ot){return Ne.w(ve.toDate()[pt].apply(ve.toDate("s"),(_e?[0,0,0,0]:[23,59,59,999]).slice(ot)),ve)},W=this.$W,pe=this.$M,Ie=this.$D,je="set"+(this.$u?"UTC":"");switch(Se){case F:return _e?Z(1,0):Z(31,11);case S:return _e?Z(1,pe):Z(0,pe+1);case g:var mt=this.$locale().weekStart||0,yt=(W<mt?W+7:W)-mt;return Z(_e?Ie-yt:Ie+(6-yt),pe);case p:case O:return ae(je+"Hours",0);case u:return ae(je+"Minutes",1);case l:return ae(je+"Seconds",2);case r:return ae(je+"Milliseconds",3);default:return this.clone()}},ge.endOf=function(ce){return this.startOf(ce,!1)},ge.$set=function(ce,Me){var ve,_e=Ne.p(ce),Se="set"+(this.$u?"UTC":""),Z=(ve={},ve[p]=Se+"Date",ve[O]=Se+"Date",ve[S]=Se+"Month",ve[F]=Se+"FullYear",ve[u]=Se+"Hours",ve[l]=Se+"Minutes",ve[r]=Se+"Seconds",ve[n]=Se+"Milliseconds",ve)[_e],ae=_e===p?this.$D+(Me-this.$W):Me;if(_e===S||_e===F){var W=this.clone().set(O,1);W.$d[Z](ae),W.init(),this.$d=W.set(O,Math.min(this.$D,W.daysInMonth())).$d}else Z&&this.$d[Z](ae);return this.init(),this},ge.set=function(ce,Me){return this.clone().$set(ce,Me)},ge.get=function(ce){return this[Ne.p(ce)]()},ge.add=function(ce,Me){var ve,_e=this;ce=Number(ce);var Se=Ne.p(Me),Z=function(pe){var Ie=We(_e);return Ne.w(Ie.date(Ie.date()+Math.round(pe*ce)),_e)};if(Se===S)return this.set(S,this.$M+ce);if(Se===F)return this.set(F,this.$y+ce);if(Se===p)return Z(1);if(Se===g)return Z(7);var ae=(ve={},ve[l]=t,ve[u]=s,ve[r]=e,ve)[Se]||1,W=this.$d.getTime()+ce*ae;return Ne.w(W,this)},ge.subtract=function(ce,Me){return this.add(-1*ce,Me)},ge.format=function(ce){var Me=this,ve=this.$locale();if(!this.isValid())return ve.invalidDate||X;var _e=ce||"YYYY-MM-DDTHH:mm:ssZ",Se=Ne.z(this),Z=this.$H,ae=this.$m,W=this.$M,pe=ve.weekdays,Ie=ve.months,je=ve.meridiem,mt=function(ot,L,Y,Q){return ot&&(ot[L]||ot(Me,_e))||Y[L].slice(0,Q)},yt=function(ot){return Ne.s(Z%12||12,ot,"0")},pt=je||function(ot,L,Y){var Q=ot<12?"AM":"PM";return Y?Q.toLowerCase():Q};return _e.replace(be,function(ot,L){return L||function(Y){switch(Y){case"YY":return String(Me.$y).slice(-2);case"YYYY":return Ne.s(Me.$y,4,"0");case"M":return W+1;case"MM":return Ne.s(W+1,2,"0");case"MMM":return mt(ve.monthsShort,W,Ie,3);case"MMMM":return mt(Ie,W);case"D":return Me.$D;case"DD":return Ne.s(Me.$D,2,"0");case"d":return String(Me.$W);case"dd":return mt(ve.weekdaysMin,Me.$W,pe,2);case"ddd":return mt(ve.weekdaysShort,Me.$W,pe,3);case"dddd":return pe[Me.$W];case"H":return String(Z);case"HH":return Ne.s(Z,2,"0");case"h":return yt(1);case"hh":return yt(2);case"a":return pt(Z,ae,!0);case"A":return pt(Z,ae,!1);case"m":return String(ae);case"mm":return Ne.s(ae,2,"0");case"s":return String(Me.$s);case"ss":return Ne.s(Me.$s,2,"0");case"SSS":return Ne.s(Me.$ms,3,"0");case"Z":return Se}return null}(ot)||Se.replace(":","")})},ge.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ge.diff=function(ce,Me,ve){var _e,Se=this,Z=Ne.p(Me),ae=We(ce),W=(ae.utcOffset()-this.utcOffset())*t,pe=this-ae,Ie=function(){return Ne.m(Se,ae)};switch(Z){case F:_e=Ie()/12;break;case S:_e=Ie();break;case I:_e=Ie()/3;break;case g:_e=(pe-W)/6048e5;break;case p:_e=(pe-W)/864e5;break;case u:_e=pe/s;break;case l:_e=pe/t;break;case r:_e=pe/e;break;default:_e=pe}return ve?_e:Ne.a(_e)},ge.daysInMonth=function(){return this.endOf(S).$D},ge.$locale=function(){return de[this.$L]},ge.locale=function(ce,Me){if(!ce)return this.$L;var ve=this.clone(),_e=fe(ce,Me,!0);return _e&&(ve.$L=_e),ve},ge.clone=function(){return Ne.w(this.$d,this)},ge.toDate=function(){return new Date(this.valueOf())},ge.toJSON=function(){return this.isValid()?this.toISOString():null},ge.toISOString=function(){return this.$d.toISOString()},ge.toString=function(){return this.$d.toUTCString()},Pe}(),Je=Le.prototype;return We.prototype=Je,[["$ms",n],["$s",r],["$m",l],["$H",u],["$W",p],["$M",S],["$y",F],["$D",O]].forEach(function(Pe){Je[Pe[1]]=function(ge){return this.$g(ge,Pe[0],Pe[1])}}),We.extend=function(Pe,ge){return Pe.$i||(Pe(ge,Le,We),Pe.$i=!0),We},We.locale=fe,We.isDayjs=ze,We.unix=function(Pe){return We(1e3*Pe)},We.en=de[b],We.Ls=de,We.p={},We})}(dayjs_min)),dayjs_min.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports);var vi={exports:{}};(function(a,i){(function(e,t){a.exports=t(requireDayjs_min())})(commonjsGlobal,function(e){function t(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var s=t(e),n={name:"vi",weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(r){return r},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"}};return s.default.locale(n,null,!0),n})})(vi);dayjs.locale("vi");class Datepicker extends EditableComponent{constructor(e,t=null){var s;super(e,t);y(this,"HHmmFormat","00");y(this,"formats",["DD/MM/YYYY - HH:mm","DD/MM/YYYY - HH:m","DD/MM/YYYY - H:mm","DD/MM/YYYY - HH:","DD/MM/YYYY - H:","DD/MM/YYYY - H:m","DD/MM/YYYY - HH","DD/MM/YYYY - H","DD/MM/YYYY","DDMMYYYY","D/M/YYYY","DMYYYY","DD/MM/YY","DDMMYY","D/M","DM","DD/MM","DDMM"]);y(this,"calendar",null);y(this,"renderAwaiter",null);y(this,"closeAwaiter",null);y(this,"value");y(this,"_closeAwaiter");this.DefaultValue=dayjs(),this.Meta=e,this.InitFormat=(s=this.Meta.FormatData)!=null&&s.includes("{0:")?this.Meta.FormatData.replace("{0:","").replace("}",""):this.Meta.Precision===7?"dd/MM/yyyy - HH:mm":"DD/MM/YYYY",this.currentFormat=this.InitFormat,t!=null&&(t.firstElementChild instanceof HTMLInputElement?this.Input=t.firstElementChild:this.Input=Html.Take(t).Input.Context),this.value=null,this.nullable=!1,this.simpleNoEvent=!1,this.show=!1,this.someday=new Date,this.hour=null,this.minute=null}get Value(){return this.value}set Value(e){if(this.value!==e){if(this.value=e,this.value){const s=this.Input.selectionEnd;var t=Utils$1.IsFunction(this.Meta.FormatEntity);t?this.Input.value=t.call(this,e,this):this.Input.value=dayjs(this.value).format(this.InitFormat),this.Input.selectionStart=s,this.Input.selectionEnd=s}else this.nullable?this.Input.value=null:(this.value=new Date,this.Input.value=dayjs(this.value).format(this.InitFormat));this.Entity[this.Name]=this.value,this.Dirty=!0}}Render(){var t;this.SetDefaultVal(),this.Entity[this.Name]=this.value;let e="";this.Entity[this.Name]!==null&&(e=dayjs(this.Entity[this.Name]).format(this.InitFormat)),Html.Take(this.ParentElement),this.Input?(Html.Take(this.Input),this.Element=this.Input):(Html.Div.ClassName("datetime-picker").TabIndex(-1),Html.Input.Render(),this.Element=Html.Context,this.Input=this.Element),Html.Event("keydown",s=>{this.Disabled||!s||s.keyCode===13&&this.ParseDate()}).Value(e).Event("focus",()=>{if(this.simpleNoEvent){this.simpleNoEvent=!1;return}this.Meta.FocusSearch||this.RenderCalendar()}).Event("change",()=>this.ParseDate()).PlaceHolder(this.Meta.PlainText).Attr("autocomplete","off").Attr("name",this.Name),this.Input.addEventListener("keydown",s=>this.KeyDownDateTime(s)),(t=this.Input.parentElement)==null||t.addEventListener("focusout",()=>this.CloseCalendar()),Html.End.Div.ClassName("btn-group").Button.TabIndex(-1).Span.ClassName("fal fa-calendar").Event("click",()=>{this.Input.Disabled||(this.show?this.CloseCalendar():this.RenderCalendar())})}KeyDownDateTime(e){if(e.KeyCodeEnum()===KeyCodeEnum.Enter&&this.value===null){if(this.Disabled)return;this.show?this.CloseCalendar():this.RenderCalendar()}}IsNullable(e){return this.Entity===null||Utils$1.IsNullable(this.Name,this.Entity)}ParseDate(){if(Utils$1.isNullOrWhiteSpace(this.Input.value)){this.Input.value="",this.TriggerUserChange(null);return}const{parsed:e,datetime:t,format:s}=this.TryParseDateTime(this.Input.value);if(e)this.Value=t,this.TriggerUserChange(t);else{if(this.EditForm.Meta.CustomNextCell)return;this.Input.value="",this.TriggerUserChange(null)}}CloseCalendar(){this._closeAwaiter=setTimeout(()=>{this.show=!1,this.calendar&&(this.calendar.style.display="none"),this.Input.value=this.value?dayjs(this.value).format(this.InitFormat):"",this.hour=null,this.minute=null},250)}RenderCalendar(e=null){this.Disabled||(clearTimeout(this._closeAwaiter),this._closeAwaiter=setTimeout(()=>{this.RenderCalendarTask(e||this.value||new Date)},100))}RenderCalendarTask(e){if(this.Disabled)return;let t=e||this.value||new Date;this.show=!0,clearTimeout(this._closeAwaiter),this.calendar?(this.calendar.innerHTML="",this.calendar.style.display=""):(Html.Take(document.body).Div.ClassName("datepicker-content open open-up").TabIndex(-1).Trigger("focus"),this.calendar=Html.Context),Html.Take(this.calendar).Div.ClassName("calendar-container datepicker").Div.ClassName("v2-calendar relative").Div.ClassName("calendar-header day-select").Div.ClassName("relative flex justify-space align-center").Div.ClassName("icon-calendar-header left-icon fal fa-arrow-left").Event("click",()=>{t.setDate(1),t.setMonth(t.getMonth()-1),this.RenderCalendarTask(t)}).End.Div.ClassName("calender-current-date").Span.IText(t.getMonth()+1).End.End.Div.ClassName("icon-calendar-header right-icon fal fa-arrow-right").Event("click",()=>{t.setDate(1),t.setMonth(t.getMonth()+1),this.RenderCalendarTask(t)}).End.Div.ClassName("icon-calendar-header left-icon fal fa-arrow-left").Event("click",()=>{t.setDate(1),t.setFullYear(t.getFullYear()-1),this.RenderCalendarTask(t)}).End.Div.ClassName("calender-current-date").Span.IText(t.getFullYear()).End.End.Div.ClassName("icon-calendar-header right-icon fal fa-arrow-right").Event("click",()=>{t.setDate(1),t.setFullYear(t.getFullYear()+1),this.RenderCalendarTask(t)}).End.End.End.Div.ClassName("separate-line-header").End.Div.ClassName("calendar-body").Table.ClassName("calendar-table").Thead.TRow.Th.Text("T2").End.Th.Text("T3").End.Th.Text("T4").End.Th.Text("T5").End.Th.Text("T6").End.Th.Text("T7").End.Th.Text("CN").End.End.End.TBody.ClassName("date-in-month").Render();const s=new Date,n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0);for(var l=new Date(n);l.getDay()!==1;)l.setDate(l.getDate()-1);for(var u=new Date(r);u.getDay()!==0;)u.setDate(u.getDate()+1);(u-l)/(1e3*60*60*24*7)>=6&&u.setDate(u.getDate()-7);var p=new Date(l);const g=this.SetSelectedDay.bind(this);for(;p<=u;)for(var S=0;S<7;S++)p.getDay()===1&&Html.Instance.TRow.Render(),p<n||p>r?Html.Instance.TData.ClassName("ms-date").Text(""):Html.Instance.TData.ClassName("date-in-table ms-date").Text(p.getDate().toString()).Event("click",g,p),p.getDate()===s.getDate()&&p.getMonth()===s.getMonth()&&p.getFullYear()===t.getFullYear()&&Html.Instance.ClassName("date-in-table ms-date ms-date-current"),this.value&&p.getDate()===this.value.getDate()&&p.getMonth()===this.value.getMonth()&&p.getFullYear()===this.value.getFullYear()&&Html.Instance.ClassName("date-in-table ms-date ms-date-day-seleted"),Html.Instance.End.Render(),p.getDay()===0&&Html.Instance.End.Render(),p=p.addDays(1);Html.Instance.End.End.Div.ClassName("SeparateLine").End.End.Render(),this.Meta.Precision===7&&Html.Instance.Div.ClassName("Time").Div.ClassName("ms-label mr-12-px ms-label-bold").IText("Time").End.Div.ClassName("change-hour").Div.ClassName("ms-number ms-number-container input-time").Span.Div.ClassName("ms-number-group").Div.ClassName("ms-number-input").Input.Value(t.getHours().toString().padStart(2,"0")).Event("click",()=>clearTimeout(_closeAwaiter)).Event("change",this.ChangeHour).End.End.End.End.End.Div.ClassName("ms-label mr-6-px ml-6-px").Text(":").End.Div.ClassName("change-minute").Div.ClassName("ms-number ms-number-container input-time").Span.Div.ClassName("ms-number-group").Div.ClassName("ms-number-input").Input.Value(t.getMinutes().toString().padStart(2,"0")).Event("click",()=>clearTimeout(_closeAwaiter)).Event("change",this.ChangeMinute).End.End.End.End.End.End.Render(),Html.Instance.Div.ClassName("calendar-footer").Button.Event("click",()=>{this.TriggerUserChange(s)}).ClassName("pick-today-button").IText("Today").End.End.End.End.Render(),ComponentExt.AlterPosition(this.calendar,this.Element);const I=this.Element.closest(".scroll-content");I&&I.addEventListener("scroll",ComponentExt.AlterPosition(this.calendar,this.Element))}TryParseDateTime(e){let t=dayjs(),s=!1,n=null;for(let r=0;r<this.formats.length;r++)if(t=dayjs(e,this.formats[r],!0),t.isValid()){s=!0,n=this.formats[r];break}return{parsed:s,dateTime:t,format:n}}TriggerUserChange(e){var n;if(this.Disabled)return;let t=this.value;this.Value=e;var s={NewData:this.value,OldData:t,EvType:"change"};(n=this.UserInput)==null||n.invoke(s),this.PopulateFields(),this.CascadeField(),this.simpleNoEvent=!0,this.Input.focus()}SetSelectedDay(e,t){this.CloseCalendar(),this.TriggerUserChange(t)}IncreaseTime(e,t=!1){let s=this.value||this.someday;t?(s.setMinutes(s.getMinutes()+e),this.minute.value=s.getMinutes().toString().padStart(2,"0")):(s.setHours(s.getHours()+e),this.hour.value=s.getHours().toString().padStart(2,"0")),this.TriggerUserChange(s)}ChangeHour(e){let t=parseInt(this.hour.value);if(isNaN(t)||t<0||t>23)return;let s=this.value||this.someday;s.setHours(t),this.TriggerUserChange(s)}ChangeMinute(e){let t=parseInt(this.minute.value);if(isNaN(t)||t<0||t>59)return;let s=this.value||this.someday;s.setMinutes(t),this.TriggerUserChange(s)}ChangeHourMinuteHotKey(e){e.KeyCode()===KeyCodeEnum.UpArrow?this.IncreaseTime(1,e.target===this.minute):e.KeyCode()===KeyCodeEnum.DownArrow&&this.IncreaseTime(-1,e.target===this.minute)}ValidateAsync(){if(!this.ValidationRules||this.ValidationRules.Nothing())return Promise.resolve(!0);let e=!0;return["gt","lt","min","max","eq","ne"].forEach(s=>{e=e&&this.Validate(s,this.value)}),Promise.resolve(e)}Validate(e,t){switch(e){case"gt":return t>new Date(this.Meta.MinDate);case"lt":return t<new Date(this.Meta.MaxDate);default:return!0}}RemoveDOM(){var e;(e=this.Element)!=null&&e.parentElement&&(this.Element.parentElement.innerHTML=Str.Empty,this.Element=null)}SetDisableUI(e){var t;return this.Input&&(this.Input.readonly=e),(t=this.FieldVal)==null?void 0:t.toString()}}class Checkbox extends EditableComponent{constructor(e,t=null){super(e);y(this,"_value",null);y(this,"_input",null);if(!e)throw new Error("ui is required");this.Meta=e,this.ParentElement=t,t&&t.tagName.toLowerCase()==="input"?(this.Element=t,this._input=t):this.ParentElement=t,this.DefaultValue=!1}Render(){var e,t;this.ParentElement!=null&&this.Element==null&&(Html.Take(this.ParentElement).TabIndex(-1).SmallCheckbox(this._value??!1),this._input=Html.Context.previousElementSibling),this.Element=this._input.parentElement??this._input,Html.Take(this._input).Event("input",this.UserChange.bind(this)),this.SetDisableUI(!this.Meta.Editable),this.SetDefaultVal(),this.Value=Utils$1.GetPropValue(this.Entity,this.Name),this.Entity[this.Name]=this._value,(e=this.Element.closest("td"))==null||e.addEventListener("keydown",this.ListViewItemTab.bind(this)),(t=this.DOMContentLoaded)==null||t.invoke()}GetValueText(){return this._value===null?"N/A":this._value?"Check":"Not check"}UserChange(e){if(this.Disabled){e.preventDefault();return}const t=this._input.checked;this.DataChanged(t)}DataChanged(e){var n;const t=this._value;this._value=e,this.Entity&&(this.Entity[this.Name]=e),this.Dirty=!0;var s=new ObservableArgs({NewData:this._value,OldData:t,EvType:EventType.Change}),s={NewData:this._value,OldData:t,EvType:EventType.Change};(n=this.UserInput)==null||n.invoke(s),this.PopulateFields(),this.CascadeField(),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity).Done()}get Value(){return this._value}set Value(e){this._value=e,this._input.checked=e}UpdateView(e=!1,t=null,...s){var r;const n=(r=this.Entity)==null?void 0:r.GetComplexProp(this.Name);this.Value=n,this.Dirty||(this.OldValue=this._input.value)}SetDisableUI(e){e?this.Element.setAttribute("disabled","disabled"):this.Element.removeAttribute("disabled"),this._input.disabled=e}}class ConfirmDialog extends EditableComponent{constructor(){super(null);y(this,"DivElement");y(this,"DisposeAfterYes",!0);y(this,"YesConfirmed",new Action);y(this,"NoConfirmed",new Action);this._yesBtn=null,this.PElement=null,this.OpenEditForm=null,this.Textbox=null,this.Number=null,this.Datepicker=null,this.Precision=null,this.SearchEntry=null,this.Canceled=null,this.IgnoreNoButton=!1,this.MultipleLine=!0,this.YesText="ng ",this.NoText="Khng",this.CancelText="ng",this.Content="Bn c chc chn mun xa d liu?",this.NeedAnswer=!1,this.ComType="Textbox",this.IgnoreCancelButton=!0,this.PopulateDirty=!1,this.Title="Xc nhn"}Render(){if(Html.Take(this.PElement||document.body),Html.Div.ClassName("backdrop").Style("align-items: center;").Escape(()=>this.Dispose()),this.PElement&&Html.Instance.Style("position: fixed !important;"),this.Element=Html.Context,this.ParentElement=this.Element.parentElement,Html.Instance.Div.ClassName("popup-content confirm-dialog").Style("top: auto;").Div.ClassName("popup-title").IHtml(this.Title).Div.ClassName("icon-box").Span.ClassName("fa fa-times").Event("click",()=>this.CloseDispose()).EndOf(".popup-title").Div.ClassName("popup-body").P.IHtml(this.Content).End.Div.ClassName("box-shadow panel group").Event("keydown",t=>this.HotKeyHandler(t)).MarginRem("top",1).TextAlign("center"),this.DivElement=Html.Context,this.NeedAnswer){if(this.ComType==="Textbox"){const t=new Component;t.PlainText="Nhp cu tr li",t.ShowLabel=!1,t.FieldName=Message.ReasonOfChange,t.Row=2,t.MultipleLine=this.MultipleLine;const s=new Textbox(t);this.AddChild(s),Html.Instance.End.Render()}if(this.ComType==="Number"){const t={PlainText:"Nhp s",FieldName:"ReasonOfChange",Visibility:!0,ShowLabel:!1},s=new Numbox(t);this.AddChild(s)}if(this.ComType==="Datepicker"){const t={plainText:"Chn ngy",showLabel:!1,fieldName:"ReasonOfChange",row:2,focusSearch:!0,visibility:!0,precision:this.Precision},s=new Datepicker(t);this.AddChild(s)}}Html.Instance.Button2(this.YesText,"btn btn-success mt-2","fal fa-check").Event("click",()=>{this.ValidateAsync().then(t=>{var s;if(t){try{this.YesConfirmed&&((s=this.YesConfirmed)==null||s.invoke())}catch(n){console.error(n.stack)}this.DisposeAfterYes&&this.Dispose()}})}).End.Render(),this._yesBtn=Html.Context,this.IgnoreNoButton||Html.Instance.Button2(this.NoText,"btn btn-danger  mt-2","fal fa-window-close").MarginRem("left",1).Event("click",()=>{var t;try{(t=this.NoConfirmed)==null||t.invoke()}catch(s){console.error(s.stack)}this.CloseDispose()}).End.Render(),this.IgnoreCancelButton||Html.Instance.Button2(this.CancelText,"btn btn-success mt-2","fal fa-times").MarginRem("left",1).Event("click",()=>this.Dispose()).Render()}Dispose(){super.Dispose()}CloseDispose(){this.Canceled&&this.Canceled(),super.Dispose()}static RenderConfirm(e,t,s=null){const n=new ConfirmDialog;return n.Content=e,n.Render(),n.YesConfirmed=t,n.NoConfirmed=s,n}HotKeyHandler(e){e.KeyCode()===KeyCodeEnum.Enter&&this._yesBtn.click()}}var jt;let Image$1=(jt=class extends EditableComponent{constructor(i,e){super(i,e),this._path="",this._input=document.createElement("input"),this._preview=null,this._disabledDelete=!1,this._gallerys=document.createElement("div"),this.DataSource=this.Meta.Template||"image/*",this.DefaultValue="",this.FileUploaded=new Action,this.zoomLevel=0,this.flagZoomIn=1,this.zoomMaxLevel=3}get Path(){return this._path}set Path(i){if(this.Element.parentElement.querySelectorAll(".gallery").forEach(s=>s.remove()),this._path=i,this.Entity&&(this.Entity[this.Name]=this._path),!this._path||this._path.trim()==="")return;const t=this._path.split(jt.PathSeparator);!t||t.length===0||t.forEach(s=>{this.RenderFileThumb(s)})}get ImageSources(){return this.Path?this.Path.split(jt.PathSeparator):null}Render(){var i,e,t;this._path=(i=Utils$1.GetPropValue(this.Entity,this.Name))==null?void 0:i.toString(),this._path&&this._path.split(jt.PathSeparator),this.RenderUploadForm(),this.Path=this._path,(e=this.DOMContentLoaded)==null||e.invoke(),(t=this.Element.closest("td"))==null||t.addEventListener("keydown",this.ListViewItemTab)}RenderFileThumb(i){const e=document.createElement("div");e.className="gallery",this._gallerys.appendChild(e);const t=this.RemoveGuid(i);if(Utils$1.IsImage(i)){const n=document.createElement("img");n.className="image",Object.assign(n.style,this.Meta.ChildStyle),n.src=i.includes("http")?i:Client.Origin+Utils$1.DecodeSpecialChar(i),e.appendChild(n),n.addEventListener("click",()=>this.Preview(i))}else{const n=document.createElement("a");n.className=t.includes("pdf")?"fal fa-file-pdf":"fal fa-file",n.title=Utils$1.DecodeSpecialChar(t),Object.assign(n.style,this.Meta.ChildStyle),n.href=i.includes("http")?i:Client.Origin+Utils$1.DecodeSpecialChar(i),e.appendChild(n)}if(!this.Disabled){const n=document.createElement("i");n.className="fas fa-trash-alt",n.addEventListener("click",()=>this.RemoveFile(i)),e.appendChild(n)}return this._gallerys}RemoveGuid(i){let e=i;if(i.length>jt.GuidLength){const t=Utils$1.GetFileNameWithoutExtension(i);e=t.substring(0,t.length-jt.GuidLength)+"."+i.split(".").pop()}return e}SetCanDeleteImage(i){this._disabledDelete=!i,i&&this.UpdateView()}Preview(i){if(!Utils$1.IsImage(i)){console.log("Not an image: Downloading file."),window.location.href=i;return}let e=document.createElement("img");e.src=i,e.style.cssText="width:100%;",this._preview&&this._preview.remove(),this._preview=e,document.body.appendChild(e),e.addEventListener("click",()=>{e.remove(),this._preview=null}),zoom()}ZoomImage(i){this.flagZoomIn<this.zoomMaxLevel?(this.zoomLevel===0||this.zoomLevel<this.zoomMaxLevel)&&(i.style.cursor="zoom-in",i.height+=450,i.width+=400,this.zoomLevel++,this.flagZoomIn++):this.flagZoomIn===this.zoomMaxLevel&&(this.zoomLevel===1&&(this.flagZoomIn=1),i.style.cursor="zoom-out",i.height-=450,i.width-=400,this.zoomLevel--)}MoveAround(i,e){const t=i.keyCode;if(![37,39].includes(t))return;const s=i.target.querySelector("img");s&&(t===37?this.MoveLeft(e,s):t===39&&this.MoveRight(e,s))}MoveLeft(i,e){const t=this.Path.split("    ");let s=t.indexOf(i);return s===0?s=t.length-1:s--,e.Src=(this.Path.includes("http")?"":Client.Origin)+t[s],t[s]}MoveRight(i,e){const t=this.Path.split("    ");let s=t.indexOf(i);return s===t.length-1?s=0:s++,e.Src=(this.Path.includes("http")?"":Client.Origin)+t[s],t[s]}OpenFileDialog(i){this.Disabled||this.OpenNativeFileDialog(i)}RenderUploadForm(){var i=this.Meta.Precision==0;this.Meta.VirtualScroll?(Html.Take(this.ParentElement).Div.ClassName("ms-upload").Div.ClassName("ms-title-upload").Div.ClassName("attach-text").Div.ClassName("mi mi-18 mi-attach m-r-8 cursor-default").End.Div.IText(this.Meta.Label??"Attach").End.End.Div.ClassName("max-size-upload").IText("Maximum size 5MB").End.End.Span.Div.ClassName("ms-img-upload").Div.ClassName("ms-input-upload").Input.Type("file").Attr("title","").Attr("accept",""),i&&Html.Instance.Attr("multiple","multiple"),this.Element=this._input=Html.Context,this.Element.addEventListener("drop",e=>this.UploadDropImages(e)),this.Element.addEventListener("change",e=>this.UploadSelectedImages(e)),this.CanWrite||(this._input.readOnly=!0),Html.Instance.End.Div.ClassName("w-full-100").Div.ClassName("w-full-100").End.Div.ClassName("img-upload"),this._gallerys=Html.Context,Html.Instance.End.End.Span.ClassName("text-input").IText("Drag/drop files here or click here").EndOf(".ms-upload").End.Render()):(Html.Take(this.ParentElement).ClassName("choose-files-file").Input.Type("file").Attr("name","files").ClassName("d-none").Attr("accept",DataSourceFilter),Element=_input=Html.Context,this.Element.addEventListener("change",e=>this.UploadSelectedImages(e)),i&&Html.Instance.Attr("multiple","multiple"),Html.Take(this.ParentElement).Div.ClassName("file-upload"),this.CanWrite&&Html.Instance.I.ClassName("fal fa-cloud-upload").Event(EventType.Click,this.OpenFileDialog).End.Render(),Html.Instance.Div.ClassName("gallerys-file").Render(),this._gallerys=Html.Context)}RemoveFile(i,e){if(this.Disabled||(i.StopPropagation(),!e||e.trim()===""))return;const s=`Bn chc chn mun xa ${Utils$1.GetFileNameWithoutExtension(this.RemoveGuid(Utils$1.DecodeSpecialChar(e)))+Utils$1.GetExtension(this.RemoveGuid(Utils$1.DecodeSpecialChar(e)))}`;ConfirmDialog.RenderConfirm(s,()=>{Client.Instance.PostAsync(e,Client.FileFTP+"/DeleteFile").then(n=>{var p;const r=this._path,l=this._path.replace(e,"").replace(jt.PathSeparator+jt.PathSeparator,"").split(jt.PathSeparator).filter(g=>g!=null).Distinct();this.Path=l.join(jt.PathSeparator),this.dirty=!0;const u={NewData:this._path,OldData:r,FieldName:this.Name,EvType:EventType.Change};(p=this.UserInput)==null||p.Invoke(u),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity)})})}UploadSelectedImages(i){if(i.preventDefault(),this.EditForm.IsLock){console.log("Edit form is locked.");return}const e=i.target.files;if(!e.length){console.log("No files selected.");return}const t=this._path;this.UploadAllFiles(e).then(()=>{var n;this.Dirty=!0,this._input.value="";const s={NewData:this._path,OldData:t,FieldName:this.Name,EvType:EventType.Change};(n=this.UserInput)==null||n.Invoke(s),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity)}).catch(s=>{console.error("Failed to upload files:",s)})}UpdateView(i=!1,e=null,...t){var s;this.Path=(s=Utils$1.GetPropValue(this.Entity,this.Name))==null?void 0:s.toString(),super.UpdateView(i,e,...t)}async UploadFile(i){if(this.Meta.IsRealtime||!i.type.match("image.*"))try{return await Client.Instance.PostFilesAsync(i,Utils$1.FileSvc)}catch(e){throw console.error("Error posting file:",e),e}else return new Promise((e,t)=>{const s=new FileReader;s.onload=async n=>{try{const r=await Utils$1.UploadBase64Image(n.target.result,i.name);e(r),await Client.Instance.PatchAsync({Table:"FileUpload",Changes:[{Field:"Id",Value:Uuid7.Id25()},{Field:"EntityName",Value:this.Meta.RefName},{Field:"RecordId",Value:this.EntityId},{Field:"SectionId",Value:this.Meta.ComponentGroupId},{Field:"FieldName",Value:this.Name},{Field:"FileName",Value:i.name},{Field:"FilePath",Value:r}]})}catch(r){console.error("Error in file upload process:",r),t(r)}},s.readAsDataURL(i)})}async UploadAllFiles(i){var s;Spinner.AppendTo(this.EditForm.Element);const e=Array.from(i).map(this.UploadFile);let t=await Promise.all(e);if(t.length){if(this.Meta.Precision===0){const n=this.Path+jt.PathSeparator+t.join(jt.PathSeparator);t=[...new Set(n.trim().split(jt.PathSeparator))]}this._path,this.Path=t.join(jt.PathSeparator),Spinner.Hide(),(s=this.FileUploaded)==null||s.Invoke()}}OpenNativeFileDialog(i){i==null||i.preventDefault(),this._input.click()}GetValueText(){return!this.ImageSources||this.ImageSources.length===0?null:this.ImageSources.map(i=>{const e=this.RemoveGuid(i);return`<a target="_blank" href="${i}">${e}</a>`}).join(",")}},y(jt,"PathSeparator","    "),y(jt,"PNGUrlPrefix","data:image/png;base64,"),y(jt,"JpegUrlPrefix","data:image/jpeg;base64,"),y(jt,"GuidLength",36),jt);class Button extends EditableComponent{constructor(e,t=null){super(e);y(this,"IsButton",!0);this.Meta=e,this.ButtonEle=t,this._textEle=null}Render(){var e,t;if(this.ButtonEle)this.Element=this.ButtonEle;else{if(!this.ParentElement)throw new Error("ParentElement is required");Html.Take(this.ParentElement).Button.Render(),this.Element=this.ButtonEle=Html.Context}Html.Take(this.Element).ClassName(this.Meta.ClassName).Event("click",()=>this.DispatchClick()).Style(this.Meta.Style),this.Meta.Icon&&Html.Icon(this.Meta.Icon).End.Text(" ").Render(),Html.Span.ClassName("caption").IText(this.Meta.Label||""),this._textEle=Html.Context,(e=this.Element.closest("td"))==null||e.addEventListener("keydown",s=>this.ListViewItemTab(s)),(t=this.DOMContentLoaded)==null||t.invoke()}async DispatchClick(){if(!(this.Disabled||this.Element.hidden)){this.Disabled=!0;try{Spinner.AppendTo(this.Element),this.DispatchEvent(this.Meta.Events,"click",this.Entity,this).then(()=>{this.Disabled=!1,Spinner.Hide()})}finally{window.setTimeout(()=>{this.Disabled=!1},2e3)}}}GetValueText(){var e;return!this.Entity||!this.Name?this._textEle.textContent:(e=this.FieldVal)==null?void 0:e.toString()}}class ObservableList{constructor(i=[]){this._data=i,this.Listeners=[]}Clear(){for(;this._data.length;)this._data.pop()}Subscribe(i){this.Listeners.push(i)}Unsubscribe(i){this.Listeners=this.Listeners.filter(e=>e!==i)}Notify(i,e,t){const s={ListData:this._data,Item:e,Index:t,Action:i};this.Listeners.forEach(n=>n(s))}get Data(){return this._data}set Data(i){this._data=i,this.Notify("Render")}Add(i,e=this._data.length){this._data.splice(e,0,i),this.Notify("Add",i,e)}Remove(i){const e=this._data.indexOf(i);e>-1&&(this._data.splice(e,1),this.Notify("Remove",i,e))}RemoveAt(i){if(i>=0&&i<this._data.length){const e=this._data[i];this._data.splice(i,1),this.Notify("Remove",e,i)}}Update(i,e){e>=0&&e<this._data.length&&(this._data[e]=i,this.Notify("Update",i,e))}}let SearchEntry$1=class extends EditableComponent{constructor(i,e=null){super(i);y(this,"IsSearchEntry",!0);y(this,"IsMultiple",!1);y(this,"_findMatchTextAwaiter");this.DefaultValue="",this.SEntryClass="search-entry",this.Meta.ComponentGroup=null,this.Meta.Row=this.Meta.Row??50,this.RowData=new ObservableList,this._input=null,this._rootResult=null,this._parentInput=null,this._backdrop=null,this._waitForInput=null,this._waitForDispose=null,this._contextMenu=!1,this.SearchResultEle=null,this._gv=null,this.DisplayField=this.Meta.FieldName.substring(0,this.Meta.FieldName.length-2)}Render(){this.SetDefaultVal(),this._value=this.Entity[this.Name],this.RenderInputAndEvents(),this.RenderIcons(),this.FindMatchText(),this.SearchResultEle=this.Element.closest("div")}RenderInputAndEvents(){if(this.ParentElement.tagName=="INPUT"&&(this.Element=this._input=this.ParentElement),this.Element==null)this.Element=this._input=Html.Take(this.ParentElement).Div.Position(PositionEnum.relative).TabIndex(-1).ClassName(this.SEntryClass).Input.GetContext(),this._parentInput=this._input.parentElement;else if(this._input=this.Element,!this._input.parentElement.classList.includes(this.SEntryClass)){var i=document.createElement("div");i.classList.add(this.SEntryClass),this._input.parentElement.appendChild(i),this._input.parentElement.insertBefore(i,this._input)}this._input.autocomplete="off",Html.Take(this._input).PlaceHolder(this.Meta.PlainText).Event(EventType.ContextMenu,()=>this._contextMenu=!0).Event(EventType.Focus,this.FocusIn.bind(this)).Event(EventType.FocusOut,this.DiposeGvWrapper.bind(this)).Event(EventType.Click,this.SEClickOpenRef.bind(this)).Event(EventType.Change,this.SEChangeHandler.bind(this)).Event(EventType.Input,()=>this.Search(this._input.value,!1,null,!0,!1))}SEClickOpenRef(){this.Disabled&&!this.Meta.FocusSearch&&this.OpenRefDetail()}SEChangeHandler(){this._value===null&&(this._input.value="")}SEKeydownHandler(i){var t,s;if(this.Disabled||i===null)return;let e=i.KeyCodeEnum();switch(e){case KeyCodeEnum.Escape:this._gv!==null&&(i.stopPropagation(),this._gv.Show=!1);break;case KeyCodeEnum.UpArrow:((t=this._gv)==null?void 0:t.Element)!==null&&this._gv.Show&&(i.stopPropagation(),this._gv.MoveUp());break;case KeyCodeEnum.DownArrow:((s=this._gv)==null?void 0:s.Element)!==null&&this._gv.Show&&(i.stopPropagation(),this._gv.MoveDown());break;case KeyCodeEnum.Enter:this.EnterKeydownHandler(e);break;case KeyCodeEnum.F6:this._gv!==null&&this._gv.Show&&(i.preventDefault(),this._gv.HotKeyF6Handler(i,KeyCodeEnum.F6));break;default:i.shiftKey&&e===KeyCodeEnum.Delete&&(this._input.value=null,this.Search());break}}EnterKeydownHandler(i){if(this.Meta.HideGrid){this.Search(this._input.value,!0,0,!0);return}this.EditForm.Meta.CustomNextCell&&(this._gv===null||!this._gv.Show)||(this._gv!==null&&this._gv.Show?this.EnterKeydownTableStillShow(i):this.Search(null,!0,0))}EnterKeydownTableStillShow(i){var e,t,s;if(this._gv.SelectedIndex>=0){let n=(e=this._gv)==null?void 0:e.AllListViewItem.find(r=>r.RowNo===this._gv.SelectedIndex).Entity;this.EntrySelected(n)}else((t=this._gv)==null?void 0:t.RowData)!==null&&this._gv.RowData.Data.length===1&&i===KeyCodeEnum.Enter&&this.EntrySelected((s=this._gv)==null?void 0:s.RowData.Data[0])}FocusIn(){if(this.ParentElement.classList.add("cell-selected"),this._contextMenu){this._contextMenu=!1;return}this.Disabled||this.Meta.FocusSearch||this.Search(null,!1,0)}FocusOut(){this.ParentElement.classList.remove("cell-selected")}Dispose(){this.DisposeGv(),super.Dispose()}DiposeGvWrapper(i=null){window.clearTimeout(this._waitForDispose),this._waitForDispose=window.setTimeout(this.DisposeGv.bind(this),50)}DisposeGv(){this.DisposeMobileSearchResult(),this._gv!==null&&(this._gv.Show=!1),this._parentInput.appendChild(this._input)}RenderIcons(){let i=LangSelect.Get("To mi d liu ");Html.Take(this.Element.parentElement).Div.ClassName("search-icons");let e=Html.Instance.Icon("fa fa-info-circle").Title(LangSelect.Get("Thng tin chi tit ")+LangSelect.Get(this.Meta.Label)).Event("click",this.OpenRefDetail.bind(this)).End.Icon("fa fa-plus").Title(`${i} ${LangSelect.Get(this.Meta.Label)}`).Event("click",this.OpenRefDetail.bind(this)).End.GetContext();this.Element.nextElementSibling!==null?this.Element.parentElement.insertBefore(e,this.Element.nextElementSibling):this.Element.parentElement.appendChild(e)}OpenRefDetail(){!this.Meta.RefClass||this.Matched===null||ComponentExt.LoadFeature(this.Meta.RefClass).Done(this.FeatureLoaded.bind(this))}FeatureLoaded(feature){var i;let instance=new(eval(this.Meta.RefClass));instance.Id=feature.Name,instance.ParentForm=this.TabEditor,instance.ParentElement=this.TabEditor.Element,this.TabEditor.AddChild(instance);let res;if(!this.Meta.Template.trim()!==""){Utils$1.IsFunction(this.Meta.Template)?(i=Utils$1.IsFunction(this.Meta.Template))==null||i.call(null,res,this):res=Utils$1.FormatEntity2(this.Meta.Template,null,this.Matched,Utils$1.EmptyFormat,Utils$1.EmptyFormat);let e=JSON.parse(res);instance.Entity=e}instance.DOMContentLoaded+=()=>{let e=instance.FindComponentByName("Button"),t=document.createElement("td");e.Element.querySelector("tr").prepend(t),Html.Take(t).Button.ClassName("btn btn-secondary").Icon("fal fa-file-check").End.IText("Apply").Event("click",()=>{instance.IsFormValid().Done(n=>{n&&instance.SavePatch().Done(r=>{r&&(this.SaveAndApply(instance.Entity),instance.Dispose())})})}).End.Render()}}SaveAndApply(i){var t,s,n;let e=this.Value;if(this.Dirty=!0,this.Matched=i,!this.Parent.IsListViewItem){this.Value=(t=i[this.IdField])==null?void 0:t.toString(),this.Dirty=!0,this.Parent.EditForm.Dirty=!0,this.UserInput!==null&&(this.CascadeAndPopulate(),(s=this.UserInput)==null||s.Invoke({NewData:this._value,OldData:e,EvType:EventType.Change}));return}this.UserInput!==null&&(this.CascadeAndPopulate(),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity,this.Parent.Entity,this.Matched),(n=this.UserInput)==null||n.Invoke({NewData:this._value,OldData:e,EvType:EventType.Change}))}Search(i=null,e=!0,t=500,s=!1,n=!1){this.Meta.HideGrid&&!n||(window.clearTimeout(this._waitForInput),this._waitForInput=window.setTimeout(()=>{if(this._gv!==null&&(this._gv.Wheres=[],this._gv.AdvSearchVM.Conditions=[],this._gv.CellSelected=[]),e&&!this._input.value){this.InputEmptyHandler(s);return}this.TriggerSearch(i)},t))}TriggerSearch(i=null){this.RenderGridView(Utils$1.DecodeSpecialChar(i))}async RenderGridView(i=null){var t,s,n;if(!this._isRendering){if(this._isRendering=!0,this._gv!==null){this.RenderRootResult(),this._gv.ParentElement=this._rootResult,this._gv.Entity=this.Entity,this._gv.ListViewSearch.EntityVM.SearchTerm=i,this._gv.RowData.Data=[],this._gv.ActionFilter(),this.GridResultDomLoaded(),this._isRendering=!1;return}Utils$1.isNullOrWhiteSpace(this.Meta.GroupBy)&&(this._gv=new GridView$1(this.Meta)),this.RenderRootResult(),this.ParentElement=this._rootResult,this._gv.EditForm=this.EditForm,this._gv.Meta=this.Meta,this._gv.ParentElement=this._rootResult,this._gv.Entity=this.Entity,this._gv.Parent=this,this._gv.AlwaysValid=!0,this._gv.PopulateDirty=!1,this._gv.ShouldSetEntity=!1,this._gv.DOMContentLoaded.add(this.GridResultDomLoaded.bind(this)),this._gv.AddSections(),this._gv.Show=!1,this._gv.Render(),this._gv.Element.classList.add("floating"),this._gv.RowClick.add(this.EntrySelected.bind(this)),this._isRendering=!1,this._gv.Paginator&&((t=this._gv.Paginator)==null?void 0:t.Element)!==null&&(this._gv.Paginator.Element.tabIndex=-1,this._gv.Paginator.Element.addEventListener("focusin",()=>window.clearTimeout(this._waitForDispose)),this._gv.Paginator.Element.addEventListener("focusout",this.DiposeGvWrapper.bind(this))),this._gv.MainSection&&((s=this._gv.MainSection)==null?void 0:s.Element)!==null&&(this._gv.MainSection.Element.tabIndex=-1,this._gv.MainSection.Element.addEventListener("focusin",()=>window.clearTimeout(this._waitForDispose)),this._gv.MainSection.Element.addEventListener("focusout",this.DiposeGvWrapper.bind(this))),this._gv.HeaderSection&&((n=this._gv.HeaderSection)==null?void 0:n.Element)!==null&&(this._gv.HeaderSection.Element.tabIndex=-1,this._gv.HeaderSection.Element.addEventListener("focusin",()=>window.clearTimeout(this._waitForDispose)),this._gv.HeaderSection.Element.addEventListener("focusout",this.DiposeGvWrapper.bind(this))),this.Meta.LocalHeader===null&&(this.Meta.LocalHeader=Array.from(this._gv.header.filter(r=>r.id!=null)));var e=this.Element.closest(".tab-item");e!=null&&e.addEventListener(EventType.Scroll,this.AlterPositionGV.bind(this))}}RenderRootResult(){this._rootResult===null&&(!this.IsSmallUp&&this._backdrop===null?(Html.Take(EditableComponent.TabContainer).Div.ClassName("backdrop"),this._backdrop=Html.Context,Html.Instance.Div.ClassName("popup-content").Style("top: 0;width: 100%;").Div.ClassName("popup-title").Span.IconForSpan("fal fal fa-search").End.Span.IText("Search").End.Div.ClassName("icon-box").Span.ClassName("fa fa-times").Event("click",this.DisposeMobileSearchResult.bind(this)).End.End.End.Div.ClassName("popup-body scroll-content"),this._rootResult=Html.Context,this._rootResult.appendChild(this._input)):this.IsSmallUp&&(this._rootResult=document.createElement("div"),this._rootResult.classList.add("result-wrapper"),this.SearchResultEle.appendChild(this._rootResult)))}DisposeMobileSearchResult(){this._parentInput.appendChild(this._input),this._backdrop!==null&&(this._backdrop.remove(),this._backdrop=null),this._rootResult!==null&&(this._rootResult.remove(),this._rootResult=null)}async GridResultDomLoaded(){var i;this.FocusBackWithoutEvent(),this._gv.SelectedIndex=-1,this._gv.RowAction(e=>{e.Selected=!1}),this._gv.Element.style.inset=null,this.RenderRootResult(),this._rootResult.appendChild(this._gv.Element),this.Meta.HideGrid||(this._gv.Show=!0),this.IsSmallUp?ComponentExt.AlterPosition(this._gv.Element,this._input):(this._gv.Element.style.maxWidth="100%",this._gv.Element.style.minWidth="calc(100% - 2rem)"),this.Meta.HideGrid&&this.EntrySelected((i=this._gv)==null?void 0:i.RowData.Data[0]),this.FocusBackWithoutEvent()}AlterPositionGV(){ComponentExt.AlterPosition(this._gv.Element,this._input)}FocusBackWithoutEvent(){window.clearTimeout(this._waitForDispose),window.clearTimeout(this._waitForInput),this.Meta.IsPivot||this._input.focus()}InputEmptyHandler(i){var s;let e=this._value,t=this.Matched;this.Matched=null,this._value=null,this._input.value="",t!==this.Matched&&(this.Entity[this.Name]=null,this.Dirty=!0,this.CascadeAndPopulate(),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity,this.Matched,t).Done(),(s=this.UserInput)==null||s.Invoke({NewData:this._value,OldData:e,EvType:EventType.Change})),!(i&&!this._input.value)&&(this.IsMultiple&&(this._isRendering=!1),this.TriggerSearch(null))}FindMatchText(){this.Matched=this.Entity[this.DisplayField]||null,this.SetMatchedValue()}CascadeAndPopulate(){this.CascadeField(),this.PopulateFields(this.Matched)}SetMatchedValue(){this._input.value=this.EmptyRow?"":this.GetMatchedText(this.Matched),this.UpdateValue()}UpdateValue(){var i,e;this.Dirty||(this.OriginalText=this._input.value,(i=this.DOMContentLoaded)==null||i.invoke(),this.OldValue=(e=this._value)==null?void 0:e.toString())}PatchDetail(){let i=[{Label:this.ComLabel+"(value)",Field:this.Name,Value:this._value,OldVal:this.OldValue}];if(!this.Meta.FieldText){let e=Utils$1.GetPropValue(this.Entity,this.Meta.DisplayField)??{};e[this.Meta.DisplayDetail]=this._input.value,i.push({Label:this.ComLabel+"(text)",Field:this.Meta.DisplayField,Value:JSON.stringify(e),HistoryValue:this._input.value,OldVal:this.OriginalText})}return i}GetMatchedText(i){if(i===null&&this.Entity===null||!i)return"";let e=Utils$1.FormatEntity(this.Meta.FormatData,i);return Utils$1.DecodeSpecialChar(e??"")}EntrySelected(i){if(window.clearTimeout(this._waitForDispose),this.EmptyRow=!1,i===null||this.Disabled)return;let e=this.Matched;this.Matched=i;let t=this._value;this._value=i[this.IdField],this.Entity!==null&&this.Name&&(this.Entity[this.Name]=this._value),this.Dirty=!0,this.Matched=i,this.SetMatchedValue(),this._gv!==null&&(this._gv.Show=!1),this.CascadeAndPopulate(),this.DispatchEvent(this.Meta.Events,EventType.Change,this.Entity,i,e).Done(()=>{var s;(s=this.UserInput)==null||s.Invoke({NewData:this._value,OldData:t,EvType:EventType.Change}),this.DiposeGvWrapper()})}UpdateView(i=!1,e=null,...t){if(this._value=Utils$1.GetPropValue(this.Entity,this.Name),this._value===null){this.Matched=null,this._input.value=null,this.UpdateValue();return}this.FindMatchText()}async ValidateAsync(){return this.ValidationRules.Nothing()?!0:(this.ValidationResult.Clear(),this.ValidateRequired(this._value),this.Validate(ValidationRule.Equal,this._value,(i,e)=>i===e),this.Validate(ValidationRule.NotEqual,this._value,(i,e)=>i!==e),this.IsValid)}SetDisableUI(i){this._input!==null&&(this._input.readOnly=i)}RemoveDOM(){this._input!==null&&this._input.parentElement!==null&&this._input.parentElement.remove()}};const searchEntry=Object.freeze(Object.defineProperty({__proto__:null,SearchEntry:SearchEntry$1},Symbol.toStringTag,{value:"Module"})),pn=class pn extends EditableComponent{constructor(e,t=null){super(e);y(this,"time");this.Element=t||null,this.DefaultValue="",this.editor=null}Render(){this.Element||(this.ParentElement.style.textAlign="unset",Html.Take(this.ParentElement).Div.ClassName("code-editor").Style("height:150px;max-height:150px;position: relative;"),this.Element=Html.Context),this.Config().then(()=>{typeof require>"u"||require(["vs/editor/editor.main"],this.EditorLoaded.bind(this))})}UpdateView(e=!1,t=null,...s){this.editor.setValue(this.FieldVal)}async Config(){if(typeof require>"u"||pn._hasConfig)return;pn._hasConfig=!0,require.config({paths:{vs:"https://unpkg.com/monaco-editor@0.8.3/min/vs"}}),window.MonacoEnvironment={getWorkerUrl:()=>e};let e=URL.createObjectURL(new Blob([`
            self.MonacoEnvironment = {
                baseUrl: 'https://unpkg.com/monaco-editor@0.8.3/min/'
            };
            importScripts('https://unpkg.com/monaco-editor@0.8.3/min/vs/base/worker/workerMain.js');
            `],{type:"text/javascript"}))}EditorLoaded(){this.editor=monaco.editor.create(this.Element,{value:this.FieldVal??Str.Empty,language:this.Meta.Lang??"javascript",theme:this.Meta.Theme??"vs-light",automaticLayout:!0,minimap:{enabled:!1}}),window.addEventListener("resize",this.ResizeHandler.bind(this)),this.editor.getModel().onDidChangeContent(()=>{this.FieldVal=this.editor.getValue(),this.Dirty=!0}),this.Element.classList.add("code-editor"),this.Element.style.resize="both",this.Element.style.border="1px solid #dde",this.addEventListener("UpdateView",()=>{this.editor.setValue(this.FieldVal)}),Html.Take(this.Element).Icon("fal fal fa-compress-wide").Style("position: absolute; z-index: 1000; top: 0; right: 0;").Event("click",()=>{ComponentExt.FullScreen(this.Element)})}ResizeHandler(){window.clearTimeout(this.time),this.time=window.setTimeout(()=>{const e=this.Parent.Element.clientWidth-30;this.Element.style.width=e+"px"},200)}};y(pn,"_hasConfig");let CodeEditor=pn;class ComponentFactory{static GetComponent(i,e,t=null,s=!1){if(i===null)throw new Error("ui is required");if(!i.ComponentType)return null;i.ComponentType=i.ComponentType.trim();let n;switch(i.ComponentType){case"Input":n=new Textbox(i,t);break;case"Number":n=new Numbox(i,t);break;case"Datepicker":n=new Datepicker(i,t);break;case"Checkbox":n=new Checkbox(i,t);break;case"FileUpload":n=new Image$1(i,t);break;case"Button":n=new Button(i,t);break;case"GridView":n=new GridView$1(i,t);break;case"Dropdown":n=new SearchEntry$1(i,t);break;case"CodeEditor":n=new CodeEditor(i,t);break;default:n=new Textbox(i,t);break}return n.CanWrite=s,n[Utils$1.IdField]=`${i.Id.toString()}`,n.Name=i.FieldName,n.ComponentType=i.ComponentType,n.EditForm=e,n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(a,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},extendStatics(a,i)};function __extends(a,i){extendStatics(a,i);function e(){this.constructor=a}a.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}function __values(a){var i=typeof Symbol=="function"&&a[Symbol.iterator],e=0;return i?i.call(a):{next:function(){return a&&e>=a.length&&(a=void 0),{value:a&&a[e++],done:!a}}}}function __read(a,i){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var t=e.call(a),s,n=[],r;try{for(;(i===void 0||i-- >0)&&!(s=t.next()).done;)n.push(s.value)}catch(l){r={error:l}}finally{try{s&&!s.done&&(e=t.return)&&e.call(t)}finally{if(r)throw r.error}}return n}function __spread(){for(var a=[],i=0;i<arguments.length;i++)a=a.concat(__read(arguments[i]));return a}var Event$1=function(){function a(i,e){this.target=e,this.type=i}return a}(),ErrorEvent=function(a){__extends(i,a);function i(e,t){var s=a.call(this,"error",t)||this;return s.message=e.message,s.error=e,s}return i}(Event$1),CloseEvent=function(a){__extends(i,a);function i(e,t,s){e===void 0&&(e=1e3),t===void 0&&(t="");var n=a.call(this,"close",s)||this;return n.wasClean=!0,n.code=e,n.reason=t,n}return i}(Event$1);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var getGlobalWebSocket=function(){if(typeof WebSocket<"u")return WebSocket},isWebSocket=function(a){return typeof a<"u"&&!!a&&a.CLOSING===2},DEFAULT={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1};(function(){function a(i,e,t){var s=this;t===void 0&&(t={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(n){s._debug("open event");var r=s._options.minUptime,l=r===void 0?DEFAULT.minUptime:r;clearTimeout(s._connectTimeout),s._uptimeTimeout=setTimeout(function(){return s._acceptOpen()},l),s._ws.binaryType=s._binaryType,s._messageQueue.forEach(function(u){return s._ws.send(u)}),s._messageQueue=[],s.onopen&&s.onopen(n),s._listeners.open.forEach(function(u){return s._callEventListener(n,u)})},this._handleMessage=function(n){s._debug("message event"),s.onmessage&&s.onmessage(n),s._listeners.message.forEach(function(r){return s._callEventListener(n,r)})},this._handleError=function(n){s._debug("error event",n.message),s._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),s.onerror&&s.onerror(n),s._debug("exec error listeners"),s._listeners.error.forEach(function(r){return s._callEventListener(n,r)}),s._connect()},this._handleClose=function(n){s._debug("close event"),s._clearTimeouts(),s._shouldReconnect&&s._connect(),s.onclose&&s.onclose(n),s._listeners.close.forEach(function(r){return s._callEventListener(n,r)})},this._url=i,this._protocols=e,this._options=t,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(a,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(a,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(a,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(a,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"CONNECTING",{get:function(){return a.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"OPEN",{get:function(){return a.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"CLOSING",{get:function(){return a.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"CLOSED",{get:function(){return a.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(i){this._binaryType=i,this._ws&&(this._ws.binaryType=i)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bufferedAmount",{get:function(){var i=this._messageQueue.reduce(function(e,t){return typeof t=="string"?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e},0);return i+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?a.CLOSED:a.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),a.prototype.close=function(i,e){if(i===void 0&&(i=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(i,e)},a.prototype.reconnect=function(i,e){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(i,e),this._connect())},a.prototype.send=function(i){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",i),this._ws.send(i);else{var e=this._options.maxEnqueuedMessages,t=e===void 0?DEFAULT.maxEnqueuedMessages:e;this._messageQueue.length<t&&(this._debug("enqueue",i),this._messageQueue.push(i))}},a.prototype.addEventListener=function(i,e){this._listeners[i]&&this._listeners[i].push(e)},a.prototype.dispatchEvent=function(i){var e,t,s=this._listeners[i.type];if(s)try{for(var n=__values(s),r=n.next();!r.done;r=n.next()){var l=r.value;this._callEventListener(i,l)}}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return!0},a.prototype.removeEventListener=function(i,e){this._listeners[i]&&(this._listeners[i]=this._listeners[i].filter(function(t){return t!==e}))},a.prototype._debug=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];this._options.debug&&console.log.apply(console,__spread(["RWS>"],i))},a.prototype._getNextDelay=function(){var i=this._options,e=i.reconnectionDelayGrowFactor,t=e===void 0?DEFAULT.reconnectionDelayGrowFactor:e,s=i.minReconnectionDelay,n=s===void 0?DEFAULT.minReconnectionDelay:s,r=i.maxReconnectionDelay,l=r===void 0?DEFAULT.maxReconnectionDelay:r,u=0;return this._retryCount>0&&(u=n*Math.pow(t,this._retryCount-1),u>l&&(u=l)),this._debug("next delay",u),u},a.prototype._wait=function(){var i=this;return new Promise(function(e){setTimeout(e,i._getNextDelay())})},a.prototype._getNextUrl=function(i){if(typeof i=="string")return Promise.resolve(i);if(typeof i=="function"){var e=i();if(typeof e=="string")return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},a.prototype._connect=function(){var i=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var e=this._options,t=e.maxRetries,s=t===void 0?DEFAULT.maxRetries:t,n=e.connectionTimeout,r=n===void 0?DEFAULT.connectionTimeout:n,l=e.WebSocket,u=l===void 0?getGlobalWebSocket():l;if(this._retryCount>=s){this._debug("max retries reached",this._retryCount,">=",s);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!isWebSocket(u))throw Error("No valid WebSocket class provided");this._wait().then(function(){return i._getNextUrl(i._url)}).then(function(p){i._closeCalled||(i._debug("connect",{url:p,protocols:i._protocols}),i._ws=i._protocols?new u(p,i._protocols):new u(p),i._ws.binaryType=i._binaryType,i._connectLock=!1,i._addListeners(),i._connectTimeout=setTimeout(function(){return i._handleTimeout()},r))})}},a.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new ErrorEvent(Error("TIMEOUT"),this))},a.prototype._disconnect=function(i,e){if(i===void 0&&(i=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(i,e),this._handleClose(new CloseEvent(i,e,this))}catch{}}},a.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},a.prototype._callEventListener=function(i,e){"handleEvent"in e?e.handleEvent(i):e(i)},a.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},a.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},a.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},a})();const _n=class _n extends EditableComponent{constructor(){super(...arguments);y(this,"PElement",null);y(this,"Top",0);y(this,"Left",0);y(this,"_selectedContextMenuItem",null);y(this,"_selectedItem",null);y(this,"IsRoot",!1);y(this,"_selectedIndex",-1);y(this,"MenuItems",[]);y(this,"_active","active");y(this,"IsSingleton",!0);y(this,"time")}static get Instance(){return this._instance||(this._instance=new _n,this._instance.MenuItems=[]),this._instance.PElement=null,this._instance}Render(){this.Element==null&&(Html.Take(this.PElement??document.body).Ul.ClassName("context-menu"),this.Element=Html.Instance.Context),this.PElement==null&&this.Element!=null&&document.body.appendChild(this.Element),this.PElement!=null&&this.Element!=null&&this.PElement.appendChild(this.Element),this.Element=this.Element,this.Element.addEventListener("focusout",()=>this.Dispose()),this.Element.addEventListener("keydown",e=>this.HotKeyHandler(e)),Html.Take(this.Element).Clear().TabIndex(-1).Floating(this.Top,this.Left),this.ParentElement=this.Element.ParentElement,this.RenderMenuItems(this.MenuItems),window.setTimeout(()=>{this.Element!=null&&(this.Element.style.display="block",this.Element.focus(),this.AlterPosition())},50)}RenderMenuItems(e,t=0){for(let s=0;s<e.length;s++){const n=e[s];n&&(Html.Instance.Li.Style(n.Style).Render(),n.Ele=Html.Context,s==0&&t==0&&(e[s].MenuItems==null||e[s].MenuItems.length==0)&&(this._selectedIndex=s,this.SetSelectedItem(Html.Context)),n.Disabled?Html.Instance.Attr("disabled","disabled"):Html.Instance.Event("click",r=>this.MenuItemClickHandler(r,n)),Html.Instance.Icon(n.Icon).End.Span.IText(n.Text).End.Render(),n.MenuItems!=null&&n.MenuItems.length>0&&(Html.Instance.Ul.Render(),this.RenderMenuItems(n.MenuItems,t+1),Html.Instance.End.Render()),Html.Instance.End.Render())}}SetSelectedItem(e){this._selectedItem=e,this._selectedItem.classList.add(this._active)}MenuItemClickHandler(e,t){e.stopPropagation(),!(!t||!t.Click)&&(t.Click(t.Parameter),this.Element.dispatchEvent(new Event("focusout")))}HotKeyHandler(e){if(e.preventDefault(),!this.Element||!this.Element.children||this.Element.children.length===0)return;const t=this._selectedItem?this._selectedItem.parentElement.children:this.Element.children;switch(e.KeyCode()){case 27:this.Dispose();break;case 37:if(this.IsRoot||!this._selectedItem||!this._selectedItem.parentElement)return;Array.from(this._selectedItem.parentElement.children).forEach(r=>r.classList.remove(this._active)),this._selectedItem=this._selectedItem.parentElement;break;case 38:e.preventDefault(),e.stopPropagation(),Array.from(t).forEach(r=>r.classList.remove(this._active)),this._selectedIndex=this._selectedIndex>0?this._selectedIndex-1:t.length-1,this.SetSelectedItem(t[this._selectedIndex]);break;case 39:const n=this._selectedItem?this._selectedItem.lastElementChild:null;if(!n||!n.children||n.children.length===0)return;Array.from(n.children).forEach(r=>r.classList.remove(this._active)),this.SetSelectedItem(n.firstElementChild);break;case 40:e.preventDefault(),e.stopPropagation(),Array.from(t).forEach(r=>r.classList.remove(this._active)),this._selectedIndex=this._selectedIndex<t.length-1?this._selectedIndex+1:0,this.SetSelectedItem(t[this._selectedIndex]);break;case 13:!this._selectedItem&&this.Element.firstElementChild instanceof HTMLElement&&this.SetSelectedItem(this.Element.firstElementChild),this.MenuItemClickHandler(e,this.MenuItems.find(r=>r.Ele===this._selectedItem));break}}AlterPosition(){this.Floating(this.Top,this.Left);const e=this.Element.getBoundingClientRect(),t=this.Element.OutOfViewport();t.Bottom&&(this.Element.style.top=`${this.Top-e.height}px`),t.Right&&(this.Element.style.left=`${this.Left-e.width}px`,this.Element.style.top=`${this.Top}px`),this.Element.OutOfViewport().Bottom&&(this.Element.style.top=`${this.Top-e.height}px`,this.Element.style.top=`${this.Top-e.height-this.Element.clientHeight}px`)}Dispose(){window.clearTimeout(this.time),this.time=window.setTimeout(()=>{this.Element!=null&&(this.Element.remove(),this.Element=null)},100)}Floating(e,t){this.Element.style.position="fixed",this.Element.style.top=`${e}px`,this.Element.style.left=`${t}px`}};y(_n,"_instance",null);let ContextMenu=_n;const $t=class $t extends EditableComponent{constructor(e=null){super(null);y(this,"IsEditForm",!0);y(this,"OpenFrom");y(this,"ListViews",[]);y(this,"Pop",!1);y(this,"Portal",!0);y(this,"IsLock",!1);y(this,"Meta");y(this,"_allCom",[]);y(this,"TabGroup",[]);y(this,"SectionMd");y(this,"BeforeSaved",new Action);y(this,"AfterSaved",new Action);y(this,"ShouldLoadEntity",!1);y(this,"IconElement",null);y(this,"TitleElement",null);y(this,"Policies",[]);y(this,"_componentCoppy");y(this,"CtxCom");this.urlSearch=new URLSearchParams(window.location.search),this.entity=e,this.Meta=new Feature,e!=null&&window.addEventListener(EventType.Resize,this.ResizeHandler.bind(this))}get AllCom(){return this._allCom!==null?this._allCom:($t.LayoutForm===null?this._allCom=this.Meta.Component.slice():this._allCom=this.Meta.Component.concat($t.LayoutForm.Meta.Component),this._allCom)}get FeatureName(){var e;return this.Name||((e=this.Meta)==null?void 0:e.Name)}get Href(){return this.href}set Href(e){this.href=e}GetPatchEntity(){const e=this.EntityId==null,t=this.FilterChildren(r=>!r.IsButton&&(e||r.Dirty)&&r.Meta!=null&&r.Name!=null,r=>r.IsListView||r.AlwaysValid||!r.PopulateDirty),s=t.SelectMany(r=>{var p;if(typeof r.GetPatchDetail=="function")return r.GetPatchDetail();const l=Utils$1.GetPropValue(r.Entity,r.Name);return[{Label:r.ComLabel,Field:r.Name,OldVal:r.OldValue!=null?r.OldValue.toString():(p=r.OldValue)==null?void 0:p.toString(),Value:l!=null?l.toString():this.EditForm.Meta.IgnoreEncode?l==null?void 0:l.toString().trim():Utils$1.EncodeSpecialChar(l==null?void 0:l.toString().trim())}]}).DistinctBy(r=>r.Field);return this.AddIdToPatch(t),{Changes:s,Table:this.Meta.EntityName,QueueName:this.QueueName,CacheName:this.CacheName}}async SavePatch(){if(!this.Dirty)return Toast.Warning(Message.NotDirty),!1;try{if(!await this.IsFormValid())return!1;let t=[];Object.getOwnPropertyNames(this.Entity).forEach(r=>{if(this.Entity[r]instanceof Array||this.Entity[r]instanceof Object)return;let l;typeof this.Entity[r]=="boolean"?l=this.Entity[r]?"1":"0":l=this.Entity[r];let u={Label:r,Field:r,OldVal:null,Value:l};t.push(u)});let s={Changes:t,Table:this.Meta.EntityId};const n=await Client.Instance.PatchAsync(s);return this.Dirty=!1,Toast.Success("Update success"),n}catch(e){return Toast.Warning(e.message),!1}}ResizeHandler(){this.ResizeTabGroup(),this.ResizeListView()}ResizeListView(){const e=this.ListViews.find(n=>!n.Element.Hidden());if(!e)return;const t=e.Parent.Children.filter(n=>n.IsListView),s=t.some(n=>n.Name.includes("Mobile"));t.forEach(n=>{s?(n.Show=this.IsSmallUp?!n.Name.includes("Mobile"):n.Name.includes("Mobile"),n.Show&&(this._CurrentListView=n)):this._CurrentListView=n})}ResizeTabGroup(){this.Element&&(this.Element.HasClass("mobile")||this.TabGroup.Nothing())||this.TabGroup.ForEach(e=>{!e||!e.Element||(this.IsLargeUp&&e.Meta.Responsive&&e.Element.parentElement.HasClass("tab-horizontal")?e.Element.parentElement.ReplaceClass("tab-horizontal","tab-vertical"):!this.IsLargeUp&&e.Meta.Responsive&&e.Element.parentElement.HasClass("tab-vertical")&&e.Element.parentElement.ReplaceClass("tab-vertical","tab-horizontal"))})}async LoadFeatureAndRender(e=null){this.SectionMd=this.SectionMd||await __vitePreload(()=>Promise.resolve().then(()=>section),void 0);const t=ComponentExt.LoadFeature(this.Meta.FieldName);this.LoadEntity().then(s=>{t.then(n=>{this.LayoutLoaded(n,e)})})}Render(){this.LoadFeatureAndRender(),this.LastForm=this}LayoutLoaded(e,t=null){this.SetCurrentUserProperties(),this.SetFeatureProperties(e);const s=this.BuildTree(e.ComponentGroup.sort((n,r)=>n.Order-r.Order));this.SetFeatureStyleSheet(e.StyleSheet),this.Policies=e.FeaturePolicies,this.RenderTabOrSection(s,this),this.ResizeHandler(),this.InitDOMEvents(),t==null||t.call(null),this.DispatchFeatureEvent(e.Events,EventType.DOMContentLoaded)}InitDOMEvents(){Html.Take(this.Element).TabIndex(-1).Trigger("focus").Event(EventType.FocusIn,()=>this.DispatchFeatureEvent(this.Meta.Events,EventType.FocusIn)).Event(EventType.KeyDown,e=>this.KeyDownIntro(e)).Event(EventType.FocusOut,()=>this.DispatchFeatureEvent(this.Meta.Events,EventType.FocusOut)),this.Popup||Html.Instance.ClassName("tab-item")}SetCurrentUserProperties(){const e=Client.Token;this.currentUserId=e==null?void 0:e.UserId,this.regionId=e==null?void 0:e.RegionId,this.centerIds=e!=null&&e.CenterIds?e.CenterIds.join(Str.Comma):Str.Empty,this.roleIds=e!=null&&e.RoleIds?e.RoleIds.join(Str.Comma):Str.Empty,this.costCenterId=e==null?void 0:e.CostCenterId,this.roleNames=e!=null&&e.RoleNames?e.RoleNames.join(Str.Comma):Str.Empty}UpdateIndependantGridView(){const e=this.GetDirtyGrid();return e.length?e.flatMap(t=>t.GetPatches()):null}GetDirtyGrid(){return this.ListViews.filter(e=>e.Meta.Id&&e.Meta.CanAdd).filter(e=>e.FilterChildren(t=>t.Dirty,t=>!t.PopulateDirty).length>0)}DeleteGridView(){this.GetDeleteGrid().forEach(t=>{Client.Instance.HardDeleteAsync(t.DeleteTempIds,t.Meta.RefName,t.DataConn,t.MetaConn).then(s=>{if(!s){Toast.Warning("Error deleting details, please check again");return}t.RowAction(n=>{t.DeleteTempIds.includes(n.EntityId)&&n.Dispose()}),t.DeleteTempIds.Clear()})})}GetDeleteGrid(){return this.ListViews.filter(e=>e.Meta.Id).filter(e=>e.DeleteTempIds.length>0)}BuildTree(e){const t=new Map(e.map(r=>[r.Id,r]));let s;for(const r of e)if(r.IsVerticalTab&&this.Element.clientWidth<EditableComponent.SmallScreen&&(r.IsVerticalTab=!1),!!r.ParentId){if(!t.has(r.ParentId)){console.log(`The parent key ${r.ParentId} of ${r.FieldName} doesn't exist`);continue}s=t.get(r.ParentId),s.Children||(s.Children=[]),s.Children.includes(r)||s.Children.push(r),r.Parent=s}for(const r of e)if(!(!r.Children||!r.Children.length)){for(const l of r.Children)l.ComponentGroup=r;r.Children&&(r.Children=r.Children.sort((l,u)=>l.Order-u.Order))}e.forEach(r=>this.CalcItemInRow(r.Children.slice()));const n=e.filter(r=>!r.ParentId);return n.length||console.log("No component group is root component. Wrong feature name or the configuration is wrong"),n}CalcItemInRow(e){let t=0,s=0,n=0;for(let r=0;r<e.length;r++){const l=e[r],u=this.GetInnerColumn(l.Parent),p=this.GetOuterColumn(l);if(!(u<=0)&&(s++,t+=p,t%u===0)){let g=r;for(;g>=n;)e[g].ItemInRow=s,g--;s=0,n=r}}}GetInnerColumn(e){if(!e)return 0;const t=this.Element.clientWidth;let s;return t<EditableComponent.ExSmallScreen&&e.XsCol>0?s=e.XsCol:t<EditableComponent.SmallScreen&&e.SmCol>0?s=e.SmCol:t<EditableComponent.MediumScreen&&e.Column>0?s=e.Column:t<EditableComponent.LargeScreen&&e.LgCol>0?s=e.LgCol:t<EditableComponent.ExLargeScreen&&e.XlCol>0?s=e.XlCol:s=e.XxlCol||e.Column,s||0}GetOuterColumn(e){if(!e)return 0;const t=this.Element.clientWidth;let s;return t<EditableComponent.ExSmallScreen&&e.XsOuterColumn>0?s=e.XsOuterColumn:t<EditableComponent.SmallScreen&&e.SmOuterColumn>0?s=e.SmOuterColumn:t<EditableComponent.MediumScreen&&e.OuterColumn>0?s=e.OuterColumn:t<EditableComponent.LargeScreen&&e.LgOuterColumn>0?s=e.LgOuterColumn:t<EditableComponent.ExLargeScreen&&e.XlOuterColumn>0?s=e.XlOuterColumn:s=e.XxlOuterColumn||e.OuterColumn,s||0}BindingTemplate(e,t,s=null,n=null,r=new Set){if(!e||r.has(e)||(r.add(e),e.children.length===0&&this.RenderCellText(e,s)!==null))return;const l=this.ResolveMeta(e),u=n?n(e,l,t,s):this.BindingCom(e,l,t,s);t=u instanceof this.SectionMd.Section?u:t,e.children.forEach(p=>this.BindingTemplate(p,t,s,n,r))}ResolveMeta(e){let t=new Component;const s=e.dataset[this.IdField.toLowerCase()];s&&(t=this.AllCom.find(n=>n.Id===s));for(const n of Object.getOwnPropertyNames(Component.prototype)){const r=e.dataset[n.toLowerCase()];if(!r)continue;let l=null;try{l=typeof t[n]=="string"?r:JSON.parse(r),t=t||new Component,t[n]=l}catch{continue}}return t}RenderCellText(e,t){const s=e.textContent.trim();if(s&&s.startsWith("{")&&s.endsWith("}")){const n={FieldName:s.slice(1,-1)},r=new Label(n,e);return r.Entity=t,$t.LayoutForm?$t.LayoutForm.AddChild(r):r.Render(),r}return null}static GetFeatureNameFromUrl(){let e=new StringBuilder,t=window.location.pathname.toLowerCase().replace(Client.BaseUri.toLowerCase(),"");if(t.startsWith(Utils$1.Slash)&&(t=t.substring(1)),!t.trim())return null;for(let s=0;s<t.length&&!(t[s]==="?"||t[s]==="#");s++)e.Append(t[s]);return e.toString()}get EntityName(){return this.Meta.EntityName}async LoadEntity(){const t=$t.GetFeatureNameFromUrl()===this.FeatureName?Utils$1.GetUrlParam(Utils$1.IdField):this.EntityId;if(!this.ShouldLoadEntity||!t)return null;try{const s=await Client.Instance.GetByIdAsync(this.EntityName,this.DataConn,[t]);return s?(this.Entity=s[0],s[0]):null}catch(s){return console.error("Failed to load entity:",s),null}}LockUpdate(){this.Meta.FeaturePolicy=this.Meta.FeaturePolicy??this.Meta.FeaturePolicies;const e=this.Meta.FeaturePolicy.filter(s=>s.RecordId);!this.Meta.IsPublic&&!Utils$1.IsOwner(this.Entity)&&e.every(s=>!s.CanWrite&&!s.CanWriteAll)&&this.LockUpdateButCancel()}LockUpdateButCancel(){this.Disabled=!0,this.SetDisabled(!1,$t.BtnCancel)}get Icon(){return this._icon}set Icon(e){this._icon=e,this.IconElement!==null&&Html.Take(this.IconElement).IconForSpan(e)}get Title(){return this._title}set Title(e){this._title=e,this.TitleElement!==null&&(this.TitleElement.innerHTML="",Html.Take(this.TitleElement).IText(e))}SetFeatureProperties(e){e&&(this.Meta=e,e.ClassName&&this.Element.classList.add(e.ClassName),this.Icon||(this.Icon=e.Icon),this.Title||(this.Title=e.Label))}SetFeatureStyleSheet(e){if(!e)return;const t=document.createElement("style");t.appendChild(document.createTextNode(e)),t.setAttribute("source","feature"),this.Element.appendChild(t)}RenderTabOrSection(e,t){t.EditForm||(t.EditForm=t),e.sort((s,n)=>s.Order-n.Order).forEach(s=>{s.Disabled=this.Disabled||s.Disabled,s.IsTab?this.SectionMd.Section.RenderTabGroup(t??this,s):this.SectionMd.Section.RenderSection(t??this,s)})}DispatchFeatureEvent(e,t){if(e&&e[t]){const s=new CustomEvent(t,{detail:this.Entity});this.Element.dispatchEvent(s)}}async KeyDownIntro(e){if(e.KeyCode()===72&&e.CtrlOrMetaKey()){e.preventDefault(),await Client.LoadScript("https://unpkg.com/intro.js/intro.js");const s={ComId:"Intro",Action:"GetByFeatureId",Params:JSON.stringify({Id:this.Meta.Id}),MetaConn:this.MetaConn,DataConn:this.DataConn};try{const n=await Client.Instance.UserSvc(s);let r=`(x) => {
                    introJs().setOptions({
                        steps: [{ intro: "Tutorial start" }]`;n.forEach(u=>{r+=`, {
                        element: document.querySelector('#${u.FieldName}'),
                        intro: "${u.Label}"
                    }`}),r+="]).start();}",new Function("return "+r)()(this)}catch(n){console.error("Error setting up intro.js tutorial:",n)}}}RenderTemplate(e){let t=document.getElementById($t.SpecialEntryPoint)||document.getElementById("template")||this.Element;if(this.ParentForm&&this.Portal&&!this.Popup&&(this.ParentForm.Element=null,this.ParentForm.Dispose(),this.ParentForm=null),t.innerHTML=Str.Empty,e.Template){t.innerHTML=e.Template,this.BindingTemplate(t,this);const s=Array.from(t.querySelectorAll("[id='inner-entry']")).shift();this.ResetEntryPoint(s),t=s||t,t.style.display==="none"&&(t.style.display=Str.Empty)}return t}ResetEntryPoint(e){e&&(e.innerHTML=Str.Empty)}BindingCom(e,t,s,n){var l;if(!e||!t||!t.ComponentType)return null;let r=null;return t.ComponentType===ComponentType.Section?(r=new this.SectionMd.Section(null,e),r.Meta=t,r.Meta=t):r=ComponentFactory.GetComponent(t,this,e),r?(r.ParentElement=r.ParentElement||e,r.Entity=n||((l=r.EditForm)==null?void 0:l.Entity)||this.Entity,s.AddChild(r),r):null}Cancel(){this.DirtyCheckAndCancel()}CancelWithoutAsk(){this.Dispose()}DirtyCheckAndCancel(e=null){if(!this.Dirty){this.Dispose(),e&&e();return}const t=new ConfirmDialog;t.Content="Do you want to save changes before closing?",t.YesConfirmed.add(()=>{this.SavePatch().then(s=>{s.status==200&&(this.Dispose(),e&&e())})}),t.NoConfirmed=()=>{this.Dispose(),e&&e()},t.IgnoreCancelButton=!0,t.Render()}Dispose(){window.removeEventListener("resize",this.ResizeHandler.bind(this)),super.Dispose()}async IsFormValid(e=!0,t=null,s=null){t=t||(l=>l.Children.length===0&&!l.Disabled),s=s||(l=>l.AlwaysValid||l.EmptyRow);const n=this.FilterChildren(t,s).map(l=>({IsValid:l.ValidateAsync(),com:l}));await Promise.all(n.map(l=>l.IsValid));const r=n.filter(l=>!l.com.IsValid).map(l=>l.com);if(r.length>0){if(e){r.forEach(p=>{p.Disabled=!1}),r[0].Focus();const u=r.flatMap(p=>p.ValidationResult.Values);Toast.Warning(u.join(`
`))}return!1}return!0}Print(e=".printable"){const t=this.Element.querySelector(e);if(t){const s=window.open(Str.Empty,"_blank");s.document.write(t.innerHTML),s.document.close(),s.focus(),s.print(),s.close()}}async EmailPdf(e,t=[]){if(!e)throw new Error("EmailVM must not be null.");const s=t.map(n=>{const r=this.Element.querySelector(n);return this.PrintSection(r,!1)});e.PdfText=e.PdfText.concat(s);try{const n=await Client.Instance.PostAsync(e,"/user/EmailAttached");return Toast.Success("Email sent successfully!"),n}catch(n){throw Toast.Error("Error while sending email: "+n.message),n}}PrintSection(e,t=!0,s=null,n=!1,r=null){if(!e)return null;if(!t)return e.innerHTML;const l=window.open("","_blank");if(l.document.body.innerHTML=e.innerHTML,s&&s.length){const u=l.document.createElement("style");u.innerHTML=s.join(" "),l.document.head.appendChild(u)}return n?setTimeout(()=>{l.addEventListener("beforeprint",u=>{if(r&&r.Style){const p=l.document.createElement("style");p.innerHTML=r.Style,l.document.head.appendChild(p)}}),l.print(),l.addEventListener("afterprint",async u=>{r&&r.Events&&r.Events.AfterPrint&&await this.DispatchEvent(r.Events.AfterPrint,"afterprint",this),l.close()}),l.addEventListener("mousemove",()=>l.close()),l.addEventListener("click",()=>l.close()),l.addEventListener("keyup",u=>{u.key==="Escape"&&l.close()})},250):(l.print(),l.close()),e.innerHTML}GetGridPolicies(e,t="Component"){return e=e??Client.Token.RoleIds,this.Policies.filter(n=>n.RoleId||n.UserId&&Client.Token.UserId==n.UserId).filter(n=>n.EntityName==t&&e.includes(n.RecordId))}GetDefaultGridPolicies(){var e=this.Policies.filter(t=>t.RoleId==null||Client.Token!=null&&t.RoleId&&Client.Token.RoleIds.includes(t.RoleId)||t.UserId&&Client.Token.UserId==t.UserId);return e}Delete(){const e=new ConfirmDialog;e.Content="Are you sure you want to delete this?",e.YesConfirmed=async()=>{var t;try{await Client.Instance.HardDeleteAsync([this.EntityId],this.Meta.EntityName,this.DataConn,this.MetaConn)?(Toast.Success("Data deleted successfully"),(t=this.ParentForm)==null||t.UpdateView(),this.Dispose()):Toast.Warning("An error occurred while deleting data")}catch(s){Toast.Warning("An error occurred: "+s.message)}},e.Render()}SignIn(){var e;(e=Client.UnAuthorizedEventHandler)==null||e.call(null)}SignOut(){window.event.preventDefault(),Client.Instance.PostAsync(Client.Token,"user/SignOut").then(t=>{var s,n;Toast.Success("You have successfully signed out!"),(s=Client.SignOutEventHandler)==null||s.call(),Client.Token=null,(n=$t.NotificationClient)==null||n.Close(),window.location.reload()}).catch(t=>{Toast.Warning("Error during sign out: "+t.message)})}GetElementPolicies(e,t="Component"){return Array.isArray(e)?this.Policies.filter(s=>s.EntityName===t&&e.includes(s.RecordId)):this.Policies.filter(s=>s.EntityName===t&&s.RecordId===e)}CopyComponent(e){this._componentCoppy=new Component,this._componentCoppy.CopyPropFrom(e)}AddComponent(e){var l;const t=e.action,s=e.group,n={ComponentType:t,ComponentGroupId:s.Id,Label:"New Component",Visibility:!0,Order:(l=s.Children)!=null&&l.length?Math.max(...s.Children.map(u=>u.Order))+1:0},r=ComponentExt.MapToPatch(n,"Component");Client.Instance.PatchAsync(r).then(()=>{s.Children.push(n),this.UpdateRender(n,s),Toast.Success("Component added successfully!")}).catch(u=>{Toast.Error("Error adding component: "+u.message)})}UpdateRender(e,t){const s=this.FindComponentByName(t.FieldName),n=ComponentFactory.GetComponent(e,this);n&&(n.ParentElement=s.Element,s.AddChild(n))}SysConfigMenu(e,t,s,n){if(e.preventDefault(),e.stopPropagation(),this.CtxCom=n,!this.Policies.some(u=>u.CanWriteMeta||u.CanWriteMetaAll))return;const l=ContextMenu.Instance;l.Top=e.Top(),l.Left=e.Left(),l.MenuItems=[],t!==null&&l.MenuItems.push({Icon:"fal fa-cog",Text:"Component Properties",Click:this.ComponentProperties.bind(this),Parameter:t}),s!==null&&l.MenuItems.push({Icon:"fal fa-cogs",Text:"Section Properties",Click:this.SectionProperties.bind(this),Parameter:s}),l.MenuItems.push({Icon:"fal fa-folder-open",Text:"Screen Properties",Click:this.FeatureProperties.bind(this)}),l.Render()}async SectionProperties(e){const t=await __vitePreload(()=>import("./sectionEditor-CL6RwWnm.js"),__vite__mapDeps([0,1])),s=new t.SectionEditor;s.Name="section-editor",s.ParentElement=this.Element,s.Entity=e,s.OpenFrom=this.EditForm,this.AddChild(s)}async FeatureProperties(){var e=await __vitePreload(()=>import("./featureEditor-Bhw4BqCU.js"),__vite__mapDeps([2,1]));const t=new e.FeatureEditor;t.Name="feature-editor",t.ParentElement=this.Element,t.Entity=this.Meta,t.OpenFrom=this.EditForm,this.AddChild(t)}async ComponentProperties(e){const t=await __vitePreload(()=>import("./componentEditor-DsaXaAs6.js"),__vite__mapDeps([3,1])),s=new t.ComponentEditor;s.Name="component-editor",s.ParentElement=this.Element,s.Entity=e,s.OpenFrom=this.EditForm,this.AddChild(s)}CloneFeature(e){const t=e,s=new ConfirmDialog;s.Content="Do you want to clone this feature?",s.Title="Confirm",s.YesConfirmed=()=>{const n={ComId:"Feature",Action:"Clone",Ids:[t.Id],MetaConn:this.MetaConn,DataConn:this.DataConn};Client.Instance.UserSvc(n).Done()},this.AddChild(s)}};y($t,"LayoutForm"),y($t,"ExpiredDate","ExpiredDate"),y($t,"BtnExpired","btnExpired"),y($t,"BtnSave","btnSave"),y($t,"BtnSend","btnSend"),y($t,"BtnApprove","btnApprove"),y($t,"BtnReject","btnReject"),y($t,"StatusIdField","StatusId"),y($t,"BtnCancel","btnCancel"),y($t,"BtnPrint","btnPrint"),y($t,"BtnPreview","btnPreview"),y($t,"SpecialEntryPoint","entry"),y($t,"Portal",!1),y($t,"NotificationClient");let EditForm=$t;const editForm=Object.freeze(Object.defineProperty({__proto__:null,EditForm},Symbol.toStringTag,{value:"Module"}));var draggabilly={exports:{}},getSize={exports:{}};/*!
 * Infinite Scroll v2.0.4
 * measure size of elements
 * MIT license
 */var hasRequiredGetSize;function requireGetSize(){return hasRequiredGetSize||(hasRequiredGetSize=1,function(a){(function(i,e){a.exports?a.exports=e():i.getSize=e()})(window,function(){function e(r){let l=parseFloat(r);return r.indexOf("%")==-1&&!isNaN(l)&&l}let t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function s(){let r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return t.forEach(l=>{r[l]=0}),r}function n(r){if(typeof r=="string"&&(r=document.querySelector(r)),!(r&&typeof r=="object"&&r.nodeType))return;let u=getComputedStyle(r);if(u.display=="none")return s();let p={};p.width=r.offsetWidth,p.height=r.offsetHeight;let g=p.isBorderBox=u.boxSizing=="border-box";t.forEach(he=>{let $e=u[he],b=parseFloat($e);p[he]=isNaN(b)?0:b});let S=p.paddingLeft+p.paddingRight,I=p.paddingTop+p.paddingBottom,F=p.marginLeft+p.marginRight,O=p.marginTop+p.marginBottom,X=p.borderLeftWidth+p.borderRightWidth,V=p.borderTopWidth+p.borderBottomWidth,be=e(u.width);be!==!1&&(p.width=be+(g?0:S+X));let Oe=e(u.height);return Oe!==!1&&(p.height=Oe+(g?0:I+V)),p.innerWidth=p.width-(S+X),p.innerHeight=p.height-(I+V),p.outerWidth=p.width+F,p.outerHeight=p.height+O,p}return n})}(getSize)),getSize.exports}var unidragger={exports:{}},evEmitter={exports:{}},hasRequiredEvEmitter;function requireEvEmitter(){return hasRequiredEvEmitter||(hasRequiredEvEmitter=1,function(a){(function(i,e){a.exports?a.exports=e():i.EvEmitter=e()})(typeof window<"u"?window:commonjsGlobal,function(){function i(){}let e=i.prototype;return e.on=function(t,s){if(!t||!s)return this;let n=this._events=this._events||{},r=n[t]=n[t]||[];return r.includes(s)||r.push(s),this},e.once=function(t,s){if(!t||!s)return this;this.on(t,s);let n=this._onceEvents=this._onceEvents||{},r=n[t]=n[t]||{};return r[s]=!0,this},e.off=function(t,s){let n=this._events&&this._events[t];if(!n||!n.length)return this;let r=n.indexOf(s);return r!=-1&&n.splice(r,1),this},e.emitEvent=function(t,s){let n=this._events&&this._events[t];if(!n||!n.length)return this;n=n.slice(0),s=s||[];let r=this._onceEvents&&this._onceEvents[t];for(let l of n)r&&r[l]&&(this.off(t,l),delete r[l]),l.apply(this,s);return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},i})}(evEmitter)),evEmitter.exports}/*!
 * Unidragger v3.0.1
 * Draggable base class
 * MIT license
 */var hasRequiredUnidragger;function requireUnidragger(){return hasRequiredUnidragger||(hasRequiredUnidragger=1,function(a){(function(i,e){a.exports?a.exports=e(i,requireEvEmitter()):i.Unidragger=e(i,i.EvEmitter)})(typeof window<"u"?window:commonjsGlobal,function(e,t){function s(){}let n=s.prototype=Object.create(t.prototype);n.handleEvent=function(g){let S="on"+g.type;this[S]&&this[S](g)};let r,l;"ontouchstart"in e?(r="touchstart",l=["touchmove","touchend","touchcancel"]):e.PointerEvent?(r="pointerdown",l=["pointermove","pointerup","pointercancel"]):(r="mousedown",l=["mousemove","mouseup"]),n.touchActionValue="none",n.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},n.unbindHandles=function(){this._bindHandles("removeEventListener","")},n._bindHandles=function(g,S){this.handles.forEach(I=>{I[g](r,this),I[g]("click",this),e.PointerEvent&&(I.style.touchAction=S)})},n.bindActivePointerEvents=function(){l.forEach(g=>{e.addEventListener(g,this)})},n.unbindActivePointerEvents=function(){l.forEach(g=>{e.removeEventListener(g,this)})},n.withPointer=function(g,S){S.pointerId===this.pointerIdentifier&&this[g](S,S)},n.withTouch=function(g,S){let I;for(let F of S.changedTouches)F.identifier===this.pointerIdentifier&&(I=F);I&&this[g](S,I)},n.onmousedown=function(g){this.pointerDown(g,g)},n.ontouchstart=function(g){this.pointerDown(g,g.changedTouches[0])},n.onpointerdown=function(g){this.pointerDown(g,g)};const u=["TEXTAREA","INPUT","SELECT","OPTION"],p=["radio","checkbox","button","submit","image","file"];return n.pointerDown=function(g,S){let I=u.includes(g.target.nodeName),F=p.includes(g.target.type),O=!I||F;!this.isPointerDown&&!g.button&&O&&(this.isPointerDown=!0,this.pointerIdentifier=S.pointerId!==void 0?S.pointerId:S.identifier,this.pointerDownPointer={pageX:S.pageX,pageY:S.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[g,S]))},n.onmousemove=function(g){this.pointerMove(g,g)},n.onpointermove=function(g){this.withPointer("pointerMove",g)},n.ontouchmove=function(g){this.withTouch("pointerMove",g)},n.pointerMove=function(g,S){let I={x:S.pageX-this.pointerDownPointer.pageX,y:S.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[g,S,I]),!this.isDragging&&this.hasDragStarted(I)&&this.dragStart(g,S),this.isDragging&&this.dragMove(g,S,I)},n.hasDragStarted=function(g){return Math.abs(g.x)>3||Math.abs(g.y)>3},n.dragStart=function(g,S){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[g,S])},n.dragMove=function(g,S,I){this.emitEvent("dragMove",[g,S,I])},n.onmouseup=function(g){this.pointerUp(g,g)},n.onpointerup=function(g){this.withPointer("pointerUp",g)},n.ontouchend=function(g){this.withTouch("pointerUp",g)},n.pointerUp=function(g,S){this.pointerDone(),this.emitEvent("pointerUp",[g,S]),this.isDragging?this.dragEnd(g,S):this.staticClick(g,S)},n.dragEnd=function(g,S){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[g,S])},n.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},n.onpointercancel=function(g){this.withPointer("pointerCancel",g)},n.ontouchcancel=function(g){this.withTouch("pointerCancel",g)},n.pointerCancel=function(g,S){this.pointerDone(),this.emitEvent("pointerCancel",[g,S])},n.onclick=function(g){this.isPreventingClicks&&g.preventDefault()},n.staticClick=function(g,S){let I=g.type==="mouseup";I&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[g,S]),I&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},s})}(unidragger)),unidragger.exports}/*!
 * Draggabilly v3.0.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */(function(a){(function(i,e){a.exports?a.exports=e(i,requireGetSize(),requireUnidragger()):i.Draggabilly=e(i,i.getSize,i.Unidragger)})(typeof window<"u"?window:commonjsGlobal,function(e,t,s){function n(){}let r=e.jQuery;function l(O,X){this.element=typeof O=="string"?document.querySelector(O):O,r&&(this.$element=r(this.element)),this.options={},this.option(X),this._create()}let u=l.prototype=Object.create(s.prototype);u.option=function(O){this.options={...this.options,...O}};const p=["relative","absolute","fixed"];u._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let O=getComputedStyle(this.element);p.includes(O.position)||(this.element.style.position="relative"),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.setHandles(),this.enable()},u.setHandles=function(){let{handle:O}=this.options;typeof O=="string"?this.handles=this.element.querySelectorAll(O):typeof O=="object"&&O.length?this.handles=O:O instanceof HTMLElement?this.handles=[O]:this.handles=[this.element]};const g=["dragStart","dragMove","dragEnd"];let S=u.emitEvent;u.emitEvent=function(O,X){if(!this.isEnabled&&g.includes(O))return;S.call(this,O,X);let be=e.jQuery;if(!be||!this.$element)return;let Oe,he=X;X&&X[0]instanceof Event&&([Oe,...he]=X);let b=be.Event(Oe);b.type=O,this.$element.trigger(b,he)},u._getPosition=function(){let O=getComputedStyle(this.element),X=this._getPositionCoord(O.left,"width"),V=this._getPositionCoord(O.top,"height");this.position.x=isNaN(X)?0:X,this.position.y=isNaN(V)?0:V,this._addTransformPosition(O)},u._getPositionCoord=function(O,X){if(O.includes("%")){let V=t(this.element.parentNode);return V?parseFloat(O)/100*V[X]:0}return parseInt(O,10)},u._addTransformPosition=function(O){let X=O.transform;if(!X.startsWith("matrix"))return;let V=X.split(","),be=X.startsWith("matrix3d")?12:4,Oe=parseInt(V[be],10),he=parseInt(V[be+1],10);this.position.x+=Oe,this.position.y+=he},u.handlePointerDown=function(O,X){this.isEnabled&&(this.pointerDownPointer={pageX:X.pageX,pageY:X.pageY},O.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(O),this.element.classList.add("is-pointer-down"))},u.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.animate())},u.measureContainment=function(){let O=this.getContainer();if(!O)return;let X=t(this.element),V=t(O),{borderLeftWidth:be,borderRightWidth:Oe,borderTopWidth:he,borderBottomWidth:$e}=V,b=this.element.getBoundingClientRect(),de=O.getBoundingClientRect(),it=be+Oe,ze=he+$e,fe=this.relativeStartPosition={x:b.left-(de.left+be),y:b.top-(de.top+he)};this.containSize={width:V.width-it-fe.x-X.width,height:V.height-ze-fe.y-X.height}},u.getContainer=function(){let O=this.options.containment;return O?O instanceof HTMLElement?O:typeof O=="string"?document.querySelector(O):this.element.parentNode:void 0},u.handleDragMove=function(O,X,V){if(!this.isEnabled)return;let be=V.x,Oe=V.y,he=this.options.grid,$e=he&&he[0],b=he&&he[1];be=I(be,$e),Oe=I(Oe,b),be=this.containDrag("x",be,$e),Oe=this.containDrag("y",Oe,b),be=this.options.axis=="y"?0:be,Oe=this.options.axis=="x"?0:Oe,this.position.x=this.startPosition.x+be,this.position.y=this.startPosition.y+Oe,this.dragPoint.x=be,this.dragPoint.y=Oe};function I(O,X,V){return X?(V=V||"round",Math[V](O/X)*X):O}u.containDrag=function(O,X,V){if(!this.options.containment)return X;let be=O=="x"?"width":"height",Oe=this.relativeStartPosition[O],he=I(-Oe,V,"ceil"),$e=this.containSize[be];return $e=I($e,V,"floor"),Math.max(he,Math.min($e,X))},u.handlePointerUp=function(){this.element.classList.remove("is-pointer-down")},u.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"))},u.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame(()=>this.animate()))},u.setLeftTop=function(){let{x:O,y:X}=this.position;this.element.style.left=`${O}px`,this.element.style.top=`${X}px`},u.positionDrag=function(){let{x:O,y:X}=this.dragPoint;this.element.style.transform=`translate3d(${O}px, ${X}px, 0)`},u.setPosition=function(O,X){this.position.x=O,this.position.y=X,this.setLeftTop()},u.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},u.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const F=["transform","left","top","position"];return u.destroy=function(){this.disable(),F.forEach(O=>{this.element.style[O]=""}),this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},u._init=n,r&&r.bridget&&r.bridget("draggabilly",l),l})})(draggabilly);var draggabillyExports=draggabilly.exports;const Draggabilly=getDefaultExportFromCjs(draggabillyExports),TAB_CONTENT_MARGIN=9,TAB_CONTENT_OVERLAP_DISTANCE=1,TAB_CONTENT_MIN_WIDTH=24,TAB_CONTENT_MAX_WIDTH=240,TAB_SIZE_SMALL=84,TAB_SIZE_SMALLER=60,TAB_SIZE_MINI=48,noop=a=>{},closest=(a,i)=>{let e=1/0,t=-1;return i.forEach((s,n)=>{Math.abs(a-s)<e&&(e=Math.abs(a-s),t=n)}),t},tabTemplate=`
    <div class="chrome-tab">
      <div class="chrome-tab-dividers"></div>
      <div class="chrome-tab-background">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><symbol id="chrome-tab-geometry-left" viewBox="0 0 214 36"><path d="M17 0h197v36H0v-2c4.5 0 9-3.5 9-8V8c0-4.5 3.5-8 8-8z"/></symbol><symbol id="chrome-tab-geometry-right" viewBox="0 0 214 36"><use xlink:href="#chrome-tab-geometry-left"/></symbol><clipPath id="crop"><rect class="mask" width="100%" height="100%" x="0"/></clipPath></defs><svg width="52%" height="100%"><use xlink:href="#chrome-tab-geometry-left" width="214" height="36" class="chrome-tab-geometry"/></svg><g transform="scale(-1, 1)"><svg width="52%" height="100%" x="-100%" y="0"><use xlink:href="#chrome-tab-geometry-right" width="214" height="36" class="chrome-tab-geometry"/></svg></g></svg>
      </div>
      <div class="chrome-tab-content">
        <div class="chrome-tab-favicon"></div>
        <div class="chrome-tab-title"></div>
        <div class="chrome-tab-drag-handle"></div>
        <div class="chrome-tab-close"></div>
      </div>
    </div>
  `,defaultTapProperties={title:"New tab",favicon:!1};let instanceId=0;class ChromeTabs{constructor(){this.draggabillies=[],this.tabs=[]}static init(i){this.el=i,this.instanceId=instanceId,this.el.setAttribute("data-chrome-tabs-instance-id",this.instanceId),instanceId+=1,this.setupCustomProperties(),this.setupStyleEl(),this.setupEvents(),this.layoutTabs(),this.setupDraggabilly()}static emit(i,e){this.el.dispatchEvent(new CustomEvent(i,{detail:e}))}static setupCustomProperties(){this.el.style.setProperty("--tab-content-margin",`${TAB_CONTENT_MARGIN}px`)}static setupStyleEl(){this.styleEl=document.createElement("style"),this.el.appendChild(this.styleEl)}static setupEvents(){window.addEventListener("resize",i=>{this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs()}),this.el.addEventListener("dblclick",i=>{[this.el,this.tabContentEl].includes(i.target)&&this.addTab()}),this.tabEls.forEach(i=>this.setTabCloseEventListener(i))}static get tabEls(){return Array.prototype.slice.call(this.el.querySelectorAll(".chrome-tab"))}static get tabContentEl(){return this.el.querySelector(".chrome-tabs-content")}static get tabContentWidths(){const i=this.tabEls.length,e=this.tabContentEl.clientWidth,t=(i-1)*TAB_CONTENT_OVERLAP_DISTANCE,s=(e-2*TAB_CONTENT_MARGIN+t)/i,n=Math.max(TAB_CONTENT_MIN_WIDTH,Math.min(TAB_CONTENT_MAX_WIDTH,s)),r=Math.floor(n),l=r*i+2*TAB_CONTENT_MARGIN-t,u=e-l,p=[];let g=u;for(let S=0;S<i;S+=1){const I=r<TAB_CONTENT_MAX_WIDTH&&g>0?1:0;p.push(r+I),g>0&&(g-=1)}return p}static get tabContentPositions(){const i=[],e=this.tabContentWidths;let t=TAB_CONTENT_MARGIN;return e.forEach((s,n)=>{const r=n*TAB_CONTENT_OVERLAP_DISTANCE;i.push(t-r),t+=s}),i}static get tabPositions(){const i=[];return this.tabContentPositions.forEach(e=>{i.push(e-TAB_CONTENT_MARGIN)}),i}static layoutTabs(){const i=this.tabContentWidths;this.tabEls.forEach((t,s)=>{const n=i[s],r=n+2*TAB_CONTENT_MARGIN;t.style.width=r+"px",t.removeAttribute("is-small"),t.removeAttribute("is-smaller"),t.removeAttribute("is-mini"),n<TAB_SIZE_SMALL&&t.setAttribute("is-small",""),n<TAB_SIZE_SMALLER&&t.setAttribute("is-smaller",""),n<TAB_SIZE_MINI&&t.setAttribute("is-mini","")});let e="";this.tabPositions.forEach((t,s)=>{e+=`
          .chrome-tabs[data-chrome-tabs-instance-id="${this.instanceId}"] .chrome-tab:nth-child(${s+1}) {
            transform: translate3d(${t}px, 0, 0)
          }
        `}),this.styleEl.innerHTML=e}static createNewTabEl(){const i=document.createElement("div");return i.innerHTML=tabTemplate,i.firstElementChild}static addTab(i,{animate:e=!0,background:t=!1}={}){const s=this.createNewTabEl();return e&&(s.classList.add("chrome-tab-was-just-added"),setTimeout(()=>s.classList.remove("chrome-tab-was-just-added"),500)),i=Object.assign({},defaultTapProperties,i),this.tabContentEl.appendChild(s),this.setTabCloseEventListener(s),this.updateTab(s,i),this.emit("tabAdd",{tabEl:s}),t||this.setCurrentTab(s),this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs(),this.setupDraggabilly(),this.tabs.push({ul:s,content:i.content}),s}static setTabCloseEventListener(i){i.querySelector(".chrome-tab-close").addEventListener("click",e=>this.removeTab(i))}static get activeTabEl(){return this.el.querySelector(".chrome-tab[active]")}static hasActiveTab(){return!!this.activeTabEl}static setCurrentTab(i,e){const t=this.activeTabEl;if(t===i)return;t&&t.removeAttribute("active"),i.setAttribute("active",""),this.emit("activeTabChange",{tabEl:i});const s=this.tabs.find(n=>n.ul===i);s!=null&&(e||s.content.Focus())}static removeTab(i){let e=this.tabs.findIndex(s=>s.ul===i);if(e!==-1){const s=this.tabs[e];if(s!=null){var t;if(!this.Dirty){i===this.activeTabEl&&(i.nextElementSibling?this.setCurrentTab(i.nextElementSibling):i.previousElementSibling&&this.setCurrentTab(i.previousElementSibling)),i!=null&i.parentNode!=null&&(i.parentNode.removeChild(i),this.emit("tabRemove",{tabEl:i})),s.content.Dispose();return}s.content._confirm=(t=new Core.Components.Forms.ConfirmDialog,t.Content="Do you want to save the data before closing?",t.OpenEditForm=s.content,t.TabEditor=s.content.TabEditor,t),s.content._confirm.YesConfirmed=Bridge.fn.combine(s.content._confirm.YesConfirmed,Bridge.fn.bind(this,function(){var n=0,r,l=Bridge.fn.bind(this,function(){for(;;)switch(n=System.Array.min([0,1],n),n){case 0:{if(r=s.content._confirm.OpenEditForm.Save(),n=1,r.isCompleted())continue;r.continue(l);return}case 1:{r.getAwaitedResult(),i===this.activeTabEl&&(i.nextElementSibling?this.setCurrentTab(i.nextElementSibling):i.previousElementSibling&&this.setCurrentTab(i.previousElementSibling)),i!=null&i.parentNode!=null&&(i.parentNode.removeChild(i),this.emit("tabRemove",{tabEl:i})),s.content._confirm.OpenEditForm.Dispose(),s.content._confirm.Dispose();return}default:return}},arguments);l()})),this._confirm.NoConfirmed=Bridge.fn.combine(this._confirm.NoConfirmed,Bridge.fn.bind(this,function(){this._confirm.OpenEditForm.Dispose(),this._confirm.Dispose()})),this._confirm.IgnoreCancelButton=!0,this._confirm.Render()}}this.cleanUpPreviouslyDraggedTabs(),this.layoutTabs(),this.setupDraggabilly()}static updateTab(i,e){i.querySelector(".chrome-tab-title").textContent=e.title;const t=i.querySelector(".chrome-tab-favicon");e.favicon?(e.favicon.includes("fa-")?t.className=e.favicon:t.style.backgroundImage=`url('${e.favicon}')`,t.removeAttribute("hidden","")):(t.setAttribute("hidden",""),t.removeAttribute("style")),e.id&&i.setAttribute("data-tab-id",e.id)}static cleanUpPreviouslyDraggedTabs(){this.tabEls.forEach(i=>i.classList.remove("chrome-tab-was-just-dragged"))}static setupDraggabilly(){const i=this.tabEls,e=this.tabPositions;this.isDragging&&(this.isDragging=!1,this.el.classList.remove("chrome-tabs-is-sorting"),this.draggabillyDragging.element.classList.remove("chrome-tab-is-dragging"),this.draggabillyDragging.element.style.transform="",this.draggabillyDragging.dragEnd(),this.draggabillyDragging.isDragging=!1,this.draggabillyDragging.positionDrag=noop,this.draggabillyDragging.destroy(),this.draggabillyDragging=null),this.draggabillies.forEach(t=>t.destroy()),i.forEach((t,s)=>{const n=e[s],r=new Draggabilly(t,{axis:"x",handle:".chrome-tab-drag-handle",containment:this.tabContentEl});this.draggabillies.push(r),r.on("pointerDown",l=>{this.setCurrentTab(t)}),r.on("dragStart",l=>{this.isDragging=!0,this.draggabillyDragging=r,t.classList.add("chrome-tab-is-dragging"),this.el.classList.add("chrome-tabs-is-sorting")}),r.on("dragEnd",l=>{this.isDragging=!1;const u=parseFloat(t.style.left,10);t.style.transform="translate3d(0, 0, 0)",requestAnimationFrame(p=>{t.style.left="0",t.style.transform=`translate3d(${u}px, 0, 0)`,requestAnimationFrame(g=>{t.classList.remove("chrome-tab-is-dragging"),this.el.classList.remove("chrome-tabs-is-sorting"),t.classList.add("chrome-tab-was-just-dragged"),requestAnimationFrame(S=>{t.style.transform="",this.layoutTabs(),this.setupDraggabilly()})})})}),r.on("dragMove",(l,u,p)=>{const g=this.tabEls,S=g.indexOf(t),I=n+p.x,F=closest(I,e),O=Math.max(0,Math.min(g.length,F));S!==O&&this.animateTabMove(t,S,O)})})}static animateTabMove(i,e,t){t<e?i.parentNode.insertBefore(i,this.tabEls[t]):i.parentNode.insertBefore(i,this.tabEls[t+1]),this.emit("tabReorder",{tabEl:i,originIndex:e,destinationIndex:t}),this.layoutTabs()}}y(ChromeTabs,"draggabillies",[]),y(ChromeTabs,"tabs",[]);const Mt=class Mt extends EditForm{constructor(e=null){super(e);y(this,"Popup",!1);y(this,"IsTab",!0);y(this,"PopUpMenu");this.PopulateDirty=!1,this._hotKeyComponents=[],this.DataSearchEntry={}}get Show(){return super.Show}set Show(e){super.Show=e,e&&!this.Popup&&ChromeTabs.setCurrentTab(this._li,this.Pop)}Render(){this.ParentElement||(this.ParentElement=Mt.TabContainer),this.Popup?this.RenderPopup():this.RenderTab(),this.Focus()}get TabTitle(){var e;return((e=this.Meta)==null?void 0:e.Label)??this.Title}RenderTab(){Html.Take(Mt.TabWrapper),this._li=ChromeTabs.addTab({title:this.Meta.Title==null?this.TabTitle:this.Title,favicon:this.Meta.Icon==null?this.Meta.Icon:this.Icon,content:this}),Html.Take(Mt.TabContainer).TabIndex(-1).Trigger(EventType.Focus).Div.Event(EventType.KeyDown,e=>this.HotKeyHandler(e)).Render(),this.Element=Html.Context,this.ParentElement=Mt.TabContainer,Mt.Tabs.push(this),super.Render()}RenderPopup(){var e;Html.Take(this.ParentElement??((e=this.Parent)==null?void 0:e.Element)??Mt.TabContainer).Div.ClassName("backdrop").TabIndex(-1).Trigger(EventType.Focus).Event(EventType.KeyDown,t=>this.HotKeyHandler(t)),this._backdrop=Html.Context,Html.Instance.Div.ClassName("popup-content").Div.ClassName("popup-title").Span.IText(this.Title),this.TitleElement=Html.Context,Client.Instance.SystemRole&&this.TitleElement.addEventListener("contextmenu",t=>this.SysConfigMenu(t,null,null,null)),Html.Instance.End.Div.ClassName("menu-item"),this.PopUpMenu=Html.Context,Html.Instance.End.End.Div.ClassName("popup-body"),this.Element=Html.Context,super.Render(),this._backdrop.OutOfViewport().Top&&this._backdrop.scrollIntoView(!0)}TriggerMatchHotKey(e,t,s,n,r){if(t==null)return;let l=[];s&&l.push(KeyCodeEnum.Shift),n&&l.push(KeyCodeEnum.Ctrl),r&&l.push(KeyCodeEnum.Alt),t<KeyCodeEnum.Shift?l.unshift(t):t>KeyCodeEnum.Alt&&l.push(t),this._hotKeyComponents=this._hotKeyComponents||this.FilterChildren(u=>u instanceof Button&&u.Meta.HotKey.trim()!=="").map(u=>u),this._hotKeyComponents.forEach(u=>{var F;let p=u.Meta.HotKey.split(",");if(p.length===0)return;let S=p[p.length-1].split("-").map(O=>{let X=KeyCodeEnum[O.trim()];return X||null}).filter(O=>O!=null).sort((O,X)=>O-X);JSON.stringify(l)===JSON.stringify(S)&&(e.preventDefault(),e.stopPropagation(),(F=u.Element)==null||F.click())})}HotKeyHandler(e){var u;const t=e.KeyCodeEnum();if(t===KeyCodeEnum.F6){let p=this.FindActiveComponent(g=>g instanceof GridView$1).FirstOrDefault();if(p instanceof GridView$1){p&&!p.AllListViewItem.some(g=>g.Selected)&&(p.AllListViewItem.length?p.AllListViewItem[0].Focus():p.ListViewSearch.Focus());return}}if(e.AltKey()&&t===KeyCodeEnum.GraveAccent){if(Mt.Tabs.length<=1)return;let p=Mt.Tabs.indexOf(this);if(p=p>=Mt.Tabs.length-1?0:p+1,p<0||p>Mt.Tabs.length)return;(u=Mt.Tabs[p])==null||u.Focus()}const s=e.ShiftKey(),n=e.CtrlOrMetaKey(),r=e.AltKey();if(this.DefaultHotKeys(t,s,n,r)){e.preventDefault(),e.stopPropagation();return}t>=KeyCodeEnum.Shift&&t<=KeyCodeEnum.Alt||this.TriggerMatchHotKey(e,t,s,n,r)}DefaultHotKeys(e,t,s,n){var r;if(!e)return!1;if(e===KeyCodeEnum.Escape&&!t&&!s&&!n)return this.DirtyCheckAndCancel(),!0;if(s&&n&&(e===KeyCodeEnum.LeftArrow||e===KeyCodeEnum.RightArrow)){let l=Mt.Tabs.indexOf(this);return l=e===KeyCodeEnum.LeftArrow?l===0?Mt.Tabs.length-1:l-1:l>=Mt.Tabs.length-1?0:l+1,l<0||l>Mt.Tabs.length?!1:((r=Mt.Tabs[l])==null||r.Focus(),!0)}if(s&&t&&e===KeyCodeEnum.F){let l=this.FindActiveComponent(u=>u instanceof ListView).FirstOrDefault();if(l instanceof ListView)return!l||!l.Meta.CanSearch||l.ListViewSearch.AdvancedSearch(null),!0}return!1}Focus(){this.Popup||(Mt.Tabs.forEach(e=>e.Show=!1),this.FeatureName&&(this.Href=Client.BaseUri+"/"+this.FeatureName+(this.EntityId?`?Id=${this.EntityId}`:""),window.history.pushState(null,LangSelect.Get(this.TabTitle),this.Href))),this.Show=!0,document.title=LangSelect.Get(this.TabTitle)}Close(e){var n,r;const t=parseInt((n=e.which)==null?void 0:n.toString()),s=parseInt((r=e.button)==null?void 0:r.toString());(t===2||s===1)&&(e.preventDefault(),this.DirtyCheckAndCancel())}Dispose(){!this.Popup&&this._li&&this.DisposeTab(),super.Dispose()}DisposeTab(){this.ParentForm&&(this.ParentForm.focus(),this.ParentForm=null),Mt.Tabs=Mt.Tabs.filter(t=>t!==this);let e=ChromeTabs.tabs.findIndex(t=>t.ul===this._li);e!==-1&&ChromeTabs.tabs.splice(e,1),ChromeTabs.tabs.length==0&&window.history.pushState({page:null},"Home",window.location.origin||"")}RemoveDOM(){var e,t,s,n;(e=this.Element)==null||e.remove(),(t=this._li)==null||t.remove(),(s=this._backdrop)==null||s.remove(),(n=this._backdropGridView)==null||n.remove()}};y(Mt,"TabWrapper",document.getElementById("tabs")),y(Mt,"TabContainer",document.getElementById("tab-content")),y(Mt,"Tabs",[]),y(Mt,"ActiveTab",()=>Mt.Tabs.find(e=>e.Show)),y(Mt,"FindTab",e=>Mt.Tabs.find(t=>t.Id===e)),y(Mt,"ShowTabText"),y(Mt,"ActiveClass","active");let TabEditor=Mt;const tabEditor=Object.freeze(Object.defineProperty({__proto__:null,TabEditor},Symbol.toStringTag,{value:"Module"}));class ComponentExt{constructor(){y(this,"StepPx",10)}static MapToPatch(i,e=null,t=null){const s={Table:e,Changes:[]};return Utils$1.ForEachProp(i,(n,r)=>{n.startsWith("$")||t&&!t.includes(n)||s.Changes.push({Field:n,Value:r==null?void 0:r.toString()})}),s}static MapToFilterOperator(i,e){if(!e||!i.FieldName)return"";e=e.trim();let t=i.DisplayField?`JSON_VALUE(ds.[${i.DisplayField}], '$.${i.DisplayDetail}')`:`ds.[${i.FieldName}]`;if(!t)return"";if(i.ComponentType===ComponentType.Datepicker){let s=Date.parse(e);if(!Number.isNaN(s)){const r=new Date(s).toISOString();return`cast(${t} as date) = cast('${r}' as date)`}return""}else{if(i.ComponentType===ComponentType.Checkbox)return`${t} = ${!!e}`;if(i.ComponentType===ComponentType.Numbox){const s=parseFloat(e);return isNaN(s)?"":`${t} = ${s}`}}return i.FilterTemplate?`${i.FilterTemplate.replace(/\{0\}/g,e)}`:`charindex(N'${e}', ${t}) >= 1`}static async InitFeatureByName(i,e=!0){const t=await this.LoadFeature(i);if(!t)throw new Error("Feature not found");const s=new TabEditor(t.EntityName);return t.Script&&ComponentExt.AssignMethods(t,s),EditForm.Portal=e,s.Meta=t,s.Name=t.Name||"",s.Id=t.Name+t.Id,s.Icon=t.Icon,s.Render(),s}static LoadFeature(i,e=null){return new Promise((t,s)=>{Client.Instance.SubmitAsync({Url:"/api/feature/getFeature?name="+i,IsRawString:!0,Method:"GET"}).then(r=>{t(r)}).catch(r=>s(r))})}static LoadPublicFeature(i,e=null){return new Promise((t,s)=>{Client.Instance.SubmitAsync({Url:"/api/feature/getPublicFeature?name="+i,IsRawString:!0,Method:"GET"}).then(r=>{t(r)}).catch(r=>s(r))})}static AssignMethods(i,e){const t=new Function("return "+i.Script)();Object.assign(e,t),typeof e.Init=="function"&&e.Init()}static FindComponentEvent(i,e){let t=i.ParentForm;for(;t!==null&&!t[e];)t=t.ParentForm;return t}static SetShow(i,e,...t){i.Children.filter(s=>t.includes(s.Name)).forEach(s=>s.Show=e)}static AlterPosition(i,e){if(!i||!e)return;const t=e.getBoundingClientRect();var s=t.bottom;i.style.top="auto",i.style.right="auto",i.style.bottom="auto",i.style.left="auto",Html.Take(i).Floating(s,t.left);const n={Right:t.right>window.innerWidth,Bottom:t.bottom>window.innerHeight};n.Right&&(n.Bottom?t.Top>i.ClientHeight?this.TopCenter(i,parentEle):t.Left>i.ClientWidth&&this.LeftMiddle(i,parentEle):this.BottomCenter(i,parentEle)),n.Bottom&&(this.RightMiddle(i,parentEle),n.Right&&this.LeftMiddle(i,parentEle),n.Left&&this.TopCenter(i,parentEle))}static BottomCenter(i,e){const t=e.getBoundingClientRect();i.style.right="auto",i.style.top=t.bottom+"px",PositionUtils.MoveLeft(i)}static GetComputedPx(i,e){const t=window.getComputedStyle(i)[e];return t&&parseFloat(t.replace("px",""))||0}static TopCenter(i,e){i.style.right="auto",PositionUtils.MoveLeft(i),PositionUtils.MoveTop(i,e)}static MoveLeft(i){for(;PositionUtils.IsOutOfViewport(i).right;){const e=PositionUtils.GetComputedPx(i,"left")-this.StepPx;i.style.left=e+"px"}}static MoveTop(i,e){const t=e?e.getBoundingClientRect().top:null;for(;PositionUtils.IsOutOfViewport(i).bottom||e&&i.getBoundingClientRect().bottom>t;){const s=PositionUtils.GetComputedPx(i,"top")-(e?1:this.StepPx);i.style.top=s+"px"}}static LeftMiddle(i,e){const t=e.getBoundingClientRect();i.style.left="auto",i.style.bottom="auto",i.style.right=t.left+"px",this.MoveTop(i)}static RightMiddle(i,e){const t=e.getBoundingClientRect();i.style.right="auto",i.style.bottom="auto",i.style.left=t.right+"px",this.MoveTop(i)}static IsOutOfViewport(i){const e=i.getBoundingClientRect();return{top:e.top<0,right:e.right>(window.innerWidth||document.documentElement.clientWidth),bottom:e.bottom>(window.innerHeight||document.documentElement.clientHeight),left:e.left<0}}static DownloadFile(i,e){const t=document.createElement("a");t.style.display="none",t.href=URL.createObjectURL(e),t.download=i,document.body.appendChild(t),t.click(),document.body.removeChild(t)}static FullScreen(i){i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}static FindClosest(i,e){if(i instanceof e)return i;for(;i.Parent!=null;)if(i=i.Parent,i instanceof e)return i;return null}static async OpenTabOrPopup(i,e){const t=await __vitePreload(()=>Promise.resolve().then(()=>editableComponent),void 0),{EditForm:s}=await __vitePreload(async()=>{const{EditForm:l}=await Promise.resolve().then(()=>editForm);return{EditForm:l}},void 0),{TabEditor:n}=await __vitePreload(async()=>{const{TabEditor:l}=await Promise.resolve().then(()=>tabEditor);return{TabEditor:l}},void 0);let r;i instanceof s?r=i:i instanceof t.default&&(r=s||this.FindClosest(i,s)),e instanceof n&&(e.Popup?i.AddChild(e):e.Render(),e.ParentForm=r,e.OpenFrom=r instanceof s&&(r==null?void 0:r.FirstOrDefault(l=>l.Entity===e.Entity)))}async OpenTabOrPopup(i,e){var n;const{EditForm:t}=await __vitePreload(async()=>{const{EditForm:r}=await Promise.resolve().then(()=>editForm);return{EditForm:r}},void 0);let s;i instanceof t?s=i:s=i.EditForm||i.FindClosest(r=>r instanceof t),e.Popup?i.AddChild(e):e.Render(),e.ParentForm=s,e.OpenFrom=(n=s==null?void 0:s.FilterChildren(r=>r.Entity===e.Entity))==null?void 0:n[0]}static async OpenTab(i,e,t,s,n=!1,r=!1){const l=await __vitePreload(()=>Promise.resolve().then(()=>tabEditor),void 0);if(!n&&l.TabEditor.FindTab(e)){const g=l.TabEditor.FindTab(e);return g.Focus(),g}const u=await this.LoadFeature(t),p=s();return p.Popup=n,p.Name=t,p.Id=e,p.Meta=u,this.AssignMethods(u,p),await this.OpenTabOrPopup(i,p),p}static OpenPopup(i,e,t,s=!1,n=!1){const r=()=>{let l=0,u=JSON.stringify(i);for(let p=0;p<u.length;p++){const g=u.charCodeAt(p);l=(l<<5)-l+g,l|=0}return l};return this.OpenTab(i,r().toString(),e,t,!0,s)}}class Label extends EditableComponent{constructor(i,e=null){super(i,e)}Render(){this.SetDefaultVal();const i=this.Entity[this.Meta.FieldName];let e="";if(this.Element||this.RenderNewEle(e,i),this.Meta&&this.Meta.ComponentType=="Checkbox"){this.Element.InnerHTML=i?"":"";return}if(Utils$1.isNullOrWhiteSpace(this.Meta.Query))e=this.CalcCellText(i),this.UpdateEle(e);else{var t=Utils$1.IsFunction(this.Meta.Query);if(this.Meta.Query){this.QueryCellText(t);return}}}RenderCellTextAsync(){}UpdateEle(i){this.Element.innerHTML=i,i.includes("<div")||this.Element.setAttribute("title",i)}RenderNewEle(i,e){Html.Take(this.ParentElement).TextAlign(this.CalcTextAlign(this.Meta,e)),i.includes("<div")?Html.Instance.Div.Render():Html.Instance.Span.Render(),Html.Instance.ClassName("cell-text").InnerHTML(i),this.Element=Html.Context,Html.Instance.End.Render()}CalcCellText(i){var t;var e=Utils$1.GetCellText(this.Meta,i,this.Entity,!1,this.EmptyRow,(t=this.EditForm)==null?void 0:t.Entity);return(!e||e=="null")&&(e=""),e}QueryCellText(i){if(!this.Meta.PreQuery||i===null)return;const e=Utils$1.IsFunction(this.Meta.PreQuery),t=e?e.call(this,this).toString():"",s={MetaConn:this.MetaConn,DataConn:this.DataConn,Params:JSON.stringify(t),ComId:this.Meta.Id};Client.Instance.SubmitAsync({Method:"POST",Url:Utils$1.ComQuery,Value:JSON.stringify(s)}).then(n=>{if(n.Nothing())return;const r=i.call(this,this,n).toString();this.UpdateEle(r,null,!1)})}LabelClickHandler(i){this.DispatchEvent(this.Meta.Events,"click",this.Entity)}CalcTextAlign(i,e){const t=i.TextAlignEnum;return t||(i.ReferenceId||e===null||typeof e=="string"?"left":typeof e=="number"?"right":"center")}UpdateView(i=!1,e=null,t){this.PrepareUpdateView(i,e),this.Render()}GetValueTextAct(){return this.Element.textContent}}class Paginator extends EditableComponent{constructor(e){super(null,null);y(this,"Parent");if(!e)throw new Error("paginationOptions is required");this.Entity=e,this.Options=e,this.Options.StartIndex=this.Options.StartIndex||1,this.Element=null,this.PopulateDirty=!1,this.AlwaysValid=!0}Render(){Html.Take(this.Parent.Element).Div.ClassName("grid-toolbar paging").Label.IText("Pagination").End.Render(),this.Element=Html.Context;var e=new Label({FieldName:"StartIndex"}),t=new Label({FieldName:"EndIndex"}),s=new Label({FieldName:"Total"}),n=new Numbox({FieldName:"PageNumber"});if(n.AlwaysValid=!0,n.SetSeclection=!1,!this.Options.Virtal){var r=new Numbox({FieldName:"PageSize"});r.SetSeclection=!1,this.AddChild(r),r.Element.addEventListener("change",this.ReloadListView),Html.Instance.End.Render()}Html.Instance.Div.Style("display: flex;").Render(),this.AddChild(e),Html.Instance.Text("-"),this.AddChild(t),Html.Instance.IText(" of "),this.AddChild(s),this.Options.Virtal||(Html.Take(this.Element).Ul.ClassName("pagination").Li.Text("").Event("click",this.PrevPage.bind(this)).End.Render(),this.AddChild(n),n.Element.addEventListener("change",()=>{this.Options.PageIndex=this.Options.PageNumber-1,this.ReloadListView()}),Html.Instance.End.Li.Text("").Event("click",this.NextPage.bind(this)).End.Render())}CreateNumberInput(e){const t=document.createElement("input");return t.type="number",t.value=this.Options[e],t.addEventListener("change",()=>{this.Options[e]=parseInt(t.value),this.ReloadListView()}),t}CreateLabel(e,t=""){const s=document.createElement("label");return s.textContent=t?t.replace("{0:n0}",this.Options[e].toLocaleString()):this.Options[e],s}NextPage(){const e=Math.ceil(this.Options.Total/this.Options.PageSize);this.Options.PageNumber>=e||(this.Options.PageIndex++,this.Options.ClickHandler&&this.Options.ClickHandler(this.Options.PageIndex,null),this.ReloadListView())}PrevPage(){this.Options.PageIndex<=0||(this.Options.PageIndex--,this.Options.ClickHandler&&this.Options.ClickHandler(this.Options.PageIndex,null),this.ReloadListView())}ReloadListView(){this.Parent instanceof ListView&&this.Parent.ActionFilter()}}var Vn;class TabComponent extends EditableComponent{constructor(e,t=null){super(e);y(this,"BadgeElement");y(this,"Badge");y(this,"_li");y(this,"DisplayBadge");Bi(this,Vn,!1)}set Show(e){this._li&&(super.Show=e,e?(this._li.classList.add("active"),this._li.querySelector("a").classList.add("active"),this.DispatchEvent(this.Meta.Events,"FocusIn",this.Entity).Done()):(this._li.classList.remove("active"),this._li.querySelector("a").classList.remove("active"),this.DispatchEvent(this.Meta.Events,"FocusOut",this.Entity).Done()))}Render(){Html.Take(this.Parent.Ul).Li.A.ClassName("nav-link tab-default").I.ClassName(this.Meta.Icon??"").End.Span.IText(this.Meta.Label??this.Meta.Name).Render(),Html.Instance.End.Span.ClassName("ml-1 badge badge-warning"),this.BadgeElement=Html.Context,this.DisplayBadge?Html.Instance.Text(this.Badge??""):this.BadgeElement.style.display="none",this._li=Html.Context.parentElement.parentElement,Html.Instance.End.Div.ClassName("desc").IText(this.Meta.Description??"").End.Render(),this._li.addEventListener("click",()=>{this.HasRendered?this.Focus():(this.Focus(),this.RenderTabContent())})}Focus(){this.Parent.Children.forEach(e=>{e.Show=!1}),this.Show=!0}RenderTabContent(){Html.Take(this.Parent.TabContent).Div.ClassName("tab-content"),this.Element=Html.Context,Section$1.RenderSection(this,this.Meta,null,this.EditForm),this.HasRendered=!0}}Vn=new WeakMap;class TabGroup extends EditableComponent{constructor(e,t=null){super(e);y(this,"ListViewType");y(this,"Ul");y(this,"TabContent");y(this,"ShouldCountBage");y(this,"HasRendered");y(this,"TabGroupElement");this.ListViewType=["ListView","GroupListView","GridView","GroupGridView"],this.Ul=null,this.TabContent=null,this.ShouldCountBage=!1,this.HasRendered=!1,this.TabGroup=!0}Render(){Html.Take(this.ParentElement).Div.ClassName("tab-group").ClassName(this.Meta.IsVertialTab?"tab-vertical":"tab-horizontal"),this.TabGroupElement=Html.Context,Html.Instance.Div.ClassName("headers-wrapper").Ul.ClassName("nav-config  nav nav-tabs nav-tabs-bottom mb-0"),this.Ul=Html.Context,Element=this.Ul.parentElement,Html.Instance.End.End.Render(),this.EditForm.ButtonFrozen!=null&&!this.EditForm.IsLoadButtonFrozen&&(Section$1.RenderGroupContent(this.Parent,this.EditForm.ButtonFrozen,this.EditForm.writePermission,this.EditForm.width),this.EditForm.IsLoadButtonFrozen=!0),Html.Instance.Div.ClassName("tabs-content"),this.TabContent=Html.Context}}var Ti;let Section$1=(Ti=class extends EditableComponent{constructor(e,t=null){super(null,t);y(this,"_chevron");this.elementType=e,this.Element=t,this.innerEle=null,this._chevron=null}Render(){var e,t,s,n,r,l,u;if(this.elementType==null?this.elementType=(t=(e=this.Element)==null?void 0:e.tagName)==null?void 0:t.toLowerCase():(Html.Take(this.ParentElement).Add(this.elementType.tagName==null?this.elementType:(n=(s=this.elementType)==null?void 0:s.tagName)==null?void 0:n.toLowerCase()),this.Element=Html.Context),this.Meta!==null){if(this.Meta.Html&&this.Meta.Html!=""){let p=this.Meta.Css&&this.Meta.Css!="";const g=(((r=this.Meta.FieldName)==null?void 0:r.toLowerCase())??"")+this.Meta.Id;if(p){const I=/(?:^|[\s\r\n])\.([a-zA-Z0-9-_]+)/g;if(p=p.replace(I,F=>/\d/.test(F)||F.includes("minmax")?F:F.replace(/([.])/,`[${g}]$1`)),!document.head.querySelector("#"+g)){const F=document.createElement("style");F.id=g,F.appendChild(document.createTextNode(p)),document.head.appendChild(F)}}if(this.Element!=null){const I=Utils$1.GetHtmlCode(this.Meta.Html,[this.Entity])??"";this.Element.innerHTML=I}const S=!this.Meta.Id&&this.EditForm?this.EditForm.GetElementPolicies(this.Meta.Children.map(I=>I.Id).concat([...this.Meta.Id]),Utils$1.ComponentId):[];if(this.SplitChild(this.Element.children,S,g),this.Meta.Javascript)try{const F=new Function(this.Meta.Javascript).call(null,this.EditForm);for(const O in F)this[O]=F[O].bind(this)}catch(I){console.log(I.message)}this.RenderChildrenSection(this.Meta);return}this.Meta.IsDropDown&&(Html.Take(this.Element).ClassName("dd-wrap").Style("position: relative;").TabIndex(-1).Event(EventType.FocusOut,this.HideDetailIfButtonOnly).Button.ClassName("btn ribbon").IText(this.Meta.Label).Event(EventType.Click,this.DropdownBtnClick.bind(this)).Span.Text("").EndOf(ElementType.button).Div.ClassName("dropdown").TabIndex(-1).Render(),this.Meta.IsCollapsible===!0&&Html.Instance.Style("display: none;"),this.innerEle=Html.Context,this._chevron=(u=(l=this.innerEle)==null?void 0:l.previousElementSibling)==null?void 0:u.firstElementChild,this.Element=Html.Context),this.Meta.Responsive&&!this.Meta.IsTab||this.Meta.IsDropDown?this.RenderComponentResponsive(this.Meta):this.RenderComponent(this.Meta),this.RenderChildrenSection(this.Meta)}}SplitChild(e,t,s){var n,r,l;for(const u of e){if(u.setAttribute(s,""),u.dataset.name!==void 0){const p=new Ti(ElementType.div,null);p.Element=u;const g=this.Meta.Children.find(X=>X.FieldName===u.dataset.name);if(u.removeAttribute("data-name"),!g||g.Hidden)continue;const S=t.filter(X=>X.RecordId===g.Id),I=!g.IsPrivate||S.every(X=>X.CanRead),F=!g.IsPrivate||S.every(X=>X.CanWrite);if(!I)continue;const O=ComponentFactory.GetComponent(g,this.EditForm);if(O==null)return;if(O.IsListView&&this.EditForm.ListViews.push(O),O.ParentElement=u,this.AddChild(O),O instanceof EditableComponent&&(O.Disabled=g.Disabled||this.Disabled||!F||O.Disabled),O.Element){if(g.ChildStyle){const X=Html.Context;Html.Take(O.Element).Style(g.ChildStyle),Html.Take(X)}g.ClassName&&O.Element.classList.add(g.ClassName),g.Row===1&&((l=(r=(n=O.ParentElement)==null?void 0:n.parentElement)==null?void 0:r.classList)==null||l.add("inline-label")),Client.Instance.SystemRole&&O.Element.addEventListener("contextmenu",X=>this.EditForm.SysConfigMenu(X,g,this.Meta,null))}g.Focus&&O.Focus()}if(u.dataset.click!==void 0){const p=u.dataset.click;u.removeAttribute("data-click"),u.addEventListener(EventType.Click,async()=>{let g=null;g=this[p];try{await g.apply(this.EditForm,[this])}catch(S){throw console.log(S.message),console.log(S.stack),S}})}}}HandleMeta(){if(!this.Meta.Html)return;const e=this.Meta.Css,t=this.Meta.Id,s=`${this.Meta.FieldName.toLowerCase()}${t}`;if(e){const n=`${s}-style`;if(!document.getElementById(n)){const r=document.createElement("style");r.id=n,r.textContent=e.replace(/(?:^|[\s\r\n])\.([a-zA-Z0-9-_]+)/g,(l,u)=>`.${s} ${u}`),document.head.appendChild(r)}}if(this.Element.innerHTML=Utils$1.GetHtmlCode(this.Meta.Html,[this.Entity]),this.Meta.Javascript)try{new Function("editForm",this.Meta.Javascript).call(this,this.EditForm)}catch(n){console.error("Error executing JavaScript:",n)}}get Chevron(){return this._chevron}set Chevron(e){this._chevron=e}RenderDropDown(){const e=document.createElement("button");e.className="btn ribbon",e.textContent=this.Meta.Label,e.addEventListener("click",this.DropdownBtnClick.bind(this));const t=document.createElement("span");t.textContent="",e.appendChild(t);const s=document.createElement("div");s.className="dropdown",s.style.display="none",s.tabIndex=-1,this.Element.appendChild(e),this.Element.appendChild(s),this.InnerEle=s,this.Chevron=t,this.Element.addEventListener("focusout",this.HideDetailIfButtonOnly.bind(this))}DropdownBtnClick(){const e=this.InnerEle.style.display!=="none";this.InnerEle.style.display=e?"none":"block",this.Chevron.textContent=e?"":""}HideDetailIfButtonOnly(){this._isAllBtn===null&&(this._isAllBtn=Array.from(this.InnerEle.children).every(e=>e.tagName==="BUTTON")),this._isAllBtn&&(this.InnerEle.style.display="none",this.Chevron.textContent="")}static HasElementAndAll(e,t){return e===null||e.length===0?!1:e.every(t)}static RenderSection(e,t,s=null,n=null){n=n??e.EditForm;const r=n.GetElementPolicies([t.Id],Utils$1.ComponentGroupId),l=!t.IsPrivate||this.HasElementAndAll(r,O=>O.CanRead),u=!t.IsPrivate||this.HasElementAndAll(r,O=>O.CanWrite);if(!l)return null;let p=t.Width;const g=n.GetOuterColumn(t),S=n.GetInnerColumn(t.Parent);if(g>0&&S>0){const O=(g/S*100).toFixed(2);t.ItemInRow||(t.ItemInRow=2),p=g===S?"100%":`${O}%`}var F=this.RenderGroupContent(e,t,u,p,s,n);return F}static RenderGroupContent(e,t,s,n,r,l){var g,S;var u=l??e.EditForm;Html.Take(e.Element).Div.ClassName("section-item").Width(n).Div.ClassName(t.ClassName??"").Event(EventType.ContextMenu,I=>u.SysConfigMenu(I,null,t,null)),t.Label&&(Html.Instance.Label.ClassName("header").IText(t.Label),Html.Instance.End.Render()),(g=t.ClassName)!=null&&g.includes("ribbon")||Html.Instance.ClassName("panel").ClassName("group"),Html.Instance.Display(!t.Hidden).Style(t.Style||"");const p=new Ti(null,Html.Context);return p.EditForm=u,p.Id=t.FieldName+t.Id,p.Name=t.FieldName,p.Meta=t,p.Disabled=e.Disabled||t.Disabled||!s||u.IsLock||p.Disabled,e.AddChild(p,null,t.ShowExp),Html.Take(e.Element),(S=p.DOMContentLoaded)==null||S.Invoke(),p}static RenderTabGroup(e,t,s=null){const n=e.Disabled||t.Disabled;e.EditForm.TabGroup||(e.EditForm.TabGroup=[]);var r=e.EditForm.TabGroup.find(p=>p.Name===t.TabGroup);if(r){var u=new TabComponent(t);u.Parent=r,u.ParentElement=r.Element,u.Entity=e.Entity,u.Meta=t,u.Name=t.Name,u.EditForm=e.EditForm,u.Disabled=n,r.Children.push(u),u.Render()}else{r=new TabGroup(t),r.Name=t.TabGroup,r.Parent=e,r.ParentElement=e.Element,r.Entity=s??e.Entity,r.Meta=t,r.EditForm=e.EditForm,r.Children=[],r.Disabled=n;var l=new TabComponent(t);l.Parent=r,l.Entity=e.Entity,l.Meta=t,l.Name=t.FieldName,l.EditForm=e.EditForm,l.Disabled=n,r.Children.push(l),e.EditForm.TabGroup.push(r),e.Children.push(r),r.Render(),l.Render(),l.RenderTabContent(),l.Focus(),l.ToggleShow(t.ShowExp),l.ToggleDisabled(t.DisabledExp)}}RenderChildrenSection(e){!e.Children||e.Children.length===0||e.Children.sort((t,s)=>t.Order-s.Order).forEach(t=>{t.IsTab?Ti.RenderTabGroup(this,t):Ti.RenderSection(this,t)})}ChangeLabel(e,t){clearTimeout(this._imeout),this._imeout=setTimeout(()=>{var s;this.SubmitLabelChanged("Component",t.Id,(s=e==null?void 0:e.target)==null?void 0:s.textContent)},1e3)}SubmitLabelChanged(e,t,s){var n=new PatchVM;n.Table=e,n.Changes=[{Field:this.IdField,Value:t},{Field:"Label",Value:s}],Client.Instance.PatchAsync(n).then(r=>{console.log("patch success")})}static SubmitLabelChanged(e,t,s){var n={Table:e,Changes:[{Field:"IdField",Value:t},{Field:"Component.Label",Value:s}]};Client.Instance.PatchAsync(n).Done()}static ChangeComponentGroupLabel(e,t){window.clearTimeout(Ti._imeout1),Ti._imeout1=window.setTimeout(()=>{this.SubmitLabelChanged("Meta",t.Id,Utils$1.DecodeSpecialChar(e.target instanceof HTMLElement&&e.target.textContent))},1e3)}RenderComponentResponsive(e){if(e.Children==[])return;const t=Html.Instance,s=this.EditForm.GetElementPolicies(e.Children.map(l=>l.Id),Utils$1.ComponentId),n=this.EditForm.GetInnerColumn(e);n>0&&Html.Take(this.Element).ClassName("grid").Style(`grid-template-columns: repeat(${n}, 1fr)`);let r=0;e.Children.sort((l,u)=>l.Order-u.Order).forEach(l=>{if(l.Hidden)return;const u=s.filter(O=>O.RecordId===l.Id),p=!l.IsPrivate||u.every(O=>O.CanRead),g=!l.IsPrivate||u.every(O=>O.CanWrite);if(!p)return;Html.Take(this.Element);const S=l.Column||2;l.Label=l.Label||"";let I=null;l.ShowLabel&&(t.Div.IText(l.Label).TextAlign(r===0?"left":"right").Render(),I=Html.Context,t.End.Render());const F=ComponentFactory.GetComponent(l,this.EditForm);if(F!==null&&(F.IsListView&&(this.EditForm.ListViews.push(F),this.AddChild(F)),F instanceof EditableComponent)){if(F.Disabled=l.Disabled||this.Disabled||!g||this.EditForm.IsLock||F.Disabled,this.AddChild(F),F.Element!=null){if(l.ChildStyle){const O=Html.Context;Html.Take(F.Element).Style(l.ChildStyle),Html.Take(O)}l.ClassName&&F.Element.AddClass(l.ClassName),l.Row===1&&F.ParentElement.parentElement.AddClass("inline-label"),Client.Instance.SystemRole&&F.Element.AddEventListener("contextmenu",O=>this.EditForm.SysConfigMenu(O,l,e,F)),l.Focus&&F.Focus()}S<=n?(I!==null&&I.nextElementSibling!==null&&S!==2?I.nextElementSibling instanceof HTMLElement&&(I.nextElementSibling.style.gridColumn=`${r+2}/${r+S+1}`):F.Element!==null&&(F.Element.style.gridColumn=`${r+2}/${r+S+1}`),r+=S):r=0,r===n&&(r=0)}})}RenderCom(e,t,s){if(e.Hidden)return;const n=s.filter(I=>I.RecordId===e.Id),r=!e.IsPrivate||n.every(I=>I.CanRead),l=!e.IsPrivate||n.every(I=>I.CanWrite);var u=this.EditForm.GetInnerColumn(e);if(!r)return;Html.Take(this.Element);const p=e.Column||2;e.Label=e.Label||"";let g=null;e.ShowLabel&&(Html.Div.IText(e.Label).TextAlign(t===0?"left":"right").Render(),g=Html.Context,Html.End.Render());const S=ComponentFactory.GetComponent(e,this.EditForm);if(S!==null){if(S.IsListView&&this.EditForm.ListViews.push(S),this.AddChild(S),S instanceof EditableComponent&&(S.Disabled=e.Disabled||this.Disabled||!l||this.EditForm.IsLock||S.Disabled),S.Element){if(e.ChildStyle){const I=Html.Context;Html.Take(S.Element).Style(e.ChildStyle),Html.Take(I)}e.ClassName&&S.Element.classList.add(e.ClassName),e.Row===1&&S.ParentElement.parentElement.classList.add("inline-label"),Client.SystemRole&&S.Element.addEventListener("contextmenu",I=>this.EditForm.SysConfigMenu(I,e,e,S))}e.Focus&&S.Focus(),p<=u?(g&&g.nextElementSibling&&p!==2?g.nextElementSibling instanceof HTMLElement&&(g.nextElementSibling.style.gridColumn=`${t+2}/${t+p+1}`):S.Element&&(S.Element.style.gridColumn=`${t+2}/${t+p+1}`),t+=p):t=0,t===u&&(t=0)}}async ComponentProperties(e){const{ComponentBL:t}=await __vitePreload(async()=>{const{ComponentBL:r}=await import("./componentEditor-DsaXaAs6.js");return{ComponentBL:r}},__vite__mapDeps([3,1])),{EditForm:s}=await __vitePreload(async()=>{const{EditForm:r}=await Promise.resolve().then(()=>editForm);return{EditForm:r}},void 0);var n=new t({Entity:e,ParentElement:this.Element,OpenFrom:this.FindClosest(r=>r instanceof s)});this.AddChild(n)}RenderComponent(e){var n;if(!e.Components||e.Components.length==0)return;(n=e.ClassName)!=null&&n.includes("ribbon-group")&&this.EditForm.Popup&&Html.Take(this.EditForm.PopUpMenu),Html.Table.ClassName("ui-layout").TBody.TRow.Render();let t=0;const s=this.EditForm.GetElementPolicies(e.Components.map(r=>r.Id),Utils$1.ComponentId);e.Components.sort((r,l)=>r.Order-l.Order).forEach(r=>{if(r.Hidden)return;const l=s.filter(I=>I.RecordId===r.Id),u=!r.IsPrivate||l.every(I=>I.CanRead),p=!r.IsPrivate||l.every(I=>I.CanWrite);if(!u)return;const g=r.Column||2;r.Label=r.Label||"",r.ShowLabel?(Html.TData.Visibility(r.Visibility).Div.IText(r.Label).TextAlign(t===0?"left":"right"),Html.EndOf("td").TData.Visibility(r.Visibility).ColSpan(g-1).Render()):Html.TData.Visibility(r.Visibility).ColSpan(g).ClassName("text-left").Style("padding-left: 0;").Render(),r.Style&&Html.Style(r.Style),r.Width&&Html.Width(r.Width);const S=ComponentFactory.GetComponent(r,this.EditForm);if(S!==null){if(S.IsListView&&this.EditForm.ListViews.push(S),this.AddChild(S),S instanceof EditableComponent&&(S.Disabled=r.Disabled||this.Disabled||!p||this.EditForm.IsLock||S.Disabled),S.Element){if(r.ChildStyle){const I=Html.Context;Html.Take(S.Element).Style(r.ChildStyle),Html.Take(I)}r.Row===1&&S.ParentElement.parentElement.classList.add("inline-label"),Client.Instance.SystemRole&&r.ComponentType!="CodeEditor"&&S.Element.addEventListener("contextmenu",I=>this.EditForm.SysConfigMenu(I,r,e,S))}r.Focus&&S.Focus(),Html.EndOf("td"),r.Offset!=null&&r.Offset>0&&(Html.TData.ColSpan(r.Offset).End.Render(),t+=r.Offset),t+=g,t===this.EditForm.GetInnerColumn(e)&&(t=0,Html.EndOf("tr").TRow.Render())}})}},y(Ti,"_imeout1"),Ti);const section=Object.freeze(Object.defineProperty({__proto__:null,Section:Section$1},Symbol.toStringTag,{value:"Module"}));class ListViewSection extends Section$1{constructor(){super(...arguments);y(this,"ListView")}Render(){this.ListView=this.Parent,super.Render()}}class AdvancedSearch extends EditableComponent{constructor(e){super(null);y(this,"Parent");y(this,"Entity");this.Name="AdvancedSearch",this.Title="Tm kim nng cao",this.Icon="fa fa-search-plus",this.Parent=e}LocalRender(){this._headers=this.Parent.Header.filter(n=>n.Id!=null&&n.Label&&n.Active&&!n.Hidden);const e=new FeaturePolicy;e.CanRead=!0,e.CanWrite=!0,e.CanDelete=!0,this.Entity=this.Parent.AdvSearchVM;var t=this.Parent.Meta.OrderBy;this.Parent.OrderBy=t?t.split(",").map(n=>{if(!n)return null;var r=n.trim().replace(new RegExp("\\s+","g")," ").replace("ds.","").split(" ");if(r.length<1)return null;var l=this._headers.find(p=>p.FieldName==r[0]);if(l==null)return null;var u={ComId:l.Id,FieldName:l.FieldName};return r.length==1?u.OrderbyDirectionId=OrderbyDirection.ASC:u.OrderbyDirectionId=r[1].toLowerCase()==="asc"?OrderbyDirection.ASC:OrderbyDirection.DESC,u}).filter(n=>n!=null):this.Parent.OrderBy;var s=this.AddSection();this.AddFilters(s),this.AddOrderByGrid(s)}AddSection(){var e=new Section$1(ElementType.div);e.Meta={Column:4,Label:"Filter",Active:!0,ClassName:"scroll-content"},this.AddChild(e);var t=new HTMLLabelElement;return e.Element.appendChild(t),t.textContent="Status",e.ClassName="filter-warpper panel group wrapper",e}AddFilters(e){this._filterGrid=new GridView({Id:Uuid7.Id25(),FieldName:"Conditions",Column:4,RefName:"FieldCondition",LocalRender:!0,IgnoreConfirmHardDelete:!0,CanAdd:!0,Events:"{'DOMContentLoaded': 'FilterDomLoaded'}"}),this._filterGrid.OnDeleteConfirmed=()=>{this._filterGrid.GetSelectedRows().forEach(t=>{this._filterGrid.RowData.remove(t)})},this._filterGrid.Header=this._filterGrid.Meta.LocalHeader=[{Id:"1",FieldName:"FieldId",Events:"{'change': 'FieldId_Changed'}",Label:"Tn ct",RefName:"Component",FormatData:"ShortDesc",Active:!0,Editable:!0,ComponentType:"SearchEntry",MinWidth:"100px",MaxWidth:"200px",LocalRender:!0,LocalData:this._headers,LocalHeader:[{FieldName:"ShortDesc",Label:"Column",Active:!0}],Validation:'[{"Rule": "required", "Message": "{0} is required"}]'},{Id:"2",FieldName:"CompareOperatorId",Label:"Ton t",ReferenceId:this._entityId,RefName:"Entity",ComponentType:"SearchEntry",FormatData:"Description",Active:!0,Editable:!0,MinWidth:"150px",LocalRender:!0,LocalData:IEnumerableExtensions.ToEntity(AdvSearchOperation),LocalHeader:[{EntityId:this._entityId,FieldName:"Name",Label:"Operator",Active:!0},{EntityId:this._entityId,FieldName:"Description",Label:"Allias",Active:!0}],Validation:'[{"Rule": "required", "Message": "{0} is required"}]'},{Id:"3",FieldName:"Value",Label:"Value",ReferenceId:this._entityId,RefName:"Entity",ComponentType:"Input",Active:!0,Editable:!0,MinWidth:"450px",Validation:'[{"Rule": "required", "Message": "{0} is required"}]'},{Id:"2",FieldName:"LogicOperatorId",Label:"logic",ReferenceId:this._entityId,RefName:"Entity",ComponentType:"SearchEntry",FormatData:"Description",Active:!0,Editable:!0,DefaultVal:"0",LocalRender:!0,LocalData:LogicOperation.ToEntity(),LocalHeader:[{EntityId:this._entityId,FieldName:"Name",Label:"Logic",Active:!0},{EntityId:this._entityId,FieldName:"Value",Label:"Value",Active:!0}]}],this._filterGrid.RowData.Data=this._filterGrid.Meta.LocalData=this.Entity.Conditions,this._filterGrid.ParentElement=e.Element,e.AddChild(this._filterGrid),this._filterGrid.Element.addEventListener(EventType.KeyDown,this.ToggleIndent.bind(this))}FilterDomLoaded(){this._filterGrid.MainSection.Children.forEach(e=>{var t=e.Entity;this.FieldId_Changed(t,t.Field)})}HeaderForAdvSearch(){return this.Parent.Header.filter(e=>e.Id!=null&&e.Label&&e.Active&&!e.Hidden)}AddOrderByGrid(e){this._orderByGrid=new GridView({FieldName:"OrderBy",Column:4,ReferenceId:this._orderById,RefName:"Entity",CanAdd:!0,IgnoreConfirmHardDelete:!0,LocalRender:!0}),this._orderByGrid.OnDeleteConfirmed=()=>{this._orderByGrid.GetSelectedRows().forEach(t=>{this._orderByGrid.RowData.Remove(t)})},this._orderByGrid.Meta.LocalHeader=[{Id:"1",FieldName:"FieldId",Events:"{'change': 'FieldId_Changed'}",Label:"Tn ct",ReferenceId:this._ComponentId,RefName:"Component",FormatData:"ShortDesc",Active:!0,Editable:!0,ComponentType:"SearchEntry",MinWidth:"100px",MaxWidth:"200px",LocalData:this._headers,LocalRender:!0,LocalHeader:[{EntityId:this._ComponentId,FieldName:"ShortDesc",Label:"Tn ct",Active:!0}]},{Id:"2",EntityId:this._orderById,FieldName:"OrderbyDirectionId",Label:"Th t",ReferenceId:this._entityId,RefName:"Entity",ComponentType:"SearchEntry",FormatData:"Description",Active:!0,Editable:!0,MinWidth:"100px",MaxWidth:"120px",LocalData:OrderbyDirection.ToEntity(),LocalHeader:[{EntityId:this._entityId,FieldName:"Name",Label:"Th t",Active:!0}],LocalRender:!0}],this._orderByGrid.Meta.LocalData=this.Entity.OrderBy,this._orderByGrid.ParentElement=e.Element,e.AddChild(this._orderByGrid)}ToggleIndent(e){var t=e.KeyCodeEnum();if(t==KeyCodeEnum.Tab){e.preventDefault();var s=e.ShiftKey(),n=this._filterGrid.GetSelectedRows(),r=n.reduce((l,u)=>(l[u.Id]=u,l),{});this._filterGrid.RowAction(l=>{var u=l.Entity;u.Level+=s?-1:1,Array.from(l.Element.querySelectorAll("td")).forEach(p=>{p.style.paddingLeft=u.Level+"rem"})},l=>r.hasOwnProperty(l.Entity.Id))}}DirtyCheckAndCancel(){super.Dispose()}async ApplyAdvSearch(){await this.ValidateAsync()&&(this.CalcAdvSearchQuery(),this.Parent.ReloadData(!1,0).Done())}CalcAdvSearchQuery(){this.Parent.Wheres=this.Entity.Conditions.map((e,t)=>({Condition:this.GetSearchValue(e)})).filter(e=>e.Condition)}GetSearchValue(e){var t=!1,s=e.Value;if(s==null&&e.CompareOperatorId!=AdvSearchOperation.EqualNull&&e.CompareOperatorId!=AdvSearchOperation.NotEqualNull)return null;e.Field.ComponentType.includes(ComponentType.Datepicker)&&s?s=s:e.Field.ComponentType==nameof(Number)?s=s+"":s=s.EncodeSpecialChar()+"";var n=OperationToSql[e.CompareOperatorId],r=t?Str.Empty:Str.Format(n,e.OriginFieldName,s);return r}FieldId_Changed(e,t){var p,g;if(!(e==null||t==null)){e.OriginFieldName=t.FieldName,e.Field=t;var s=this._filterGrid.FirstOrDefault(S=>S.Entity==e&&S.Name=="Value"),n=this._filterGrid.find(S=>S.Entity==e&&S.FieldName=="CompareOperatorId");if(s!=null){var r=s.ParentElement,l=s.Parent;s.Dispose();var u=null;t.ComponentType.includes(ComponentType.Datepicker)?(u=this.SetSearchDateTime(n,t),e.Value=new dayjs().format("YYYY/MM/DD")):t.ComponentType.includes(ComponentType.SearchEntry)||t.ComponentType.includes(ComponentType.MultipleSearchEntry)?(u=this.SetSearchId(n,t),e.Value=""):t.ComponentType.includes(ComponentType.Checkbox)?(u=this.SetSearchBool(n,t),e.Value=ActiveStateEnum.All,e.Display.ValueText="All"):t.ComponentType.includes(ComponentType.Numbox)?(u=this.SetSearchDecimal(n,t),e.Value="0"):u=AdvancedSearch.SetSearchString(n,t),u.UserInput+=S=>{u.Entity.Value=S.NewData},e.LogicOperatorId=e.LogicOperatorId||LogicOperation.And,(p=this._filterGrid.FirstOrDefault(S=>S.Meta!=null&&S.Entity==e&&S.Name=="LogicOperatorId"))==null||p.UpdateView(),e.CompareOperatorId=(g=n.Meta.LocalData.find(S=>S.Id==e.CompareOperatorId))==null?void 0:g.Id,n.Value=e.CompareOperatorId,n.Display.ValueText=Object.keys(AdvSearchOperation).find(S=>AdvSearchOperation[S]===e.CompareOperatorId),n.UpdateView(),u.Entity=e,u.Value=e.Value,u.Parent=l,l.Children.splice(2,0,u),u.ParentElement=r,u.Render()}}}static OperatorFactory(e){var t=AdvSearchOperation.ToEntity();switch(e){case ComponentType.Textbox:return t.filter(s=>s.Id>=AdvSearchOperation.Contains&&s.Id<AdvSearchOperation.In||s.Id==AdvSearchOperation.Equal||s.Id==AdvSearchOperation.NotEqual).sort((s,n)=>s.Id==AdvSearchOperation.Contains?-1:1);case ComponentType.Datepicker:return t.filter(s=>s.Id<AdvSearchOperation.Contains);case ComponentType.Number:return t.filter(s=>s.Id<AdvSearchOperation.Contains);case ComponentType.Checkbox:return t.filter(s=>s.Id==AdvSearchOperation.Equal);case ComponentType.SearchEntry:return t.filter(s=>s.Id==AdvSearchOperation.In||s.Id==AdvSearchOperation.NotIn)}return null}static SetSearchString(e,t){var s,n=new Component;return n.CopyPropFrom(t),n.ComponentType=ComponentType.Textbox,s=new Textbox(t),e.Meta.LocalData=AdvancedSearch.OperatorFactory(ComponentType.Textbox),s}SetSearchDecimal(e,t){var s,n=new Component;return n.CopyPropFrom(t),n.ComponentType=ComponentType.Numbox,s=new Numbox(t),e.Meta.LocalData=AdvancedSearch.OperatorFactory(ComponentType.Number),s}SetSearchBool(e,t){var s=new Component;s.CopyPropFrom(t);var n;return s.FormatData="{Description}",s.ComponentType=ComponentType.MultipleSearchEntry,s.LocalRender=!0,s.LocalData=ActiveStateEnum.ToEntity(),s.LocalHeader=AdvancedSearch.GetBooleanSearchHeader(),n=new MultipleSearchEntry(s),e.Meta.LocalData=AdvancedSearch.OperatorFactory(ComponentType.SearchEntry),n}static GetBooleanSearchHeader(){return[{FieldName:nameof(Models.Entity.Name),Label:"Trng thi",Active:!0},{FieldName:nameof(Models.Entity.Description),Label:"Miu t",Active:!0}]}SetSearchId(e,t){e.Meta.LocalData=AdvancedSearch.OperatorFactory(ComponentType.SearchEntry),e.FieldVal=AdvSearchOperation.In,e.Entity.Display=e.Entity.Display??{OperationText:AdvSearchOperation.GetFieldNameByVal(AdvSearchOperation.In)};var s=new Component;s.CopyPropFrom(t),s.ComponentType=ComponentType.MultipleSearchEntry;var n=new MultipleSearchEntry(s);return n}SetSearchDateTime(e,t){var s,n=new Component;return n.CopyPropFrom(t),n.ComponentType=nameof(Datepicker),n.Precision=7,s=new Datepicker(n),e.Meta.LocalData=AdvSearchOperation.ToEntity().filter(r=>r.Id<AdvSearchOperation.Contains),s}}class ListViewSearchVM{constructor(){this.Id=Uuid7.Id25(),this.SearchTerm="",this.FullTextSearch="",this.ScanTerm="",this.StartDate=null,this.DateTimeField="",this.EndDate=null}}class ListViewSearch extends EditableComponent{constructor(e){super(e,null);y(this,"Parent");y(this,"ParentGridView");y(this,"_uploader");y(this,"_fullTextSearch");y(this,"BasicSearch");y(this,"_hasRender",!1);this.PopulateDirty=!1,this.AlwaysValid=!0,this.Meta=e,this.DateTimeField=e.DateTimeField??"InsertedDate",this.Entity=new ListViewSearchVM}get EntityVM(){return this.Entity}get DateTimeField(){return this._dateTimeField}set DateTimeField(e){this._dateTimeField=e}ListView_DataLoaded(e){if(!this._hasRender&&(this._hasRender=!0,this.BasicSearch=this.Parent.Header.filter(r=>r.Active&&!r.Hidden).sort((r,l)=>l.Order-r.Order),this.BasicSearch.length!==0)){Html.Take(this.Element);var t=this.BasicSearch.map(r=>{var l=r,u=l.ComponentType;l.ShowLabel=!1,l.PlainText=r.Label,l.Visibility=!0,l.Column=1;var p=AdvancedSearch.OperatorFactory(u??ComponentType.Textbox)[0].Id;return this.Parent.AdvSearchVM.Conditions.push({FieldId:l.Id,CompareOperatorId:p,LogicOperatorId:LogicOperation.And,Field:r}),l}),s={Children:t,Responsive:!0,Column:t.length,ClassName:"wrapper"},n=Section$1.RenderSection(this,s);for(n.Children.forEach(r=>{r.UserInput.add(l=>{var p;var u=this.Parent.AdvSearchVM.Conditions.find(g=>g.FieldId===r.Meta.Id);u.Value=(p=r.FieldVal)==null?void 0:p.toString()})});n.Element.children.length>0;)this.Element.insertBefore(n.Element.firstChild,this.Element.firstChild)}}async Render(){if(this.Parent.DataLoaded.add(this.ListView_DataLoaded.bind(this)),!!this.Meta.CanSearch){if(Html.Take(this.Parent.Element.firstChild).TabIndex(-1).Event(EventType.KeyPress,this.EnterSearch.bind(this)),this.Element=Html.Context,this.RenderImportBtn(),this.Meta.ComponentType==="GridView"||this.Meta.ComponentType==="TreeView"||!this.Meta.IsRealtime){var e=new Textbox({FieldName:"SearchTerm",Visibility:!0,Label:"Tm kim",PlainText:"Tm kim",ShowLabel:!1});e.ParentElement=this.Element,e.UserInput=null,this.AddChild(e)}var t=new Datepicker({FieldName:"StartDate",Visibility:!0,Label:"From date",PlainText:"From date",ShowLabel:!1});t.ParentElement=this.Element,t.UserInput=null,this.AddChild(t);var s=new Datepicker({FieldName:"EndDate",Visibility:!0,Label:"To date",PlainText:"To date",ShowLabel:!1});if(s.ParentElement=this.Element,s.UserInput=null,this.AddChild(s),this.Parent.Meta.ShowDatetimeField){var n=new SearchEntry$1({FieldName:"DateTimeField",PlainText:"Loi ngy",FormatData:"{ShortDesc}",ShowLabel:!1,RefName:"Component"});n.ParentElement=this.Element,n.UserInput=null,this.AddChild(n)}Html.Take(this.Element).Div.ClassName("searching-block").Icon("btn fa fa-search").Event(EventType.Click,()=>{this.Parent.ClearSelected(),this.Parent.ReloadData().Done()}).End.Icon("btn fa fa-cog").Title("Advance").Event(EventType.Click,this.AdvancedOptions.bind(this)).End.Icon("btn fa fa-undo").Title("Refresh").Event(EventType.Click,this.RefreshListView.bind(this)).End.Render(),this.Meta.ShowHotKey&&this.ParentGridView!=null&&Html.Take(this.Element).Div.ClassName("hotkey-block").Button2("F1","btn btn-light btn-sm").Event(EventType.Click,()=>this.ParentGridView.ToggleAll()).Attr("title","Uncheck all").End.Button2("F2","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F2)}).Attr("title","Filter except").End.Button2("F3","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F3)}).Attr("title","Summary selected").End.Button2("F4","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F4)}).Attr("title","Lc tip theo cc php tnh (Cha: Bng; Ln hn; Nh hn; Ln hn hoc bng;...)").End.Button2("F6","btn btn-light btn-sm").Event(EventType.Click,r=>{this.ParentGridView.HotKeyF6Handler(r,KeyCodeEnum.F6)}).Attr("title","Quay li ln lc trc").End.Button2("F8","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F8)}).Attr("title","Xa/ V hiu ha dng hin thi hoc cc dng nh du").End.Button2("F9","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F9)}).Attr("title","Lc ti ch theo gi tr  hin thi").End.Button2("F10","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F10)}).Attr("title","Gp theo ct hin thi(thng k li s ni dung trong ct)").End.Button2("F11","btn btn-light btn-sm").Event(EventType.Click,r=>{var l=this.Parent.LastListViewItem.Children.find(u=>u.Meta.Id===this.ParentGridView.LastComponentFocus.Id);this.ParentGridView.ActionKeyHandler(r,this.ParentGridView.LastComponentFocus,this.ParentGridView.LastListViewItem,l,l.Element.Closest(ElementType.td.toString()),KeyCodeEnum.F11)}).Attr("title","Sp xp th t tng dn, gim dn. (Shift+F11  sort nhiu cp)").End.Render()}}RefreshListView(){if(this.EntityVM.SearchTerm="",this.EntityVM.StartDate=null,this.EntityVM.EndDate=null,this.UpdateView(),!this.Parent)return;const e=this.Parent;e.ClearSelected(),e.CellSelected.Clear(),e.AdvSearchVM.Conditions.Clear(),e.Wheres.Clear(),e.ApplyFilter()}FullScreen(){var e=this.Parent.Element;e.requestFullscreen&&e.requestFullscreen()}EnterSearch(e){e.KeyCode()===13&&this.Parent.ApplyFilter().Done()}UploadCsv(e){var t=e.target.files;if(!(!t||t.length===0)){var s=this._uploader.parentElement,n=new FormData(s),r=this.Parent.Meta;Client.Instance.SubmitAsync({FormData:n,Url:`/user/importCsv?table=${r.RefName}&comId=${r.Id}&connKey=${r.MetaConn}`,Method:HttpMethod.POST,ResponseMimeType:Utils$1.GetMimeType("csv")}).Done(()=>{Toast.Success("Import excel success"),this._uploader.value=""}).catch(l=>{Toast.Warning(l.Message),this._uploader.value=""})}}AdvancedOptions(e){var s=e.target.getBoundingClientRect();localStorage.getItem(`Show${this.Meta.Id}`);var n=ContextMenu.Instance;n.Top=s.bottom,n.Left=s.left,n.MenuItems=[{Icon:"fa fa-search-plus mr-1",Text:"Advanced search",Click:this.AdvancedSearch.bind(this)},{Icon:"fa fa-search mr-1",Text:"Show selected only",Click:this.FilterSelected.bind(this)},{Icon:"fa fa-download mr-1",Text:"Import csv",Click:()=>this._uploader.Click()},{Icon:"fa fa-download mr-1",Text:"Export all",Click:this.ExportAllData.bind(this)},{Icon:"fa fal fa-ballot-check mr-1",Text:"Export selected",Click:this.ExportSelectedData.bind(this)},{Icon:"fa fa-download mr-1",Text:"Customize export",Click:this.ExportCustomData.bind(this)}],n.Render()}RenderImportBtn(){Html.Take(this.Element).Form.Attr("method","POST").Attr("enctype","multipart/form-data").Display(!1).Input.Type("file").Id(`id_${Uuid7.Id25()}`).Attr("name","files").Attr("accept",".csv"),this._uploader=Html.Context,this._uploader.addEventListener(EventType.Change,e=>this.UploadCsv(e))}FilterSelected(e){var t=this.Parent.SelectedIds;if(!t||t.length===0){Toast.Warning("Select rows to filter");return}this.Parent.CellSelected.some(s=>s.FieldName===this.IdField)?(this.Parent.CellSelected.find(s=>s.FieldName===this.IdField).Value=t.join(),this.Parent.CellSelected.find(s=>s.FieldName===this.IdField).ValueText=t.join()):(this.Parent.CellSelected.push({FieldName:this.IdField,FieldText:"M",ComponentType:"Input",Value:t.join(),ValueText:t.join(),Operator:OperatorEnum.In,OperatorText:"Cha",Logic:LogicOperation.And}),this.ParentGridView._summarys.push(new HTMLElement)),this.Parent.ActionFilter()}ExportCustomData(e){var t;(t=this.TabEditor)==null||t.OpenPopup("Export CustomData",()=>this.Exporter()).Done()}async Exporter(){var t;const{ExportCustomData:e}=await __vitePreload(async()=>{const{ExportCustomData:s}=await import("./exportCustomData-_hdkA1a1.js");return{ExportCustomData:s}},__vite__mapDeps([4,1]));return this._export||(this._export=new e(this.Parent),this._export.ParentElement=(t=this.TabEditor)==null?void 0:t.Element,this._export.Disposed.add(()=>this._export=null)),this._export}async ExportAllData(e){(await this.Exporter()).Export()}async ExportSelectedData(e){if(!this.Parent.SelectedIds||this.Parent.SelectedIds.length===0){Toast.Warning("Select at least 1 one to export excel");return}(await this.Exporter()).Export(this.Parent.SelectedIds)}OpenExcelFileDialog(e){this._uploader.click()}CalcFilterQuery(){var u;this.EntityVM.DateTimeField&&(this.DateTimeField=this.Parent.Header.find(p=>p.Id===this.EntityVM.DateTimeField).FieldName);const e=this.Parent.Header,t=Utils$1.EncodeSpecialChar((u=this.EntityVM.SearchTerm)==null?void 0:u.trim())||"";let n=e.map(p=>ComponentExt.MapToFilterOperator(p,t)).filter(p=>p!=null&&p!="").join(" or ");const r=this.Parent.Header.filter(p=>p.AddDate).map(p=>p.Id),l=r.length&&r.some(p=>this.ParentGridView.AdvSearchVM.Conditions.some(g=>g.FieldId===p&&g.Value));if(!l&&this.EntityVM.StartDate){const p=`ds.[${this.DateTimeField}] >= '${this.EntityVM.StartDate.toISOString().slice(0,10)}'`,g=this.Parent.Wheres.find(S=>S.Condition.includes(`ds.[${this.DateTimeField}] >=`));g?g.Condition=p:this.Parent.Wheres.push({Condition:p,Group:!1}),localStorage.setItem("FromDate"+this.Parent.Meta.Id,this.EntityVM.StartDate.toISOString().slice(0,10))}else if(!this.EntityVM.StartDate){const p=this.Parent.Wheres.findIndex(g=>g.Condition.includes(`ds.[${this.DateTimeField}] >=`));p!==-1&&this.Parent.Wheres.splice(p,1),localStorage.removeItem("FromDate"+this.Parent.Meta.Id)}if(!l&&this.EntityVM.EndDate){n&&(n+=" and ");const p=new Date(this.EntityVM.EndDate.getTime()+864e5),g=`ds.[${this.DateTimeField}] < '${p.toISOString().slice(0,10)}'`,S=this.Parent.Wheres.find(I=>I.Condition.includes(`ds.[${this.DateTimeField}] <`));S?S.Condition=g:this.Parent.Wheres.push({Condition:g,Group:!1}),localStorage.setItem("ToDate"+this.Parent.Meta.Id,p.toISOString().slice(0,10))}else if(!this.EntityVM.EndDate){const p=this.Parent.Wheres.findIndex(g=>g.Condition.includes(`ds.[${this.DateTimeField}] <`));p!==-1&&this.Parent.Wheres.splice(p,1),localStorage.removeItem("ToDate"+this.Parent.Meta.Id)}return(this.EntityVM.EndDate||this.EntityVM.StartDate)&&this.Parent.Meta.ShowNull&&(n+=` or ds.${this.DateTimeField} is null`),n}get Disabled(){return!1}set Disabled(e){}AdvancedSearch(e){ComponentExt.OpenPopup(this.TabEditor,"AdvancedSearch",()=>{var t=new AdvancedSearch(this.ParentListView);return t.Parent=this.Parent,t.ParentElement=this.TabEditor.Element,t}).Done()}}var Kt;let ListViewItem$1=(Kt=class extends Section$1{constructor(e=ElementType.tr){super(e);y(this,"IsRow",!0);y(this,"masterDataComponent",["Dropdown","Select2","MultipleSearchEntry","SearchEntry"]);this.GroupSection=null,this.ListViewSection=null,this.ListView=null,this.PreQueryFn=null,this._selected=!1,this._focused=!1,this._emptyRow=!1,this.RowNo=0,this.FocusEvent=new Action,this.GroupRow=!1,this._focusAwaiter=0,this.PatchModel=[],this.ShowMessage=!0,this.IsListViewItem=!0}get Selected(){return this._selected}set Selected(e){this._selected=e,this.SetSelected(e);const t=this.EntityId;if(e)this.ListView.SelectedIds.includes(t)||this.ListView.SelectedIds.push(t);else{const s=this.ListView.SelectedIds.indexOf(t);s!==-1&&this.ListView.SelectedIds.splice(s,1)}}Focused(e=null,t=!0){var n;if(e===null)return this._focused;this._focused=e;const s=this.EntityId;return this._focused?(this.Element.classList.add(Kt.FocusedClass),this.ListView.FocusId=s):(this.Element.classList.remove(Kt.FocusedClass),this.ListView.FocusId=null),t&&((n=this.FocusEvent)==null||n.invoke(this._focused)),this._focused}SetSelected(e){e?this.Element.classList.add(Kt.SelectedClass):this.Element.classList.remove(Kt.SelectedClass)}get EmptyRow(){return this._emptyRow}set EmptyRow(e){this._emptyRow=e,this.FilterChildren().forEach(t=>t.EmptyRow=e),this.AlwaysValid=e,this.Element!=null&&(e?this.Element.classList.add(Kt.EmptyRowClass):this.Element.classList.remove(Kt.EmptyRowClass))}Render(){this.ListView=this.ListView??this.FindClosest(e=>e.IsListView),this.Meta=this.Meta??this.ListView.Meta,super.Render(),this._selected&&this.Element.classList.add(Kt.SelectedClass),Html.Instance.Take(this.Element).Event(EventType.Click,this.RowItemClick.bind(this)).Event(EventType.DblClick,this.RowDblClick.bind(this)).Event(EventType.FocusIn,()=>{this.Meta.CanAdd&&this.ListView.EmptySection.Children.ForEach(e=>{e.Focused&&(e.Focused=!1)}),this.ListView.AllListViewItem.ForEach(e=>{e.Focused&&(e.Focused=!1)}),this.Focused=!0}).Event(EventType.FocusOut,this.RowFocusOut.bind(this)).Event(EventType.MouseEnter,this.MouseEnter.bind(this)).Event(EventType.MouseLeave,this.MouseLeave.bind(this))}AfterSaveHandler(e){e||(this.EntityId=null)}BindingEvents(){this.Element&&Html.Take(this.Element).Event(EventType.Click,this.RowItemClick.bind(this)).Event(EventType.DblClick,this.RowDblClick.bind(this)).Event(EventType.FocusIn,()=>{var e;this.ListView.AllListViewItem.forEach(t=>{t._focused&&(t._focused=!1)}),this._focused=!0,(e=this.FocusEvent)==null||e.invoke(!0)}).Event(EventType.FocusOut,this.RowFocusOut.bind(this)).Event(EventType.MouseEnter,this.MouseEnter.bind(this)).Event(EventType.MouseLeave,this.MouseLeave.bind(this))}RenderRowData(e,t,s=null,n=!1){s!==null&&((s>=this.Element.parentElement.children.length||s<0)&&(s=0),this.Element.parentElement.insertBefore(this.Element,this.Element.parentElement.children[s]));const r=Utils$1.IsFunction(this.Meta.Renderer);r?r.call(this,this,e):e.filter(l=>!l.Hidden).forEach(l=>{this.RenderTableCell(t,l,this.Element)}),this.BindingEvents()}RenderTableCell(e,t,s=null){if(t.FieldName){this.masterDataComponent.includes(t.ComponentType)&&(t.LocalData=t.LocalData);var n=t.CanWrite&&t.Editable||!t.Editable&&t.ComponentType=="Button"?ComponentFactory.GetComponent(t,this.EditForm,null,t.CanWrite):new Label(t);n&&(n.Id=t.Id,n.Name=t.FieldName,n.Entity=e,n.ParentElement=s||Html.Context,this.AddChild(n),(this.Disabled||t.Disabled)&&n.SetDisabled(!0),n.Element&&t.ChildStyle&&(n.Element.style.cssText=t.ChildStyle),n.UserInput.add(r=>this.UserInputHandler(r,n)))}}UserInputHandler(e,t){if(!t.Disabled)if(t.ComponentType=="Input"||t.ComponentType=="Textarea"){if(e.EvType==EventType.Abort||e.EvType==EventType.Change||e.EvType==EventType.Blur){if(t.Disabled)return;this.ListView.RowChangeHandler(t.Entity,this,e,t).then(()=>{this.ListView.RealtimeUpdateAsync(this,e).then()})}}else this.ListView.RowChangeHandler(t.Entity,this,e,t).then(()=>{if(t.ComponentType!="Button"&&e.EvType==EventType.Change){if(t.Disabled)return;this.ListView.RealtimeUpdateAsync(this,e).then()}})}async PatchUpdateOrCreate(e=!0){return this.Dirty?new Promise(t=>{const s=this.GetPatchEntity();s.Changes.length!=1&&this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforePatchUpdate,this.Entity,s,this).then(()=>{this.ShowMessage=e,this.ValidateAsync().then(n=>{n&&Client.Instance.PatchAsync(s).then(r=>{this.PatchUpdateCb(r),t(r.updatedItem[0])})})})}):!1}PatchUpdateCb(e){var t;e&&e.status==200&&(Toast.Success("Save data success"),this.EntityId=e.updatedItem[0][this.IdField],this.Dirty=!1,this.EmptyRow=!1),this.Entity[this.IdField].startsWith("-")&&(this.Entity[this.IdField]=e.updatedItem[0][this.IdField]),this.UpdateView(!0),(t=this.AfterSaved)==null||t.invoke(e),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterPatchUpdate,this.Entity,this).then()}GetPatchEntity(){const e=this.EntityId===null;var t=[];return this.EntityId.startsWith("-")?(Object.getOwnPropertyNames(this.Entity).forEach(s=>{var n="";this.Entity[s]instanceof Boolean?this.Entity[s]?n="1":n="0":n=this.Entity[s];var r={Label:s,Field:s,OldVal:null,Value:n};t.push(r)}),t=t.filter(s=>s.Value)):(t=this.FilterChildren(s=>s instanceof EditableComponent&&!(s instanceof Button)&&(e||s.Dirty)&&s.Meta&&s.Meta.FieldName.trim().length>0).flatMap(s=>{var r,l;let n=[];if(typeof s.PatchDetail=="function")n=s.PatchDetail.call(s);else{let u=s.FieldVal;this.EditForm.Meta.IgnoreEncode||(u=u==null?null:u.trim().EncodeSpecialChar()),(u==null||u.toString().trim().length===0)&&(u=null),n=[{Label:s.ComLabel,Field:s.Name,OldVal:s.OldValue!==null&&s.ComponentType.includes(ComponentType.Datepicker)?(r=s.OldValue)==null?void 0:r.toString().DateConverter():(l=s.OldValue)==null?void 0:l.toString(),Value:u}]}return n}).filter((s,n,r)=>r.findIndex(l=>l.Field===s.Field)===n),this.AddIdToPatch(t)),t.length==1&&(t=[],Object.getOwnPropertyNames(this.Entity).forEach(s=>{var n="";this.Entity[s]instanceof Boolean?this.Entity[s]?n="1":n="0":n=this.Entity[s];var r={Label:s,Field:s,OldVal:null,Value:n};t.push(r)}),t=t.filter(s=>s.Value)),this.PatchModel.push(...t),{CacheName:this.CacheName,QueueName:this.QueueName,Changes:t,Table:this.ListView.Meta.RefName,MetaConn:this.ListView.MetaConn,DataConn:this.ListView.DataConn}}RowDblClick(e){var t;e.stopPropagation(),(t=this.ListView.DblClick)==null||t.invoke(this.Entity),this.DispatchEvent(this.Meta.Events,EventType.DblClick,this.Entity).then()}RowItemClick(e){var l;e.stopPropagation();const t=e.CtrlOrMetaKey(),s=e.ShiftKey(),n=e.target,r=this.FirstOrDefault(u=>u.Element===n||u.ParentElement.contains(n))!==null;this.HotKeySelectRow(t,s,r),e.ShiftKey()||(l=this.ListView.RowClick)==null||l.invoke(this.Entity),this.ListView.LastListViewItem=this,this.DispatchEvent(this.Meta.Events,EventType.Click,this.Entity).then()}HotKeySelectRow(e,t,s){if(!this.EmptyRow)if(this.ListView.VirtualScroll){if((e||t)&&(this.Selected=!this._selected,this._selected&&(this.ListView.SelectedIndex=this.Children.indexOf(this))),t){const r=this.ListView.AllListViewItem;this.ListView.LastShiftViewItem===null&&(this.ListView.LastShiftViewItem=this,this.ListView.LastIndex=this.RowNo);let l=this.ListView.LastIndex,u=this.RowNo;if(l>u){let p=l;l=u,u=p}if(this.ListView.VirtualScroll&&u>l){const p=this.ListView.GetSql(l-1,u-l+1,!0);Client.Instance.GetIds(p).then(g=>{this.Selected?g.filter(S=>!this.ListView.SelectedIds.includes(S)).forEach(S=>this.ListView.SelectedIds.push(S)):g.forEach(S=>{const I=this.ListView.SelectedIds.indexOf(S);I!==-1&&this.ListView.SelectedIds.splice(I,1)}),this.SetSeletedListViewItem(r,l,u),this.ListView.LastShiftViewItem=null})}else this.SetSeletedListViewItem(r,l,u)}}else{if(!e&&!t){this.ListView.SelectedIds.length<=1&&(this.ListView.ClearSelected(),this.Selected=!this._selected,this._selected&&(this.ListView.SelectedIndex=this.ListView.Children.indexOf(this)));return}if(this.Selected=!this._selected,!t&&!e&&this._selected&&(this.ListView.SelectedIndex=this.ListView.Children.indexOf(this)),t){const r=this.ListView.AllListViewItem,l=r.find(p=>p.Selected);let u=r.indexOf(l);var n=this.ListView.Children.indexOf(this);if(n>u){let p=n;n=u,u=p}for(let p=u;p<=n;p++){let g=this.ListView.Children[p];g instanceof Kt&&(g.Selected=!0)}}}}SetSeletedListViewItem(e,t,s){const n=e[0].RowNo>t?e[0].RowNo:t,r=this.ListView.AllListViewItem.filter(l=>l.RowNo>=n&&l.RowNo<=s);this.ListView.VirtualScroll||(this.ListView.SelectedIds=r.map(l=>l.EntityId)),r.forEach(l=>{const u=l.EntityId;this.ListView.SelectedIds.includes(u)?l.Selected=this.Selected:l.Selected=!1})}RowFocusOut(){return this.DispatchCustomEvent(this.Meta.Events,CustomEventType.RowFocusOut,this.Entity)}MouseEnter(){return this.Element.classList.add(Kt.HoveringClass),this.DispatchCustomEvent(this.ListView.Meta.Events,CustomEventType.RowMouseEnter,this.Entity)}MouseLeave(){return this.Element.classList.remove(Kt.HoveringClass),this.DispatchCustomEvent(this.ListView.Meta.Events,CustomEventType.RowMouseLeave,this.Entity)}get ShowMessage(){return this._showMessage}set ShowMessage(e){this._showMessage=e}ValidateAsync(){return new Promise((e,t)=>{this.FilterChildren(n=>n.Children.length===0,n=>n.AlwaysValid).ForEachAsync(n=>n.ValidateAsync()).then(n=>{const r=n.every(l=>l.IsValid);if(e(r),!r&&this.ShowMessage){const l=n.filter(u=>!u.IsValid).map(u=>Object.values(u.ValidationResult).Combine(null,Utils$1.BreakLine)).Combine(null,Utils$1.BreakLine);Toast.Warning(l)}}).catch(t)})}},y(Kt,"NotCellText",["Button","Image","Checkbox"]),y(Kt,"EmptyRowClass","empty-row"),y(Kt,"SelectedClass","__selected__"),y(Kt,"FocusedClass","focus"),y(Kt,"HoveringClass","hovering"),y(Kt,"GroupRowClass","group-row"),Kt);const mn=class mn extends EditableComponent{constructor(e,t=null){super(e,t);y(this,"IsListView",!0);y(this,"SelectedIds",[]);y(this,"MainSection");y(this,"OrderBy",[]);y(this,"CacheData",[]);y(this,"RefData",[]);y(this,"DataLoaded",new Action);y(this,"DblClick",new Action);y(this,"RowClick",new Action);y(this,"VirtualScroll",!1);y(this,"FocusId");y(this,"GridPolicies",[]);y(this,"GeneralPolicies",[]);y(this,"Wheres",[]);y(this,"ShouldSetEntity",!0);y(this,"FormattedRowData");y(this,"BodyContextMenuShow",new Action);y(this,"CellSelected",[]);y(this,"Dropdown","Dropdown");y(this,"NotCellText",["Button","Image","ImageUploader"]);y(this,"_copiedRows");y(this,"RecordPolicy",[]);this.DeleteTempIds=[],this.Meta=e,this.Id=e.Id,this.Name=e.FieldName,this.Header=[],this.RowData=new ObservableList,this.AdvSearchVM={ActiveState:ActiveStateEnum.Yes,OrderBy:localStorage.getItem("OrderBy"+this.Meta.Id)??[]},this._hasLoadRef=!1,t!==null&&this.Resolve(e,t),this._rowHeight=this.Meta.BodyItemHeight??26,this._theadTable=this.Meta.HeaderHeight??40,this._tfooterTable=this.Meta.FooterHeight??35,this._scrollTable=this.Meta.ScrollHeight??10,window.addEventListener(this.QueueName,this.RealtimeUpdateListViewItem.bind(this)),this._preQueryFn=Utils$1.IsFunction(this.Meta.PreQuery),this.LastShiftViewItem=void 0,this.LastIndex=void 0,this.EntityFocusId="",this.LastElementFocus=null,this.LastComponentFocus=null}get Editable(){return this.Meta.CanAdd}RealtimeUpdateListViewItem(e){let t=e.Message,s=this.MainSection.FilterChildren(r=>r.EntityId===t[this.IdField]).FirstOrDefault();if(s===null)return;this.CacheData.FirstOrDefault(r=>r[this.IdField]===t[this.IdField]).CopyPropFrom(t),s.Entity.CopyPropFrom(t);let n=s.FilterChildren(r=>!r.Dirty||r.GetValueText()!=null).Select(r=>r.Name).ToArray();s.UpdateView(!1,n),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterWebsocket,t,s).Done()}Resolve(e,t=null){let s=document.createElement("textarea");s.innerHTML=t.innerHTML,e.FormatEntity=s.value,t.innerHTML=null}Render(){var e;this.EditForm&&(this.GridPolicies=this.EditForm.GetElementPolicies(this.Meta.Id)??[],this.GeneralPolicies=this.EditForm.Policies),this.CanWrite=this.CanDo(t=>t.CanWrite||t.CanWriteAll),Html.Take(this.ParentElement).DataAttr("name",this.Name),this.AddSections(),this.SetRowDataIfExists(),(e=this.EditForm)==null||e.ResizeListView(),this.Meta.LocalRender?this.LocalRender():this.LoadAllData()}LocalRender(){this.Header=this.Header??this.Meta.LocalHeader,this.Meta.LocalRender?this.Rerender():this.RowData.Data=this.Meta.LocalData}Rerender(){this.DisposeNoRecord(),this.MainSection.DisposeChildren(),Html.Take(this.MainSection.Element).Clear(),this.RenderContent()}CanDo(e){var t,s;return((t=this.GeneralPolicies)==null?void 0:t.some(e))||((s=this.GridPolicies)==null?void 0:s.some(e))}async ReloadData(e=!1,t=null,s=null){var r,l,u,p;if(this.Meta.LocalQuery&&Array.isArray(this.Meta.LocalQuery)&&(this.Meta.LocalData=this.Meta.LocalQuery,this.Meta.LocalRender=!0),this.Meta.LocalQuery&&!Array.isArray(this.Meta.LocalQuery)&&(this.Meta.LocalData=this.Meta.LocalData??typeof this.Meta.LocalQuery===Str.Type?JSON.parse(this.Meta.LocalQuery.toString()):this.Meta.LocalQuery,this.Meta.LocalRender=!0),this.Meta.LocalRender&&this.Meta.LocalData!=null)return this.SetRowData(this.Meta.LocalData),this.Meta.LocalData;this.Paginator!=null&&(this.Paginator.Options.PageSize=this.Paginator.Options.PageSize===0?this.Meta.Row??12:this.Paginator.Options.PageSize),s=s??((l=(r=this.Paginator)==null?void 0:r.Options)==null?void 0:l.PageSize)??this.Meta.Row??20,t=t?((p=(u=this.Paginator)==null?void 0:u.Options)==null?void 0:p.PageIndex)*s:0;let n=this.GetSql(t,s,e);return await this.CustomQuery(n)}CalcFilterQuery(){return this.ListViewSearch.CalcFilterQuery()}GetSql(e=null,t=null,s=!1,n=!0){let r=Utils$1.IsFunction(this.Meta.PreQuery,!0,this),l=this.AdvSearchVM.OrderBy.Any()?this.AdvSearchVM.OrderBy.Combine(I=>{let F=I.OrderbyDirectionId===OrderbyDirection.ASC?"asc":"desc";return`ds.${I.FieldName} ${F}`}):null,u=this.CalcFilterQuery(),p=this.Wheres.Combine(I=>`(${I.Condition})`," and "),g=[u,p].filter(I=>I).Combine(null," and ");return{ComId:this.Meta.Id,Params:r,OrderBy:l||(this.Meta.OrderBy?this.Meta.OrderBy:"ds.Id asc"),Where:g,Count:n,Skip:e,Top:t,SkipXQuery:s,MetaConn:this.MetaConn,DataConn:this.DataConn}}SetRowData(e){var s;(s=this.RowData)==null||s.Clear(),e.length&&this.RowData._data.push(...e),this.RenderContent(),this.Entity!==null&&this.ShouldSetEntity&&(this.Entity[this.Name]=this.RowData.Data)}async CustomQuery(e){var t,s,n;try{const r=await Client.Instance.SubmitAsync({NoQueue:!0,Url:`/api/feature/com?t=${Client.Token.TenantCode||Client.Tenant}`,Method:"POST",JsonData:JSON.stringify(e,this.getCircularReplacer(),2),AllowAnonymous:!0,ErrorHandler:p=>{p.status===400&&(Client.Token=null,Toast.Warning("Phin truy cp  ht hn! Vui lng ch trong giy lt, h thng ang ti li trang"))}});let l=((t=r.count)==null?void 0:t.total)??0,u=r.value;return!u||!u.length?(this.SetRowData(null),null):(Spinner.Hide(),await this.LoadMasterData(u),this.SetRowData(u),this.UpdatePagination(l,u.length),(s=Utils$1.IsFunction(this.Meta.FormatEntity))==null||s.call(null,u,this),(n=this.DataLoaded)==null||n.invoke(ds),u)}catch(r){throw console.error("Error during custom query:",r),r}}getCircularReplacer(){const e=new WeakSet;return(t,s)=>{if(typeof s=="object"&&s!==null){if(e.has(s))return;e.add(s)}return s}}async LoadMasterData(e=null,t=!0){var s=this.Header.filter(u=>!Utils$1.isNullOrWhiteSpace(u.RefName));if(s.length==0)return;e=e||this.RowData.Data,this.SyncMasterData(e,s);let n=s.map(u=>this.FormatDataSourceByEntity(u,s,e)).filter(u=>u!==null);if(n.Nothing())return;let r=n.filter(u=>u.DataSourceOptimized).map(u=>({Header:u,Data:Client.Instance.GetByIdAsync(u.RefName,u.DataSourceOptimized)})),l=await Promise.all(r.map(u=>u.Data));r.forEach((u,p)=>{u.Data=l[p],this.setRemoteSource(u.Data.data,u.Header.RefName,u.Header)}),this.SyncMasterData(e,s)}setRemoteSource(e,t,s){let n=this.RefData[t];n?e.forEach(r=>{n.some(l=>l[this.IdField]===r[this.IdField])||n.push(r)}):this.RefData[t]=e,s&&(s.LocalData=e)}SyncMasterData(e=null,t=null){e=e||this.RowData.Data,t=t||this.Header,t.filter(s=>s.RefName).forEach(s=>{!s.FieldName||s.FieldName.length<=2||!(s.FieldName.substr(s.FieldName.length-2)===this.IdField)||e.forEach(r=>{var S;let l=s.FieldName.substr(0,s.FieldName.length-2),u=s.RefName;if(!u)return;let p=r[l],g=(S=this.RefData[u])==null?void 0:S.find(I=>I[this.IdField]===r[s.FieldName]);g?r[l]=g:p&&!g&&(this.RefData[u]=this.RefData[u]||[],this.RefData[u].push(p))})})}FormatDataSourceByEntity(e,t,s){let n=t.filter(r=>r.RefName===e.RefName).flatMap(r=>this.getEntityIds(r,s)).filter((r,l,u)=>u.indexOf(r)===l);return n.length===0?null:(e.DataSourceOptimized=n.sort(),e)}getEntityIds(e,t){if(!t||t.length===0)return[];let s=[];return t.forEach(n=>{let r=n[e.FieldName];if(r)r.includes(",")?s.push(...r.split(",").map(l=>l)):s.push(r);else return}),s}UpdatePagination(e,t){if(!this.Paginator)return;let s=this.Paginator.Options;s.Total=e,s.CurrentPageCount=t,s.PageNumber=s.PageIndex+1,s.StartIndex=s.PageIndex*s.PageSize+1,s.EndIndex=s.StartIndex+s.CurrentPageCount-1,this.Paginator.UpdateView()}AddSections(){if(this.Meta.LiteGrid){this.Element=this.ParentElement,this.Element.innerHTML=null,this.MainSection=new ListViewSection(null,this.ParentElement),this.AddChild(this.MainSection);return}Html.Take(this.ParentElement).Div.ClassName("grid-wrapper"),this.Element=Html.Context,this.Meta.CanSearch&&Html.Instance.Div.ClassName("grid-toolbar search").End.Render(),this.ListViewSearch=new ListViewSearch(this.Meta),this.AddChild(this.ListViewSearch),Html.Take(this.Element).Div.ClassName("list-content").End.Div.ClassName("empty"),this.EmptySection=new ListViewSection(null,Html.Context),this.EmptySection.ParentElement=this.Element,this.AddChild(this.EmptySection),this.MainSection=new ListViewSection(null,this.EmptySection.Element.previousElementSibling),this.AddChild(this.MainSection),Html.Instance.EndOf(".list-content"),this.RenderPaginator()}RenderContent(){var e;this.MainSection.DisposeChildren(),(e=this.EmptySection)==null||e.DisposeChildren(),this.FormattedRowData=this.FormattedRowData.Nothing()?this.RowData.Data:this.FormattedRowData,!this.FormattedRowData.Nothing()&&(this.FormattedRowData.SelectForEach((t,s)=>{this.RenderRowData(this.Header,t,this.MainSection)}),this.ContentRendered())}RenderRowData(e,t,s,n=null,r=!1){let l=this.Meta.LiteGrid?new ListViewItem$1:new ListViewItem$1("div");return l.EmptyRow=r,l.Entity=t,l.ParentElement=s.Element,l.ListView=this,l.ListViewSection=s instanceof ListViewSection?s:null,l.Meta=this.Meta,l.EditForm=this.EditForm,s.AddChild(l,n),l.RenderRowData(e,t,n,r),l}ClearRowData(){this.RowData.Clear(),this.RowAction(e=>e.Dispose(),e=>!e.EmptyRow),this.MainSection.Element.innerHTML=null,!(this.Entity==null||this.Parent.IsSearchEntry)&&this.ShouldSetEntity&&(this.Entity[this.Name]=this.RowData.Data)}get AllListViewItem(){return this.MainSection.Children}RowAction(e,t=null){this.AllListViewItem.filter(s=>!t||t(s)).forEach(e)}SetRowDataIfExists(){const e=Utils$1.GetPropValue(this.Entity,this.Name);this.Entity!=null&&Array.isArray(e)&&(this.RowData._data=e)}UpdateView(e=!1,t=null,s=[]){this.Editable?this.RowAction(n=>n.UpdateView(e,t,s),n=>!n.EmptyRow):e&&this.ListViewSearch.RefreshListView()}AddNewEmptyRow(){var n;if(this.Meta.LiteGrid||this.Disabled||!this.Editable||((n=this.EmptySection)==null?void 0:n.Children.HasElement())===!0)return;let e={},t=Utils$1.IsFunction(this.Meta.DefaultVal);if(!this.Meta.DefaultVal&&t){let r=t.call(this,this);Object.keys(r).forEach(l=>{e[l]=r[l]})}e[this.IdField]=null;let s=this.RenderRowData(this.Header,e,this.EmptySection,null,!0);Object.entries(e).forEach(([r,l])=>{s.PatchModel.push({Field:r,Value:l==null?void 0:l.toString()})}),this.Meta.TopEmpty?this.MainSection.Element.appendChild(this.EmptySection.Element.firstElementChild):this.MainSection.Element.insertBefore(this.MainSection.Element,this.EmptySection.Element),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterEmptyRowCreated,e).Done()}RenderPaginator(){if(this.Meta.LocalRender||this.Meta.LiteGrid){this.Paginator&&(this.Paginator.Show=!1);return}(!this.Meta.Row||this.Meta.Row===0)&&(this.Meta.Row=20),this.Paginator||(this.Paginator=new Paginator({Total:0,PageSize:this.Meta.Row??50,CurrentPageCount:this.RowData.Data.length}),this.AddChild(this.Paginator))}get UpdatedRows(){return this.AllListViewItem.OrderBy(e=>e.RowNo).Where(e=>e.Dirty).Select(e=>e.Entity).Distinct()}get UpdatedListItems(){return this.AllListViewItem.OrderBy(e=>e.RowNo).Where(e=>e.Dirty)}GetPatches(e=!1){if(!this.Dirty)return null;this.Meta.IdField!==null&&this.Meta.IdField!==this.IdField&&this.UpdatedRows.forEach(s=>{s[this.Meta.IdField]=this.EntityId});const t=[];return this.UpdatedListItems.forEach(s=>{t.push(s.GetPatchEntity())}),e&&this.UpdateView(),t}FilterColumns(e){if(e.length===0)return e;e.some(r=>r.ComponentId===this.Meta.Id)?e=e.filter(r=>r.ComponentId===this.Meta.Id):e=e.filter(r=>r.ComponentId===null);let s=this.EditForm.GetGridPolicies(e.map(r=>r.Id),Utils$1.ComponentId),n=e.filter(r=>!r.IsPrivate||s.filter(l=>l.RecordId===r.Id).every(l=>l.CanRead)).sort((r,l)=>r.Frozen!==l.Frozen?r.Frozen-l.Frozen:r.Order-l.Order);return this.OrderHeaderGroup(n),this.Header.length=0,this.Header.push(...n),this.Header=this.Header.filter(r=>r!==null),this.Header}ApplyFilter(){return this.ClearRowData(),this.ReloadData(!0,0)}GetSelectedRows(){var e;return((e=this.LastListViewItem)==null?void 0:e.GroupRow)===!0?[this.LastListViewItem.Entity]:this.MainSection.Children.filter(t=>t.IsListViewItem&&t.Selected).map(t=>t.Entity)}BodyContextMenuHandler(e){var s;if(e.preventDefault(),e.stopPropagation(),ContextMenu.Instance.MenuItems.Clear(),(s=this.BodyContextMenuShow)==null||s.invoke(),this.Disabled)return;this.SetSelected(e);let t=ContextMenu.Instance;this.RenderCopyPasteMenu(this.CanWrite),this.RenderEditMenu(this.CanWrite),t.Top=e.Top(),t.Left=e.Left(),t.Render(),document.body.appendChild(t.Element),t.Element.style.position="absolute"}async RenderRelatedDataMenu(){const e=await Client.Instance.GetByIdAsync("EntityRef",this.DataConn,[this.Meta.Id]);if(e.Nothing())return;const t=e.Select(s=>({Text:s.MenuText,Click:n=>this.OpenFeature(s)})).ToList();ContextMenu.Instance.MenuItems.push({Icon:"fal fal fa-ellipsis-h",Text:"D liu lin quan",MenuItems:t})}async OpenFeature(e){const t=await __vitePreload(()=>Promise.resolve().then(()=>tabEditor),void 0),s=await __vitePreload(()=>Promise.resolve().then(()=>searchEntry),void 0);let r=t.TabEditor.Tabs.find(p=>p.Name===e.ViewClass);if(r){r.Focus(),this.Filter(r,e),this.HasLoadRef=!0;return}this.HasLoadRef=!1;const l=await ComponentExt.LoadFeature(e.ViewClass),u=l.Name+l.Id;r=new t.TabEditor(l.EntityName),r.Name=l.Name,r.Id=u,r.Icon=l.Icon,r.Meta=r.Meta=l,r.Render(),r.DOMContentLoaded.add(()=>{r.FilterChildren(g=>g instanceof s.SearchEntry).find(g=>g.Meta.Id===e.TargetComId).DOMContentLoaded.add(()=>{this.HasLoadRef||(this.Filter(r,e),this.HasLoadRef=!0)})})}Filter(e,t){let s=e.FilterChildren(n=>n instanceof EditableComponent.GridViewMd.GridView).find(n=>n.Meta.Id===t.TargetComId);s&&(s.CellSelected=[],s.AdvSearchVM.Conditions=[],s.ListViewSearch.EntityVM.StartDate=null,s.ListViewSearch.EntityVM.EndDate=null,this.GetRealTimeSelectedRows().then(n=>{let r=s.Header.find(u=>u.FieldName===t.TargetFieldName);if(!r)return;let l=n.map(u=>({FieldName:t.TargetFieldName,FieldText:r.Label,ComponentType:r.ComponentType,Value:u[t.FieldName].toString(),ValueText:u[t.FieldName].toString(),Operator:OperatorEnum.In,OperatorText:"Contains",Logic:"Or",IsSearch:!0,Group:!0}));s.CellSelected.push(...l),s.ActionFilter()}))}SetSelected(e){let t=e.target.closest("tr"),s=this.MainSection.Children.find(n=>n.Element===t);s&&(!s.GroupRow||this.Meta.GroupReferenceId)&&(this.SelectedIds.length===1&&this.ClearSelected(),s.Selected=!0,this.LastListViewItem=s,this.SelectedIndex=s.RowNo)}LoadAllData(){this.LoadHeader().then(()=>{this.ReloadData(!0).then(()=>{this.RenderContent()})})}async LoadHeader(){var e=this.LoadGridPolicy();this.DispatchCustomEvent(this.Meta.Events,CustomEventType.UpdateHeader,e),e=this.FilterColumns(e),this.Header=e}LoadGridPolicy(){var e=[];return this.Meta.Columns.length>0?e=this.Meta.Columns:Utils$1.isNullOrWhiteSpace(this.Meta.Template)?e=this.EditForm.Meta.GridPolicies.filter(t=>t.EntityId==this.Meta.FieldName):e=JSON.parse(this.Meta.Template,null,2),e}OrderHeaderGroup(e){for(let n=0;n<e.length;n++){var t=this.EditForm.GetDefaultGridPolicies(),s=t.filter(r=>r.EntityId=="GridPolicyId"&&r.RecordId==e[n].Id);e[n].CanWrite=(e[n].Editable||this.NotCellText.includes(e[n].ComponentType))&&(this.EditForm.Meta.IsPublic||t.some(r=>r.CanWrite)&&s.some(r=>r.CanWrite)||t.some(r=>r.CanWrite)&&s.length==0)||e[n].ComponentType=="Button";for(let r=n+1;r<e.length;r++)if(e[n].GroupName&&e[n].GroupName===e[r].GroupName&&e[n+1].GroupName!==e[r].GroupName){let l=e[n+1];e[n+1]=e[r],e[r]=l}}}CopySelected(e){this._originRows=this.GetSelectedRows();const t=JSON.stringify(this._originRows);this._copiedRows=JSON.parse(t),window.navigator.clipboard.writeText(t),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCopied,this._originRows,this._copiedRows)}async PasteSelected(e){var t=await window.navigator.clipboard.readText();!t&&this._copiedRows.Nothing()&&(this._copiedRows=JSON.parse(t)),!this._copiedRows.Nothing()&&(Toast.Success("Copying..."),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforePasted,this._originRows,this._copiedRows).Done(()=>{var s=this.AllListViewItem.IndexOf(n=>n.Selected);this.AddRowsNo(this._copiedRows,s).Done(n=>{super.Focus(),this.Meta.IsRealtime?Promise.all(n.Select(r=>r.PatchUpdateOrCreate())).Done(()=>{Toast.Success("Data pasted successfully !"),super.Dirty=!1,this.ClearSelected()}):Toast.Success("Data pasted successfully !"),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterPasted,this._originRows,this._copiedRows).Done()})}))}RenderCopyPasteMenu(e){e&&(ContextMenu.Instance.MenuItems.push({Icon:"fal fa-copy",Text:"Copy",Click:()=>this.CopySelected()}),ContextMenu.Instance.MenuItems.push({Icon:"fal fa-clone",Text:"Copy & Paste",Click:()=>this.DuplicateSelected(null,!1)})),e&&this._copiedRows&&this._copiedRows.length>0&&ContextMenu.Instance.MenuItems.push({Icon:"fal fa-paste",Text:"Paste",Click:()=>this.PasteSelected()})}RenderEditMenu(e){e&&ContextMenu.Instance.MenuItems.push({Icon:"fal fa-history",Text:"View History",Click:async()=>await this.ViewHistory()}),this.CanDo(t=>t.CanDeactivate||t.CanDeactivateAll)&&ContextMenu.Instance.MenuItems.push({Icon:"fal fa-unlink",Text:"Deactivate",Click:()=>this.DeactivateSelected()}),this.CanDo(t=>t.CanDelete||t.CanDeleteAll)&&ContextMenu.Instance.MenuItems.push({Icon:"fal fa-trash",Text:"Delete Data",Click:()=>this.HardDeleteSelected()})}async ViewHistory(e){this.GetSelectedRows().LastOrDefault(),Html.Take(this.EditForm.Element).Div.ClassName("backdrop").Style("align-items: center;").Escape(u=>this.Dispose()),this._history=Html.Context,Html.Instance.Div.ClassName("popup-content confirm-dialog").Style("top: 0;").Div.ClassName("popup-title").InnerHTML("Xem lch s").Div.ClassName("icon-box").Span.ClassName("fal fa-times").Event(EventType.Click,()=>this._history.remove()).EndOf(".popup-title").Div.ClassName("popup-body scroll-content");const s=Html.Context,n=new Component;n.Id=Uuid7.Id25(),n.FieldName="Conditions",n.Column=4,n.RefName="History";const r=await __vitePreload(()=>Promise.resolve().then(()=>gridView),void 0),l=new r.GridView(n);l.Meta.LocalHeader=[{Id:"1",FieldName:"InsertedBy",Label:"User create",RefName:"User",FormatData:"FullName",Active:!0,ComponentType:"SearchEntry",MaxWidth:"100px",MinWidth:"100px"},{Id:"2",FieldName:"InsertedDate",Label:"Created date",Active:!0,FormatData:"{0:dd/MM/yyyy HH:mm}",ComponentType:"Datepicker",TextAlign:"left",MaxWidth:"150px",MinWidth:"150px"},{Id:"4",FieldName:"TextHistory",Label:"D liu thay i",Active:!0,ComponentType:"Label",MaxWidth:"700px",MinWidth:"700px"}],l.ParentElement=s,this.TabEditor.AddChild(l)}async RenderShareMenu(e){const t="PermissionLoaded";if(e.length===0)return;const s=e.filter(u=>!u[t]),n=s.map(u=>u[this.IdField].toString());(await this.LoadRecordPolicy(this.Meta.RefName,n)).forEach(u=>this.RecordPolicy.push(u)),s.forEach(u=>u[t]=!0),this.CanDo(u=>u.CanShare||u.CanShareAll)&&e.some(u=>u[mn.IsOwner])&&ContextMenu.Instance.MenuItems.push({Icon:"mif-security",Text:"Security & Permissions",Click:()=>this.SecurityRows()})}async SecurityRows(){const e=await __vitePreload(()=>import("./securityBL-BPHBgK_I.js"),[]),t=this.GetSelectedRows().filter(n=>n[mn.IsOwner]===!0).map(n=>{var r;return(r=n[this.IdField])==null?void 0:r.toString()}),s=new e.SecurityBL;s.Entity={RecordIds:t,EntityId:this.Meta.ReferenceId},s.ParentElement=this.TabEditor.Element,this.TabEditor.AddChild(s)}async LoadRecordPolicy(e,t){if(t.length===0||t.every(n=>n===null))return[];const s={ComId:"Policy",Action:"GetById",Table:"FeaturePolicy",MetaConn:this.MetaConn,DataConn:this.DataConn,Params:JSON.stringify({ids:t,table:e})};return await Client.Instance.UserSvc(s)}async DeactivateSelected(){const e=new ConfirmDialog;e.Content="Are you sure you want to deactivate?",e.Render(),e.YesConfirmed+=async()=>{e.Dispose(),await this.Deactivate(),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.Deactivated,this.Entity)}}async Deactivate(){const e=this.GetSelectedRows().map(s=>s[this.IdField].toString()),t=await Client.Instance.DeactivateAsync(e,this.Meta.RefName,this.DataConn);return t.length>0?Toast.Success("Data deactivated successfully"):Toast.Warning("An error occurred during deactivation"),t}async HardDeleteSelected(){var e=[];if(e=this.GetSelectedRows(),e.length==0)return;const t=new ConfirmDialog;t.Title="Are you sure you want to delete the selected rows?",t.Render(),t.YesConfirmed.add(()=>{this.HardDeleteConfirmed(e).then(s=>{this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterDeleted,s)})})}async HardDeleteConfirmed(e){const t=e.map(n=>n[this.IdField]).filter(n=>n!=null);return(await Client.Instance.HardDeleteAsync(t,this.Meta.RefName,this.DataConn)).status==200?(this.AllListViewItem.filter(n=>n.Selected).forEach(n=>n.Dispose()),this.Meta.IsRealtime&&(this.Dirty=!1),Toast.Success("Data deleted successfully")):Toast.Warning("No rows were deleted"),e}async DuplicateSelected(e,t=!1){const s=this.GetSelectedRows(),n=s.map(r=>({...r}));Toast.Success("Duplicating data!"),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforePasted,s,n).then(()=>{let r=t?0:this.MainSection.Children.length;this.AddRowsNo(n,r).then(l=>{this.RenderIndex(),this.ClearSelected(),Toast.Success("Data duplicated successfully!")})})}AddRowsNo(e,t=0){let s,n,r=new Promise((l,u)=>{s=l,n=u});return this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreatedList,e).then(()=>{const l=e.map((u,p)=>this.AddRow(u,t+p,!1));Promise.all(l).then(u=>{this.AddNewEmptyRow(),s(u),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreatedList,e).then()}).catch(n)}),r}RenderIndex(){this.MainSection.Children.length!==0&&this.AllListViewItem.forEach((e,t)=>{if(e.Children.length===0||e.FirstChild===null||e.FirstChild.Element===null)return;const s=e.FirstChild.Element.closest("td").previousElementSibling;if(s===null)return;const n=this.Paginator.Options.StartIndex+t;s.innerHTML=n.toString(),e.Selected=this.SelectedIds.includes(e.Entity[this.IdField]),e.RowNo=n})}RowChangeHandler(e,t,s,n=null){return new Promise((l,u)=>{!t.EmptyRow||!this.Editable?this.DispatchEvent(this.Meta.Events,EventType.Change,e).then(()=>{l(!1)}):this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreated,e).then(()=>{this.RowData.Data.push(e),this.Entity[this.Name]=this.RowData.Data,t.FilterChildren(p=>!0).forEach(p=>{p.EmptyRow=!1,p.UpdateView(!0)}),this.EmptySection.Children.Clear(),this.AddNewEmptyRow(),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreated,e).then(()=>{l(!0)})})})}RemoveRowById(e){const t=this.RowData.Data.find(s=>s[this.IdField]===e);if(t){this.RowData.Data.splice(this.RowData.Data.indexOf(t),1);const s=this.MainSection.Children.find(n=>n.EntityId===e);s&&s.Dispose()}}async AddRow(e,t=0,s=!0){s&&this.RowData.Data.splice(t,0,e),await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreated,e);const n=this.RenderRowData(this.Header,e,this.MainSection,t);return await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreated,e),n}async AddRows(e,t=0){await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreatedList,e);const s=[];for(let n=0;n<e.length;n++){const r=await this.AddRow(e[n],t+n,!1);s.push(r)}return await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreatedList,e),this.AddNewEmptyRow(),s}ClearSelected(){this.SelectedIds.forEach(e=>{const t=this.AllListViewItem.find(s=>s.Entity[this.IdField]===e);t&&(t.Selected=!1)}),this.SelectedIds=[],this.LastListViewItem=null}UpdateRow(e,t=!1,s=[]){const n=this.AllListViewItem.find(r=>r.Entity===e);n&&n.UpdateView(t,s)}DomLoaded(){var e;this.Meta.LocalRender||this.Header.ForEach(t=>t.LocalData=null),(e=this.DOMContentLoaded)==null||e.invoke()}ContentRendered(){this.RenderIndex(),this.DomLoaded(),this.Editable&&this.AddNewEmptyRow(),this.RowData.Data.length===0&&!this.Editable?this.NoRecordFound():this.DisposeNoRecord(),this.Editable&&this.MainSection.Element.addEventListener("contextmenu",this.BodyContextMenuHandler.bind(this))}NoRecordFound(){this.MainSection.Children.length>0&&this.MainSection.Children.forEach(e=>e.Dispose()),this.DisposeNoRecord(),this._noRecord=new Section$1(ElementType.div),this._noRecord.ParentElement=this.Element,this.AddChild(this._noRecord),this._noRecord.Element.AddClass("no-records"),Html.Take(this._noRecord.Element).InnerHTML("No record found"),this.DomLoaded()}DisposeNoRecord(){this._noRecord&&(this._noRecord.Dispose(),this._noRecord=null)}GetItemFocus(){return this.AllListViewItem.Where(e=>e.Focused()).FirstOrDefault()}GetRealTimeSelectedRows(){return new Promise((e,t)=>{Client.Instance.GetByIdAsync(this.Meta.RefName,this.DataConn||Client.DataConn,this.SelectedIds.ToArray()).then(s=>{e(s?s.slice():[])}).catch(s=>{t(s)})})}GetRowCountByHeight(e){return e/this._rowHeight>=0?Math.floor(e/this._rowHeight):Math.ceil(e/this._rowHeight)}RemoveRow(e){var t;e!==null&&(this.RowData.Data.Remove(e),(t=this.MainSection.FirstOrDefault(s=>s.Entity==e))==null||t.Dispose())}CalcTextAlign(e){return e.TextAlign&&e.TextAlign.length>0&&Object.values(e.TextAlign).includes(e.textAlign)&&(e.textAlignEnum=e.textAlign),e}MergeComponent(e,t){if(!t)return e;const s=JSON.parse(t.value);if(!s||s.length===0)return e;const n=s.reduce((r,l)=>(r[l.id]=l,r),{});return e.forEach(r=>{const l=n[r.id];l&&(r.width=l.width,r.maxWidth=l.maxWidth,r.minWidth=l.minWidth,r.order=l.order,r.frozen=l.frozen)}),e}ActionFilter(){this.ClearRowData(),this.ReloadData().Done()}MoveUp(){this.ClearSelected(),(this.SelectedIndex<=0||this.SelectedIndex===this.AllListViewItem.length)&&(this.SelectedIndex=this.AllListViewItem.length-1),this.RowAction(e=>{e instanceof ListViewItem$1&&(e.Selected=!0)},!0)}MoveDown(){this.ClearSelected(),(this.SelectedIndex===-1||this.SelectedIndex===this.AllListViewItem.length)&&(this.SelectedIndex=0),this.RowAction(e=>{e instanceof ListViewItem$1&&(e.Selected=!0)},!1)}GetUserSetting(e){return Client.Instance.UserSvc({MetaConn:this.MetaConn,DataConn:this.DataConn,ComId:"UserSetting",Action:"GetByComId",Params:JSON.stringify({ComId:this.Meta.Id,Prefix:e})})}async RealtimeUpdateAsync(e,t){if(this.EmptyRow){this.EmptyRow=!1;return}if(!(!this.Meta.IsRealtime||!t)){var s=await e.ValidateAsync();s&&await e.PatchUpdateOrCreate()}}};y(mn,"IsOwner","__IsOwner");let ListView=mn;class GridViewItem extends ListViewItem$1{constructor(i){super(i)}RenderRowData(i,e,t=null,s=!1){t!==null&&((t>=this.Element.parentElement.children.length||t<0)&&(t=0),this.Element.parentElement.insertBefore(this.Element,this.Element.parentElement.children[t])),i.filter(n=>!n.Hidden).forEach(n=>{this.RenderTableCell(e,n,null)}),this.BindingEvents()}RenderTableCell(i,e,t=null){Html.Take(this.Element).TData.TabIndex(-1).TextAlign(e.TextAlign).Event("focusin",n=>this.FocusCell(n,e));var s=Html.Instance.GetContext();Html.Instance.Event("keydown",n=>this.ListViewItemTab(n,s,e)),super.RenderTableCell(i,e,t??Html.Context),Html.Instance.EndOf(ElementType.td)}FocusCell(i,e){var s;if(this.ListViewSection==null)return;this.ListViewSection.ListView.LastElementFocus&&((s=this.ListViewSection.ListView.LastElementFocus)==null||s.closest("td").classList.remove("cell-selected"));let t=i.target;t.closest("td").classList.add("cell-selected"),this.ListViewSection.ListView.LastElementFocus=t,this.ListViewSection.ListView.LastComponentFocus=e,this.ListViewSection.ListView.EntityFocusId=this.EntityId}}var Hn;let GridView$1=(Hn=class extends ListView{constructor(e,t){super(e,t);y(this,"mouseMoveHandler");y(this,"mouseUpHandler");y(this,"x",0);y(this,"w",0);this.SummaryClass="summary",this.CellCountNoSticky=50,this._summarys=[],this.LastThClick=null,this.LastNumClick=null,this.AutoFocus=!1,this.LoadRerender=!1,this._waitingLoad=!1,this._renderPrepareCacheAwaiter=0,this.DataTable=null,this.LastElementFocus=null,this.lastListViewItem=null,this._hasFirstLoad=!1,this._renderIndexAwaiter=0,this._lastScrollTop=0,this.ToolbarColumn={StatusBar:!0,Label:"",Frozen:!0},this.DOMContentLoaded.add(this.DOMContentLoadedHandler.bind(this))}DOMContentLoadedHandler(){this.Meta.IsSumary&&this.AddSummaries(),this.PopulateFields()}PopulateFields(){if(this.Meta.PopulateField){let e=this.Meta.PopulateField.split(",");e.length>0&&this.EditForm.UpdateView(!0,e)}}Rerender(){this.LoadRerender=!0,this.Header=this.Header.filter(e=>!e.Hidden),this.RenderTableHeader(this.Header),this.Editable&&this.AddNewEmptyRow(),this.RenderContent(),this.StickyColumn(this),!this.Editable&&this.RowData.Data.Nothing()?this.NoRecordFound():this.DisposeNoRecord(),this.Editable&&(this.MainSection.Element.addEventListener("contextmenu",this.BodyContextMenuHandler.bind(this)),this.EmptySection.Element.addEventListener("contextmenu",this.BodyContextMenuHandler.bind(this)))}StickyColumn(e,t=null){let s=["th","td"];e.FilterChildren(r=>r.Meta!=null&&r.Meta.Frozen,r=>!(r instanceof ListViewSearch)).forEach(r=>{let l=r.Element;s.includes(r.Element.tagName.toLowerCase())||(l=r.Element.closest("td")),t?Html.Take(l).Sticky({top:t}):Html.Take(l).Sticky({left:"0"})})}AddSections(){if(this.HeaderSection&&this.HeaderSection.Element!=null)return;if(Html.Take(this.ParentElement),Html.Instance.Div.Event("keydown",s=>this.HotKeyF6Handler(s,s.KeyCodeEnum())).Style(this.Meta.ChildStyle).ClassName("grid-wrapper").ClassName(this.Meta.ClassName).ClassName(this.Editable?"editable":""),this.Element=Html.Context,this.Meta.CanSearch&&Html.Instance.Div.ClassName("grid-toolbar search").End.Render(),this.ListViewSearch=new ListViewSearch(this.Meta),this.ListViewSearch.Entity=new ListViewSearchVM,this.Meta.DefaultAddStart){let s=this.Meta.DefaultAddStart;this.ListViewSearch.EntityVM.StartDate=new Date(Date.now()+s*24*3600*1e3)}let e=window.localStorage.getItem("FromDate"+this.Meta.Id);if(e!=null&&(this.ListViewSearch.EntityVM.StartDate=new Date(e)),this.Meta.DefaultAddEnd){let s=this.Meta.DefaultAddEnd;this.ListViewSearch.EntityVM.EndDate=new Date(Date.now()+s*24*3600*1e3)}let t=window.localStorage.getItem("ToDate"+this.Meta.Id);t!=null&&(this.ListViewSearch.EntityVM.EndDate=new Date(t)),this.AddChild(this.ListViewSearch),this.DataTable=Html.Take(this.Element).Div.ClassName("table-wrapper").Table.ClassName("table").GetContext(),Html.Instance.Thead.TabIndex(-1).End.TBody.ClassName("empty").End.TBody.End.TFooter.Render(),this.FooterSection=new ListViewSection(null,Html.Context),this.FooterSection.ParentElement=this.DataTable,this.AddChild(this.FooterSection),this.MainSection=new ListViewSection(null,this.FooterSection.Element.previousElementSibling),this.MainSection.ParentElement=this.DataTable,this.AddChild(this.MainSection),this.EmptySection=new ListViewSection(null,this.MainSection.Element.previousElementSibling),this.EmptySection.ParentElement=this.DataTable,this.AddChild(this.EmptySection),this.HeaderSection=new ListViewSection(null,this.EmptySection.Element.previousElementSibling),this.HeaderSection.ParentElement=this.DataTable,this.AddChild(this.HeaderSection),Html.Instance.EndOf(".table-wrapper"),Html.Take(this.Element),this.RenderPaginator()}SwapList(e,t){let s=this.Header[e];this.Header.splice(e,1),this.Header.splice(t,0,s)}SwapHeader(e,t){const s=this.Header[e];this.Header.splice(e,1),this.Header.splice(t,0,s)}ClickHeader(e,t){let s=this.LastNumClick;const n=this.DataTable;this.LastNumClick!=null&&n.querySelectorAll("tr:not(.summary)").forEach(function(u){if(u.hasAttribute("virtualrow")||u.classList.contains("group-row"))return;const p=Array.from(u.querySelectorAll("th, td"));p[s]&&(p[s].style.removeProperty("background-color"),p[s].style.removeProperty("color"))});const r=e.target.closest("th");s=Array.from(r.parentElement.querySelectorAll("th")).findIndex(u=>u===r),!(s<0)&&(this.LastThClick=r,this.LastNumClick=s,n.querySelectorAll("tr:not(.summary)").forEach(function(u){if(u.hasAttribute("virtualrow")||u.classList.contains("group-row"))return;const p=Array.from(u.querySelectorAll("th, td"));p[s]&&(p[s].style.backgroundColor="#cbdcc2",p[s].style.color="#000")}))}FocusOutHeader(e,t){let s=this.LastNumClick;const n=this.DataTable;this.LastNumClick!==null&&n.querySelectorAll("tr:not(.summary)").forEach(function(r){if(r.hasAttribute("virtualrow")||r.classList.contains("group-row"))return;const l=Array.from(r.querySelectorAll("th, td"));l[s].style.removeProperty("background-color"),l[s].style.removeProperty("color")})}ThHotKeyHandler(e,t){if(this.Meta.Focus)return;const s=e.keyCode;if(s===39){e.stopPropagation();const n=e.target.closest("th"),l=Array.from(n.parentElement.querySelectorAll("th")).findIndex(u=>u===n);n.parentElement.parentElement.parentElement.querySelectorAll("tr").forEach(function(u){if(u.hasAttribute("virtualrow")||u.classList.contains("group-row"))return;const p=Array.from(u.querySelectorAll("th, td"));if(!p[0].classList.contains("summary-header")){var g=l,S=l+1;g>S?p[S].parentNode.insertBefore(p[g],p[S]):p[S].parentNode.insertBefore(p[g],p[S].nextSibling),p[g].style.backgroundColor="#cbdcc2"}}),this.SwapList(l-1,l),this.SwapHeader(l,l+1),this.UpdateHeaders(this.GetHeaderSettings(),["Order","FieldName"]),n.focus()}else if(s===37){e.stopPropagation();const n=e.target.closest("th"),l=Array.from(n.parentElement.querySelectorAll("th")).findIndex(u=>u===n);n.parentElement.parentElement.parentElement.querySelectorAll("tr").forEach(function(u){if(u.hasAttribute("virtualrow")||u.classList.contains("group-row"))return;const p=Array.from(u.querySelectorAll("th, td"));if(!p[0].classList.contains("summary-header")){var g=l,S=l-1;g>S?p[S].parentNode.insertBefore(p[g],p[S]):p[S].parentNode.insertBefore(p[g],p[S].nextSibling),p[g].style.backgroundColor="#cbdcc2"}}),this.SwapList(l-1,l-2),this.SwapHeader(l,l-1),this.UpdateHeaders(),n.focus()}}FilterInSelected(e){let t=e;if(this._waitingLoad&&window.clearTimeout(this._renderPrepareCacheAwaiter),t.Operator===null)return;let s=this.Header.find(u=>u.Name===t.FieldName),n="",r=window.localStorage.getItem("LastSearch"+this.Meta.Id+s.Id);r!==null&&(n=r.toString());let l=new ConfirmDialog({Content:`Nhp ${s.Label} cn tm `+t.OperatorText,NeedAnswer:!0,MultipleLine:!1,ComType:s.ComponentType==="Datepicker"||s.ComponentType==="Number"?s.ComponentType:"Textbox",Precision:s.Precision,PElement:this.MainSection.Element});if(l.YesConfirmed=()=>{let u=null,p=null;if(s.ComponentType==="Datepicker"?p=u=l.Datepicker.Value.toString():s.ComponentType==="Number"?(p=l.Number.GetValueText(),u=l.Number.Value.toString()):(p=l.Textbox.Text.trim().EncodeSpecialChar(),u=l.Textbox.Text.trim().EncodeSpecialChar()),window.localStorage.setItem("LastSearch"+this.Meta.Id+s.Id,u),this.CellSelected.some(g=>g.FieldName===t.FieldName&&g.Operator===OperatorEnum.In)&&!t.Shift){let g=this.CellSelected.find(S=>S.FieldName===t.FieldName&&S.Operator===OperatorEnum.In);g.Value=u,g.ValueText=p}else this.CellSelected.push({FieldName:t.FieldName,FieldText:s.Label,ComponentType:s.ComponentType,Shift:t.Shift,Value:u,ValueText:p,Operator:t.Operator,OperatorText:t.OperatorText,Logic:void 0,IsSearch:!1,Group:!1});this._summarys.push(new HTMLElement),l.Textbox.Text=null,this.ActionFilter()},l.Entity={ReasonOfChange:""},l.PElement=this.Element,l.Render(),n)if(s.ComponentType==="Datepicker"){l.Datepicker.Value=new Date(n);let u=l.Datepicker.Element;u.selectionStart=0,u.selectionEnd=n.length}else if(s.ComponentType==="Number"){l.Number.Value=parseFloat(n);let u=l.Number.Element;u.selectionStart=0,u.selectionEnd=n.length}else{l.Textbox.Text=n;let u=l.Textbox.Element;u.selectionStart=0,u.selectionEnd=n.length}}ActionFilter(){if(this.CellSelected.Nothing()){this.NoCellSelected();return}Spinner.AppendTo(this.DataTable);const e=this.CellSelected.filter(t=>(t.Value||t.ValueText)&&t.ComponentType==="SearchEntry"||t.FieldName.includes("."));this.CellSelected.filter(t=>t.FieldName.includes(".")),this.FilterDropdownIds(e).done(t=>{let s=0;const n=[];if(this.CellSelected.forEach(r=>{s=this.BuildCondition(r,t,s,n)}),Spinner.Hide(),this.Meta.ComponentType==="VirtualGrid"&&this.Meta.CanSearch&&this.HeaderSection.Element.focus(),this.Meta.ComponentType==="SearchEntry"&&this.Parent instanceof SearchEntry$1){const r=this.Parent;r._input&&r._input.focus()}Toast.Success(n.join("</br>")),this.ApplyFilter()})}async FilterDropdownIds(e){let t=e.map(s=>{let n=this.Header.find(r=>r.FieldName===s.FieldName);if(s.isSearch)return Promise.resolve([s.value]);{let r="Like";switch(s.operator){case OperatorEnum.Lr:r="StartWith";break;case OperatorEnum.Rl:r="EndWidth";break;case OperatorEnum.NotIn:r="NotLike";break}let l=`${r} ds.[${n.FormatData}] ${s.value}`;return Client.Instance.GetIds({ComId:n.Id,Where:l,MetaConn:this.MetaConn,DataConn:this.DataConn})}});return Promise.all(t)}BuildCondition(e,t,s,n){let r="",l=this.Header.find(I=>I.FieldName===e.FieldName),u=null,p=!e.Value.trim(),g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotIn:AdvSearchOperation.In;if(l.FieldName===this.IdField)r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} not in (${e.Value})`:`[ds].${e.FieldName} in (${e.Value})`,n.push(e.FieldText+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText);else if(l.ComponentType==="SearchEntry"&&l.FormatData.trim()){if(p)g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull,r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} is not null`:`[ds].${e.FieldName} is null`;else{let I=t[s];I.length?(u=I.join(","),r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} not in (${u})`:`[ds].${e.FieldName} in (${u})`):r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} != ${e.Value}`:`[ds].${e.FieldName} = ${e.Value}`,s++}n.push(l.Label+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText)}else if(["Input","Textbox","Textarea"].includes(l.ComponentType))p?(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull,r=e.Operator===OperatorEnum.NotIn?`([ds].${e.FieldName} is not null and [ds].${e.FieldName} != '')`:`([ds].${e.FieldName} is null or [ds].${e.FieldName} = '')`):(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotLike:AdvSearchOperation.Like,r=e.Operator===OperatorEnum.NotIn?`(CHARINDEX(N'${e.Value}', [ds].${e.FieldName}) = 0 or [ds].${e.FieldName} is null)`:`CHARINDEX(N'${e.Value}', [ds].${e.FieldName}) > 0`,e.Operator===OperatorEnum.Lr&&(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotStartWith:AdvSearchOperation.StartWith,r=e.Operator===OperatorEnum.NotIn?` [ds].${e.FieldName} not like N'${e.Value}%' or [ds].${e.FieldName} is null)`:` [ds].${e.FieldName} like N'${e.Value}%'`),e.Operator===OperatorEnum.Rl&&(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEndWidth:AdvSearchOperation.EndWidth,r=e.Operator===OperatorEnum.NotIn?` [ds].${e.FieldName} not like N'%${e.Value}' or [ds].${e.FieldName} is null)`:` [ds].${e.FieldName} like N'%${e.Value}'`)),n.push(l.Label+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText);else if(l.ComponentType==="Number"||l.ComponentType==="Label"&&l.FieldName.includes("Id"))e.Operator===OperatorEnum.NotIn||e.Operator===OperatorEnum.In?p?(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull,r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} is not null`:`[ds].${e.FieldName} is null`):(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqual:AdvSearchOperation.Equal,r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} != ${e.Value.replace(",","")}`:`[ds].${e.FieldName} = ${e.Value.replace(",","")}`):e.Operator===OperatorEnum.Gt||e.Operator===OperatorEnum.Lt?(r=e.Operator===OperatorEnum.Gt?`[ds].${e.FieldName} > ${e.Value}`:`[ds].${e.FieldName} < ${e.Value}`,g=e.Operator===OperatorEnum.Gt?AdvSearchOperation.GreaterThan:AdvSearchOperation.LessThan):(e.Operator===OperatorEnum.Ge||e.Operator===OperatorEnum.Le)&&(r=e.Operator===OperatorEnum.Ge?`[ds].${e.FieldName} >= ${e.Value}`:`[ds].${e.FieldName} <= ${e.Value}`,g=e.Operator===OperatorEnum.Ge?AdvSearchOperation.GreaterThanOrEqual:AdvSearchOperation.LessThanOrEqual),n.push(l.Label+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText);else if(l.ComponentType==="Checkbox")p?(g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull,r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} is not null`:`[ds].${e.FieldName} is null`):r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} != ${e.Value==="true"?"1":"0"}`:`[ds].${e.FieldName} = ${e.Value==="true"?"1":"0"}`,n.push(l.Label+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText);else if(l.ComponentType==="Datepicker"){if(e.Value=decodeURIComponent(e.Value),e.ValueText=decodeURIComponent(e.Value),e.Operator===OperatorEnum.NotIn||e.Operator===OperatorEnum.In)if(p)r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} is not null`:`[ds].${e.FieldName} is null`,g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull;else try{let I=new Date(e.Value);r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} != '${I.toISOString().split("T")[0]}'`:`[ds].${e.FieldName} = '${I.toISOString().split("T")[0]}'`,g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualDatime:AdvSearchOperation.EqualDatime}catch{let I=new Date(e.Value);r=e.Operator===OperatorEnum.NotIn?`[ds].${e.FieldName} != '${I.toISOString().split("T")[0]}'`:`[ds].${e.FieldName} = '${I.toISOString().split("T")[0]}'`,g=e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualDatime:AdvSearchOperation.EqualDatime}else if(!p){let I=new Date(e.Value);e.Operator===OperatorEnum.Gt||e.Operator===OperatorEnum.Lt?(r=e.Operator===OperatorEnum.Gt?`[ds].${e.FieldName} > '${I.toISOString()}'`:`[ds].${e.FieldName} < '${I.toISOString()}'`,g=e.Operator===OperatorEnum.Gt?AdvSearchOperation.GreaterThanDatime:AdvSearchOperation.LessThanDatime):(e.Operator===OperatorEnum.Ge||e.Operator===OperatorEnum.Le)&&(r=e.Operator===OperatorEnum.Ge?`[ds].${e.FieldName} >= '${I.toISOString()}'`:`[ds].${e.FieldName} <= '${I.toISOString()}'`,g=e.Operator===OperatorEnum.Ge?AdvSearchOperation.GreaterEqualDatime:AdvSearchOperation.LessEqualDatime)}n.push(l.Label+" <span class='text-danger'>"+e.OperatorText+"</span> "+e.ValueText)}let S=u||e.Value;if(this.AdvSearchVM.Conditions.some(I=>I.Field.FieldName===e.FieldName&&I.CompareOperatorId===g&&(I.CompareOperatorId===AdvSearchOperation.Like||I.CompareOperatorId===AdvSearchOperation.In||I.CompareOperatorId===AdvSearchOperation.EqualDatime))&&!e.Shift&&!e.Group){let I=this.AdvSearchVM.Conditions.find(F=>F.Field.FieldName===e.FieldName&&F.CompareOperatorId===g);I.Value=S.trim()?S:e.ValueText,this.Wheres.find(F=>F.Condition.includes(`[ds].${e.FieldName}`)).Condition=r}else if(!this.AdvSearchVM.Conditions.some(I=>I.Field.FieldName===e.FieldName&&I.CompareOperatorId===g&&I.Value===e.Value)){if(e.ComponentType==="Input"&&!e.Value.trim())this.AdvSearchVM.Conditions.push({Field:l,CompareOperatorId:e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqualNull:AdvSearchOperation.EqualNull,LogicOperatorId:e.Operator===OperatorEnum.NotIn?LogicOperation.And:LogicOperation.Or,Value:null,Group:!0}),this.AdvSearchVM.Conditions.push({Field:l,CompareOperatorId:e.Operator===OperatorEnum.NotIn?AdvSearchOperation.NotEqual:AdvSearchOperation.Equal,LogicOperatorId:e.Operator===OperatorEnum.NotIn?LogicOperation.And:LogicOperation.Or,Value:"",Group:!0});else if(l.FieldName.includes(".")){let I=l.FieldName.split(".")[0]+"Id";l.FieldName=I,this.AdvSearchVM.Conditions.push({Field:l,CompareOperatorId:g,LogicOperatorId:e.Logic||LogicOperation.And,Value:S.trim()?S:e.ValueText,Group:e.Group})}else this.AdvSearchVM.Conditions.push({Field:l,CompareOperatorId:g,LogicOperatorId:e.Logic||LogicOperation.And,Value:S.trim()?S:e.ValueText,Group:e.Group});this.Wheres.push({Condition:r,Group:e.Group})}return s}NoCellSelected(){if(this.MainSection.DisposeChildren(),this.ApplyFilter(),this.Meta.ComponentType==="VirtualGrid"&&this.Meta.CanSearch&&this.HeaderSection.Element.focus(),this.Meta.ComponentType==="SearchEntry"&&this.Parent instanceof SearchEntry$1){const e=this.Parent;e._input&&e._input.focus()}}ApplyLocal(e){if(!(e instanceof HTMLTableElement)){console.error("Invalid DataTable: not an HTMLTableElement");return}var t;if(this.Meta.TopEmpty?t=e.tBodies[e.tBodies.length-1].children:t=e.tBodies[0].children,this.CellSelected.Nothing()){for(var s=0;s<t.length;s++)t[s].classList.remove("d-none");return}this.LastElementFocus=null;var n=[],r=this.Header.findIndex(l=>l.FieldName===this.CellSelected[0].FieldName);this.CellSelected.forEach(l=>{for(var u=0;u<t.length;u++){var p=t[u].children;if(p[r]!==void 0){var g=p[r].textContent||"";l.Operator===OperatorEnum.In?g.toLowerCase().indexOf(l.ValueText.toLowerCase())===-1&&(n.some(S=>S===t[u])||n.push(t[u])):g.toLowerCase().indexOf(l.ValueText.toLowerCase())!==-1&&(n.some(S=>S===t[u])||n.push(t[u]))}}});for(var s=0;s<t.length;s++)n.some(u=>u===t[s])?t[s].classList.add("d-none"):(this.LastElementFocus===null&&(this.LastElementFocus=t[s].children[r]),t[s].classList.remove("d-none"));this.LastElementFocus!==null&&(this.LastElementFocus.focus(),this.LastElementFocus=null)}FilterSelected(e){if(e.Operator){if(!this.CellSelected.some(t=>t.FieldName===e.FieldName&&t.Value===e.Value&&t.ValueText===e.ValueText&&t.Operator===e.Operator)){const t=this.Header.find(s=>s.FieldName===e.FieldName);this.CellSelected.push({FieldName:e.FieldName,FieldText:t?t.Label:"",ComponentType:t?t.ComponentType:"",Value:e.Value,ValueText:e.ValueText,Operator:e.Operator,OperatorText:e.OperatorText,IsSearch:e.ActValue}),this._summarys.push(document.createElement("HTMLElement"))}this.ActionFilter()}}DisposeSumary(){this._summarys.length>0&&(this._summarys[this._summarys.length-1].remove(),this._summarys.pop()),this.lastListViewItem&&this.LastElementFocus&&(this.lastListViewItem.Focused(!0),this.LastElementFocus.focus())}HiddenSumary(){const e=this._summarys[this._summarys.length-1];e&&(e.style.display="none")}SearchDisplayRows(){if(!(this.DataTable instanceof HTMLTableElement)){console.error("Invalid DataTable: not an HTMLTableElement");return}const e=this.DataTable,t=e.tBodies[e.tBodies.length-1].children;for(let s=0;s<t.length;s++){if(t[s].classList.contains("virtual-row"))continue;const n=t[s].childNodes;let r=!1;for(let l=0;l<n.length;l++){const u=n[l];if(!(u instanceof HTMLElement))continue;const p=u.querySelector("input:first-child");let g;if(p!==null?g=String(Utils$1.GetPropValue(p,"value")):g=n[l].textContent||"",Utils$1.DecodeSpecialChar(g).toLowerCase().indexOf(Utils$1.DecodeSpecialChar(this.ListViewSearch.EntityVM.FullTextSearch.toLowerCase()))>-1){r=!0;break}}r?t[s].classList.remove("d-none"):t[s].classList.add("d-none")}}FocusCell(e,t){const s=e.target.closest("td"),n=e.target.closest("table");n.querySelectorAll("tbody tr").forEach(r=>r.classList.remove("focus")),n.querySelectorAll("tbody td").forEach(r=>r.classList.remove("cell-selected")),s.closest("tr").classList.add("focus"),s.classList.add("cell-selected")}ActionKeyHandler(e,t,s,n,r,l){let u="",p="",g="";if([KeyCodeEnum.F4,KeyCodeEnum.F8,KeyCodeEnum.F9,KeyCodeEnum.F10,KeyCodeEnum.F11,KeyCodeEnum.F2,KeyCodeEnum.UpArrow,KeyCodeEnum.DownArrow,KeyCodeEnum.Home,KeyCodeEnum.End,KeyCodeEnum.Insert].includes(l)||(e.ctrlKey||e.metaKey)&&l===KeyCodeEnum.D){if(e.preventDefault(),e.stopPropagation(),!n)return;switch(u=n.FieldName,n.Meta.ComponentType){case"SearchEntry":g=s.Entity[t.FieldName].toString().EncodeSpecialChar();break;case"Number":g=s.Entity[t.FieldName].toString().replace(",","");break;case"Checkbox":g=n.GetValue().toString().toLowerCase();break;default:g=n.GetValue().toString().EncodeSpecialChar();break}g===null?p=null:n.Meta.Editable?p=n.GetValueText().toString().DecodeSpecialChar():p=n.GetValueTextAct().toString().DecodeSpecialChar()}switch(l){case KeyCodeEnum.F2:this.FilterSelected({Operator:2,OperatorText:"Exclude",Value:g,FieldName:u,ValueText:p,ActValue:!0});break;case KeyCodeEnum.F4:this.ProcessFilterDetail(e,n,r,u,p,g);break;case KeyCodeEnum.F8:this.ProcessHardDelete();break;case KeyCodeEnum.F9:this.FilterSelected({Operator:1,OperatorText:"Contains",Value:g,FieldName:u,ValueText:p,ActValue:!0}),n.Focus();break;case KeyCodeEnum.F11:this.ProcessSort(e,n);break;case KeyCodeEnum.UpArrow:this.MoveFocusUp(e,n,u);break;case KeyCodeEnum.DownArrow:this.MoveFocusDown(e,n,u);break;case KeyCodeEnum.LeftArrow:this.MoveFocusLeft(e,n);break;case KeyCodeEnum.RightArrow:this.MoveFocusRight(e,n);break;case KeyCodeEnum.Home:this.MoveFocusHome();break;case KeyCodeEnum.End:this.MoveFocusEnd();break;case KeyCodeEnum.Insert:this.ToggleItemSelection();break}}MoveFocusUp(e,t,s){let n=this.GetItemFocus();if(n.RowNo===0&&!(e.ctrlKey||e.metaKey))return;let r=this.AllListViewItem.filter(l=>!l.GroupRow).find(l=>l.RowNo===n.RowNo-1);if(!r)if(this.Meta.CanAdd)r=this.EmptySection.FirstChild;else return;this.CopyValue(e,t,s,n,r)}MoveFocusDown(e,t,s){let n=this.GetItemFocus();if(!n&&!(e.ctrlKey||e.metaKey))return;let r=this.AllListViewItem.filter(l=>!l.GroupRow).find(l=>l.RowNo===n.RowNo+1);if(!r)if(this.Meta.CanAdd)r=this.EmptySection.FirstChild;else return;this.CopyValue(e,t,s,n,r)}MoveFocusLeft(e,t){var r;if(!this.Meta.IsRealtime&&!(e.ctrlKey||e.metaKey))return;e.preventDefault(),e.stopPropagation();let s=this.LastListViewItem,n=s.Children.find(l=>l.Element.closest("td")===t.Element.closest("td").previousElementSibling);!n||s.Children.length===0||((r=n.ParentElement)==null||r.focus(),n.Focus(),n.Meta.Editable&&!n.Disabled&&n.Element instanceof HTMLInputElement&&(n.Element.selectionStart=0,n.Element.selectionEnd=n.GetValueText().length))}MoveFocusRight(e,t){var r;if(!this.Meta.IsRealtime&&!(e.ctrlKey||e.metaKey))return;e.preventDefault(),e.stopPropagation();let n=this.LastListViewItem.Children.find(l=>l.Element.closest("td")===t.element.closest("td").nextElementSibling);n&&((r=n.ParentElement)==null||r.focus(),n.Focus(),n.Meta.Editable&&!n.Disabled&&n.Element instanceof HTMLInputElement&&(n.Element.selectionStart=0,n.Element.selectionEnd=n.GetValueText().length))}MoveFocusHome(){let e=this.AllListViewItem[0];e==null||e.Focus(),this.DataTable.parentElement.scrollTop=0}MoveFocusEnd(){let e=this.AllListViewItem[this.AllListViewItem.length-1];e==null||e.Focus(),this.DataTable.parentElement.scrollTop=this.DataTable.parentElement.scrollHeight}ToggleItemSelection(){let e=this.GetItemFocus();e.Selected=!e.Selected}ProcessHardDelete(){if(this.Disabled)return;const e=this.GetSelectedRows();if(e.length===0){Toast.Warning("Vui lng chn dng cn xa");return}const t=e.every(n=>Utils$1.IsOwner(n,!1));this.CanDo(n=>n.CanDelete&&t||n.CanDeleteAll)&&this.HardDeleteSelected()}ProcessFilterDetail(e,t,s,n,r,l){const u=ContextMenu.Instance;u.PElement=this.MainSection.Element,u.Top=s.getBoundingClientRect().top,u.Left=s.getBoundingClientRect().left,u.MenuItems=[{Icon:"fal fa-angle-double-right",Text:"Cha",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.In,OperatorText:"Cha",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-not-equal",Text:"Khng cha",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.NotIn,OperatorText:"Khng cha",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-hourglass-start",Text:"Tri phi",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Lr,OperatorText:"Tri phi",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-hourglass-end",Text:"Phi tri",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Rl,OperatorText:"Phi tri",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}}],(t.Meta.ComponentType==="Number"||t.Meta.ComponentType==="Datepicker")&&u.MenuItems.push({Icon:"fal fa-greater-than",Text:"Ln hn",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Gt,OperatorText:"Ln hn",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-less-than",Text:"Nh hn",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Lt,OperatorText:"Nh hn",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-greater-than-equal",Text:"Ln hn bng",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Ge,OperatorText:"Ln hn bng",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}},{Icon:"fal fa-less-than-equal",Text:"Nh hn bng",Click:this.FilterInSelected,Parameter:{Operator:OperatorEnum.Le,OperatorText:"Nh hn bng",Value:l,FieldName:n,ValueText:r,Shift:e.shiftKey}}),u.Render()}ProcessSort(e,t){if(t.Meta.ComponentType==="Button")return;let s=this.HeaderSection.Children.find(l=>l.Meta.Id===t.Meta.Id);s.Element.classList.remove("desc","asc");const n=t.ComponentType==="SearchEntry"?t.Meta.FieldText:t.FieldName,r={FieldName:n,OrderbyDirectionId:OrderbyDirection.ASC,ComId:t.Meta.Id};if(!this.AdvSearchVM.OrderBy.length)this.AdvSearchVM.OrderBy=[r],s.Element.classList.add("desc");else{const l=this.AdvSearchVM.OrderBy.find(u=>u.FieldName===n);if(l)this.AlterExistSort(s,l);else{const u=e.shiftKey;this.RemoveOtherSorts(u),s.Element.classList.add("desc"),this.AdvSearchVM.OrderBy.push(r)}}localStorage.setItem("OrderBy"+this.Meta.Id,JSON.stringify(this.AdvSearchVM.OrderBy)),this.ReloadData()}AlterExistSort(e,t){if(t.OrderbyDirectionId===OrderbyDirection.ASC)t.OrderbyDirectionId=OrderbyDirection.DESC,e.Element.classList.replace("asc","desc");else{const s=this.AdvSearchVM.OrderBy.indexOf(t);s!==-1&&this.AdvSearchVM.OrderBy.splice(s,1)}}RemoveOtherSorts(e){e||(this.HeaderSection.Children.forEach(t=>{t.Element.classList.remove("desc"),t.Element.classList.remove("asc")}),this.AdvSearchVM.OrderBy.length=0)}CopyValue(e,t,s,n,r){var u;if(this.LastListViewItem=r,n.Focused(!1),r.Focused(!0),!s||s.trim()==="")return;let l=r.FilterChildren(p=>p.Meta.Id===t.Meta.Id)[0];if(l&&(this.LastComponentFocus=l.Meta,(u=l.ParentElement)==null||u.focus(),l.Focus(),l.Meta.Editable&&!l.Disabled&&l.Element instanceof HTMLInputElement&&(l.Element.selectionStart=0,l.Element.selectionEnd=l.GetValueText().length),this.LastElementFocus=l.Element,e.shiftKey)){r.Entity[s]=t.GetValue();let p=r.FilterChildren(g=>g.FieldName===l.FieldName)[0];p&&(!p.Disabled||p.Meta.Editable)&&(p.Dirty=!0,(async()=>{if(p.Meta.ComponentType==="SearchEntry"){p.UpdateView();let g=t;p.PopulateFields(g.Matched),await p.DispatchEvent(p.Meta.Events,"change",r.Entity,g.Matched)}else p.UpdateView(),p.PopulateFields(),await p.DispatchEvent(p.Meta.Events,"change",r.Entity);await r.ListViewSection.ListView.DispatchEvent(r.ListViewSection.ListView.Meta.Events,"change",r.Entity),this.Meta.IsRealtime&&await r.PatchUpdateOrCreate()})())}}RenderViewPort(e=!0,t=!1,s=null){}HotKeyF6Handler(e,t){switch(t){case KeyCodeEnum.F6:if(e.preventDefault(),e.stopPropagation(),this._summarys.length){let n=this._summarys[this._summarys.length-1];if(this.Meta.FilterLocal){n.innerHTML===""?(this.CellSelected.pop(),this.ActionFilter(),this._summarys.pop()):n.style.display==="none"?(this.CellSelected.pop(),this.ActionFilter(),n.style.display=""):(this._summarys.pop(),n.remove());return}if(n.innerHTML===""){this.CellSelected.pop(),this.Wheres.pop();let r=this.AdvSearchVM.Conditions[this.AdvSearchVM.Conditions.length-1];r&&r.Field.ComponentType==="Input"&&!r.Value.trim()?(this.AdvSearchVM.Conditions.pop(),this.AdvSearchVM.Conditions.pop()):this.AdvSearchVM.Conditions.pop(),this.ActionFilter(),this._summarys.pop()}else if(this._waitingLoad&&clearTimeout(this._renderPrepareCacheAwaiter),n.style.display==="none"){this.CellSelected.pop(),this.Wheres.pop();let r=this.AdvSearchVM.Conditions[this.AdvSearchVM.Conditions.length-1];r&&r.Field.ComponentType==="Input"&&!r.Value.trim()?(this.AdvSearchVM.Conditions.pop(),this.AdvSearchVM.Conditions.pop()):this.AdvSearchVM.Conditions.pop(),this.ActionFilter(),n.style.display=""}else this._summarys.pop(),n.remove()}break;case KeyCodeEnum.F3:e.preventDefault(),e.stopPropagation(),this.GetRealTimeSelectedRows().then(n=>{n.length===0&&(n=this.RowData.Data);let r=this.Header.filter(u=>u.ComponentType==="Number");if(r.length===0){Toast.Warning("Vui lng cu hnh");return}let l=r.map(u=>{let p=n.map(g=>g[u.FieldName]).filter(g=>g!=null).reduce((g,S)=>g+parseFloat(S),0);return u.Label+" : "+(p%2>0?p.toFixed(2):Math.round(p).toString())});Toast.Success(l.join("</br>"),6e3)});break;case KeyCodeEnum.F1:e.preventDefault(),e.stopPropagation(),this.ToggleAll();break;case KeyCodeEnum.U:if(e.ctrlKey||e.metaKey){if(this.Disabled||!this.Meta.CanAdd)return;e.preventDefault(),e.stopPropagation(),this.DuplicateSelected(e,!0)}break}if(!this.LastListViewItem||!this.LastListViewItem.Children)return;let s=this.LastListViewItem.Children.find(n=>{var r;return n.Meta.Id===((r=this.LastComponentFocus)==null?void 0:r.Id)});s&&this.ActionKeyHandler(e,this.LastComponentFocus,this.LastListViewItem,s,s.Element.closest("td"),t)}async AddRow(e,t=0,s=!0){let n=await super.AddRow(e,t,s);return this.StickyColumn(n),this.RenderIndex(),n}AddNewEmptyRow(){if(this.Disabled||!this.Editable||this.EmptySection&&this.EmptySection.Children.length>0)return;let e={};e[this.IdField]=Uuid7.NewGuid();let t=this.RenderRowData(this.Header,e,this.EmptySection,null,!0);this.StickyColumn(t),this.Meta.TopEmpty?this.DataTable.insertBefore(this.EmptySection.Element,this.MainSection.Element):this.DataTable.insertBefore(this.MainSection.Element,this.EmptySection.Element),t.Children.forEach(s=>s.SetRequired()),this.DispatchCustomEvent(this.Meta.Events,"AfterEmptyRowCreated",e).then(()=>{this.StickyColumn(t)})}FilterColumns(e){if(!e||e.length===0)return e;const t=!this.EditForm||this.EditForm.Policies.length==0?[]:this.EditForm.GetGridPolicies(e.map(n=>n.id),Utils$1.ComponentId),s=(t.length==0?e.filter(n=>!n.hidden&&n.id!==this.Meta.Id).filter(n=>!n.isPrivate||t.filter(r=>r.RecordId===n.Id).every(r=>r.CanRead)):e).map(this.CalcTextAlign).sort((n,r)=>r.Frozen-n.Frozen||(r.ComponentType==="Button"?1:0)-(n.ComponentType==="Button"?1:0)||n.Order-r.Order);return this.OrderHeaderGroup(s),this.header=[],this.header.push(this.ToolbarColumn),this.header.push(...s),this.header=this.header.filter(n=>n!==null),this.header}async ApplyFilter(){this.DataTable.parentElement.scrollTop=0,await this.ReloadData(this.cacheHeader=!0)}ColumnResizeHandler(){const e=s=>{if(s===null)return;s.querySelectorAll("th").forEach(r=>{const l=document.createElement("div");l.classList.add("resizer"),r.appendChild(l),t(r,l)})},t=(s,n)=>{let r=0,l=0;const u=S=>{S.preventDefault(),r=S.clientX;const I=window.getComputedStyle(s);l=parseInt(I.width,10),document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),n.classList.add("resizing")},p=S=>{S.preventDefault();const I=S.clientX-r;s.style.width=`${l+I}px`,s.style.minWidth=`${l+I}px`,s.style.maxWidth=`${l+I}px`},g=()=>{n.classList.remove("resizing"),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g)};n.addEventListener("mousedown",u)};e(this.DataTable)}RenderContent(){var t,s,n,r;if(this.LoadRerender||this.Rerender(),this.AddSections(),!this._hasFirstLoad&&this.VirtualScroll){this._hasFirstLoad=!0;return}let e=this.GetViewPortItem();if(this.FormattedRowData=this.Meta.LocalRender?this.Meta.LocalData:this.RowData.Data,!this.FormattedRowData||this.FormattedRowData.length===0){this.MainSection.DisposeChildren(),(s=(t=this.MainSection)==null?void 0:t.Element)==null||s.removeEventListener("contextmenu",this.BodyContextMenuHandler),(r=(n=this.MainSection)==null?void 0:n.Element)==null||r.removeEventListener("contextmenu",this.BodyContextMenuHandler),this.DomLoaded();return}if(this.DisposeNoRecord(),this.VirtualScroll&&this.FormattedRowData.length>e&&(this.FormattedRowData=this.FormattedRowData.slice(0,e)),this.MainSection.Children.length>0){this.UpdateExistRowsWrapper(!1,0,e);return}this.MainSection.Show=!1,this.FormattedRowData.forEach(l=>{Html.Take(this.MainSection.Element),this.RenderRowData(this.Header,l,this.MainSection)}),this.MainSection.Show=!0,this.ContentRendered(),this.DomLoaded()}SetFocusingCom(){if(!this.AutoFocus)if(this.EntityFocusId!=null&&this.LastComponentFocus!=null){let e=this.MainSection.Children.flatMap(t=>t.Children).find(t=>t.Entity[this.IdField].toString()===this.EntityFocusId&&t.Meta.Id===this.LastComponentFocus.Id);if(e){let t=this.AllListViewItem.find(s=>s.Entity[this.IdField].toString()===this.EntityFocusId);t&&(t.Focused(!0),e.ParentElement.classList.add("cell-selected"),this.LastListViewItem=t,this.LastComponentFocus=e.Meta,this.LastElementFocus=e.Element)}else this.HeaderSection.Element.focus()}else this.HeaderSection.Element.focus()}UpdateExistRowsWrapper(e,t,s){if(!this._hasFirstLoad){this._hasFirstLoad=!0;return}this.UpdateExistRows(e),this.DomLoaded()}UpdateExistRows(e){const t=this.FormattedRowData.slice(),s=this.AllListViewItem.slice(0,t.length);s.forEach((r,l)=>{r.Entity=t[l],this.FlattenChildren(r).forEach(u=>{u.Entity=t[l]}),r.UpdateView()}),this.AllListViewItem.length<=t.length?t.slice(s.length).forEach(r=>{const l=this.RenderRowData(this.Header,r,this.MainSection);this.StickyColumn(l)}):this.MainSection.Children.slice(t.length).forEach(r=>r.Dispose()),e!==void 0&&(this.Dirty=e)}FlattenChildren(e){const t=[],s=[e];for(;s.length;){const n=s.pop();n.Children&&(t.push(...n.Children),n.Children.forEach(r=>s.push(r)))}return t}RenderRowData(e,t,s,n=null,r=!1){const l=s.Element;Html.Take(l);const u=new GridViewItem(ElementType.tr);u.EmptyRow=r,u.Entity=t,u.ParentElement=l,u.PreQueryFn=this._preQueryFn,u.ListView=this,u.Meta=this.Meta,s.AddChild(u,n),r||(u.Dirty=!0);var p=Html.Context;return p.tabIndex=-1,n&&((n>=p.parentElement.children.length||n<0)&&(n=0),p.parentElement.insertBefore(p,p.parentElement.children[n])),e.length>0&&e.forEach(g=>{u.RenderTableCell(t,g)}),r&&this.Children.forEach(g=>g.AlwaysLogHistory=!0),u}AddSummaries(){if(this.Header.every(n=>!n.Summary||n.Summary.trim()===""))return;const e=this.Header.filter(n=>n.Summary&&n.Summary.trim()!=="");this.MainSection.Element.querySelectorAll(`.${this.SummaryClass}`).forEach(n=>n.remove());const s=new Set(e.map(n=>n.Summary)).size;e.forEach(n=>{this.RenderSummaryRow(n,this.Header,this.FooterSection.Element,s)})}DuplicateSelected(e,t=!1){const s=this.GetSelectedRows(),n=s.map(l=>({...l,[this.IdField]:Uuid7.NewGuid()}));if(!(n.length==0||!this.CanWrite)){Toast.Success("Copying data..."),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforePasted,s,n);var r=this.AllListViewItem.filter(l=>l.EmptyRow).indexOf(l=>l==this.AllListViewItem.filter(u=>u.Selected)[0])+1;this.Meta.TopEmpty?r=0:r=this.AllListViewItem.LastOrDefault().RowNo,this.AddRowsNo(n,r).then(l=>{this.Dirty=!0;var u=l[0].FilterChildren(p=>p.Meta.Editable)[0];u==null||u.Focus(),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterPasted,s,n),this.RenderIndex(),this.Meta.IsSumary&&this.AddSummaries(),this.ClearSelected(),this.LastListViewItem=l.FirstOrDefault(),this.Meta.IsRealtime?(l.forEach(p=>{p.PatchUpdateOrCreate().then()}),Toast.Success("Data copied successfully."),this.Dirty=!1):Toast.Success("Data copied successfully.")})}}GetStartIndex(e,t){let s=this.AllListViewItem.findIndex(n=>n.Selected);return t&&e.keyCode===KeyCodeEnum.U&&(e.ctrlKey||e.metaKey)&&(this.Meta.TopEmpty?s=0:s=this.AllListViewItem[this.AllListViewItem.length-1].RowNo),s}RowsAdded(e,t,s){const n=e[0]?e[0].FilterChildren(r=>r.Meta.Editable)[0]:null;n&&n.Focus(),this.RenderIndex(),this.Meta.IsSumary&&this.AddSummaries(),this.ClearSelected(),e.forEach(r=>{r.Selected=!0}),this.LastListViewItem=e[0]||null,this.Meta.IsRealtime?Promise.all(e.map(r=>r.PatchUpdateOrCreate())).then(()=>{Toast.Success("Sao chp d liu thnh cng!"),this.Dirty=!1}):Toast.Success("Sao chp d liu thnh cng!"),this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterPasted,t,s)}RenderSummaryRow(e,t,s,n){let r=this.CreateSummaryTableRow(e,s,n);if(!r)return;const l=r.classList.contains("summary"),u=e.SummaryColSpan||0;if(r.classList.add("summary"),!l&&t.includes(e)&&this.ResetSummaryRow(r,u),!t.includes(e)){this.ClearSummaryContent(r);return}this.SetSummaryHeaderText(e,r),this.CalcSumCol(e,t,r,u)}SetRowData(e){e=e??[],this.RowData._data===null||typeof this.RowData._data=="string"?this.RowData._data=e:(this.RowData._data.length=0,e&&e.length>0&&e.forEach(t=>this.RowData._data.push(t))),this.RenderContent(),this.Entity!=null&&this.ShouldSetEntity&&(this.Entity[this.Name]=this.RowData.Data)}SetSummaryHeaderText(e,t){if(!e.Summary||e.Summary.trim()==="")return;let s=t.cells[0];s.colSpan=e.SummaryColSpan,s.textContent=e.Summary,s.classList.add("summary-header")}CreateSummaryTableRow(e,t,s){if(!t)return null;let n=e.Summary,r=Array.from(t.rows).filter(p=>p.classList.contains("summary-header")),l=Array.from(r).reverse().find(p=>Array.from(p.cells).some(g=>g.textContent===n));if(l||(l=r[r.length-1]),r.length>=s)return l;if(!this.MainSection.FirstChild)return null;let u=this.MainSection.FirstChild.Element.cloneNode(!0);return t.appendChild(u),u instanceof Element&&(t.appendChild(u),Array.from(u.children).forEach(p=>p.innerHTML="")),u}CalcSumCol(e,t,s,n){const r=t.indexOf(e),l=s.cells[r-n+1],u=e.FormatData?e.FormatData:"{0:n0}",p=this.RowData.Data.some(S=>typeof S[e.FieldName]=="number"),g=this.RowData.Data.reduce((S,I)=>{const F=I[e.FieldName];return S+(F?parseFloat(F):0)},0);l.textContent=Utils$1.FormatEntity(u,p?g:this.RowData.Data.length)}ResetSummaryRow(e,t){for(let s=1;s<t;s++)e.cells[0]&&e.cells[0].remove();this.ClearSummaryContent(e)}ClearSummaryContent(e){Array.from(e.cells).forEach(t=>{t.innerHTML=""})}async RowChangeHandler(e,t,s,n=null){if(t.EmptyRow&&s.EvType===EventType.Change){if(!Utils$1.isNullOrWhiteSpace(this.Meta.DefaultVal)){var r=Utils$1.IsFunction(this.Meta.DefaultVal,!1,this);r&&Object.getOwnPropertyNames(r).forEach(u=>{t.Entity[u]=r[u]})}await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreated,e,this);let l;this.Meta.IsRealtime?(l=await t.PatchUpdateOrCreate(),t.Entity=l,this.Meta.ComponentType=="VirtualGrid"&&this.CacheData.push(l),this.Dirty=!1):(l=t.Entity,this.Dirty=!0),t.UpdateView(!0),this.MoveEmptyRow(t),this.EmptySection.Children=[],this.AddNewEmptyRow(),this.ClearSelected(),await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreated,e,this)}n&&n.ComponentType=="GridView"&&await this.DispatchEvent(n.Meta.Events,s.EvType,e,t),await this.DispatchEvent(this.Meta.Events,s.EvType,e,t),s.EvType===EventType.Change&&(this.PopulateFields(),this.RenderIndex(),this.Meta.IsSumary&&this.AddSummaries())}MoveEmptyRow(e){this.RowData.Data.includes(e.Entity)||(this.Meta.TopEmpty?(this.RowData.Data.unshift(e.Entity),this.MainSection.Children.includes(this.EmptySection.FirstChild)||this.MainSection.Children.unshift(this.EmptySection.FirstChild),this.MainSection.Element.prepend(this.EmptySection.Element.firstElementChild)):(this.RowData.Data.push(e.Entity),this.MainSection.Element.appendChild(this.EmptySection.Element.firstElementChild),this.MainSection.Children.includes(this.EmptySection.FirstChild)||this.MainSection.Children.push(this.EmptySection.FirstChild)),this.Meta.IsRealtime&&e.Element.classList.remove("new-row"),e.Parent=this.MainSection,e.ListViewSection=this.MainSection)}ProcessMetaData(e,t){let s=e.length>1&&e[1].length>0?e[1][0].total:null,n=e.length>2?e[2].map(r=>Utils$1.CastProp(r,"Component")):null;this.Settings=e.length>3&&e[3].length>0?Utils$1.As(e[3][0],"UserSetting"):null,this.FilterColumns(this.MergeComponent(n,this.Settings)),this.RenderTableHeader(this.Header),this.Paginator!=null&&(this.Paginator.Options.Total=s!==null?s:t)}RenderTableHeader(e){(!e||e.length==0)&&(e=this.Header),e.Count!=this.Header.Count&&this.FilterColumns(e),this._hasFirstLoad=!0,this.HeaderSection.Element===null&&this.AddSections(),e.forEach((s,n)=>s.PostOrder=n),this.HeaderSection.DisposeChildren();const t=e.some(s=>s.GroupName&&s.GroupName!=="");Html.Take(this.HeaderSection.Element).Clear().TRow.ForEach(e,(s,n)=>{var u;if(t&&s.GroupName!==""){if(s!==e.find(p=>p.GroupName===s.GroupName))return;Html.Th.Render(),Html.ColSpan(e.filter(p=>p.GroupName===s.GroupName).length),Html.IHtml(s.GroupName).Render();return}Html.Th.TabIndex(-1).Width(s.AutoFit?"auto":s.Width).Style(`${s.Style};min-width: ${s.MinWidth}; max-width: ${s.MaxWidth}`).TextAlign("center").Event(EventType.DblClick,this.EditForm.ComponentProperties.bind(this),s).Event(EventType.ContextMenu,this.HeaderContextMenu.bind(this),s).Event(EventType.FocusOut,p=>this.FocusOutHeader(p,s)).Event(EventType.KeyDown,p=>this.ThHotKeyHandler(p,s));var r=new Section$1(null,Html.Context);r.Meta=s,this.HeaderSection.AddChild(r),t&&(!s.GroupName||s.GroupName==="")&&Html.Instance.RowSpan(2),!t&&this.Header.some(p=>p.GroupName&&p.GroupName.length)&&Html.Instance.ClassName("header-group"),s.StatusBar&&Html.Instance.Icon("fal fa-edit").Event(EventType.Click,this.ToggleAll.bind(this)).End.Render();const l=(u=this.AdvSearchVM.OrderBy)==null?void 0:u.find(p=>p.ComId===s.Id);l&&Html.Instance.ClassName(l.OrderbyDirectionId===OrderbyDirection.ASC?"asc":"desc").Render(),s.Icon?Html.Instance.Icon(s.Icon).Margin(Direction.Right,0).End.Render():s.StatusBar||Html.Instance.Event(EventType.Click,p=>this.ClickHeader(p,s)).IHtml(s.Label).Render(),s.ComponentType==="Number"&&(Html.Instance.Div.End.Render(),Html.Instance.Span.Style("display: block;").End.Render()),s.Description&&Html.Instance.Attr("title",s.Description),Client.Instance.SystemRole&&(Html.Instance.Attr("contenteditable","true"),Html.Instance.Event(EventType.Input,p=>this.ChangeHeader(p,s))),this.CreateResizableTable(Html.Context),Html.Instance.EndOf(ElementType.th)}).EndOf(ElementType.tr).Render(),t&&Html.Instance.TRow.ForEach(e,(s,n)=>{if(t&&s.GroupName!==""){Html.Instance.Th.DataAttr("field",s.FieldName).Width(s.Width).Style(`min-width: ${s.MinWidth}; max-width: ${s.MaxWidth}`).TextAlign(s.TextAlignEnum).Event(EventType.ContextMenu,this.HeaderContextMenu.bind(this),s).InnerHTML(s.Label);const r=new Section$1(ElementType.tr);r.ParentElement=Html.Context.parentElement,r.Meta=s,this.HeaderSection.AddChild(r)}}),this.HeaderSection.Children=this.HeaderSection.Children.sort((s,n)=>s.Meta.PostOrder-n.Meta.PostOrder)}CreateResizableTable(e){var t=document.createElement("div");t.classList.add("resizer"),e.appendChild(t),this.CreateResizableColumn(e,t)}CreateResizableColumn(e,t){this.x=0,this.w=0,t.addEventListener("mousedown",s=>this.MouseDownHandler(s,e,t))}MouseDownHandler(e,t,s){e.preventDefault(),this.x=e.clientX;var n=window.getComputedStyle(t);this.w=parseFloat(n.width.replace("px","")==""?"0":n.width.replace("px","")),this.mouseMoveHandler=r=>this.MouseMoveHandler(r,t,s),this.mouseUpHandler=r=>this.MouseUpHandler(r,t,s),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler),s.classList.add("resizing")}MouseMoveHandler(e,t,s){e.preventDefault();var n=e.clientX-this.x;t.style.width=`${this.w+n}px`,t.style.minWidth=`${this.w+n}px`,t.style.maxWidth=`${this.w+n}px`}MouseUpHandler(e,t,s){e.preventDefault(),this.UpdateHeaders(),s.classList.remove("resizing"),document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)}UpdateHeaders(){const e=this.HeaderSection.Children.filter(l=>l.Meta&&l.Meta.Id),t=new Map(e.map(l=>[l.Element,l.Meta.Id]));let s=0;const n=Array.from(this.HeaderSection.Element.querySelectorAll("th"));n.forEach(l=>{l.Order=s,s++}),n.map(l=>{const u=t.get(l);if(u){const p=`${l.offsetWidth}px`,g={Width:p,MaxWidth:p,MinWidth:p};return{Changes:[{Field:"Id",Value:u},{Field:"Width",Value:p},{Field:"MaxWidth",Value:p},{Field:"MinWidth",Value:p},{Field:"Order",Value:l.Order}],Table:this.Meta.RefName,header:l,widthProps:g}}return null}).filter(l=>l!=null).forEach(l=>{Client.Instance.PatchAsync(l).then(u=>{Object.assign(l.header.style,l.widthProps)})})}ChangeHeader(e,t){clearTimeout(this._imeout),this._imeout=setTimeout(()=>{let s=e.target,n={Table:"Component",Changes:[{Field:"Component.Id",Value:t.Id,OldVal:t.Id},{Field:"Component.Label",Value:s.textContent.trim(),OldVal:t.Label}]};Client.Instance.PatchAsync(n)},1e3)}async CustomQuery(e){try{const t=await Client.Instance.SubmitAsync({NoQueue:!0,Url:`/api/feature/com?t=${Client.Token.TenantCode||Client.Tenant}`,Method:"POST",JsonData:JSON.stringify(e,this.getCircularReplacer(),2),AllowAnonymous:!0});if(!t.value||t.value.length===0)return this.SetRowData(null),null;let s=t.count.total&&t.count.total>0?t.count.total:t.value.length,n=[...t.value];return this.ClearRowData(),this.UpdatePagination(s,n.length),await this.LoadMasterData(n),this.SetRowData(n),n}catch(t){throw console.error(t),t}}UpdatePagination(e,t){if(this.Paginator){var s=this.Paginator.Options;s.Total=e,s.CurrentPageCount=t,s.PageNumber=(s.PageIndex||0)+1,s.StartIndex=(s.PageIndex||0)*s.PageSize+1,s.EndIndex=s.StartIndex+s.CurrentPageCount,this.Paginator.UpdateView()}}ToggleAll(){if(this.AllListViewItem.some(t=>t.Selected)){this.ClearSelected();return}this.AllListViewItem.forEach(t=>{t.EmptyRow||(t.Selected=!0)})}HeaderContextMenu(e,t){e.preventDefault(),e.stopPropagation();var s=ContextMenu.Instance;s.Top=e.clientY,s.Left=e.clientX,s.MenuItems=[],Client.Instance.SystemRole&&s.MenuItems.push({Icon:"fal fa-wrench",Text:"Column Properties",Click:()=>this.EditForm.ComponentProperties(t)}),s.Render()}HideWidth(e,t){const s=t.target.closest("th");s&&(s.style.minWidth="",s.style.maxWidth="",s.style.width=""),this.UpdateHeaders(this.GetHeaderSettings())}GetHeaderSettings(){const e={};this.HeaderSection.Children.filter(n=>{var r;return((r=n.Meta)==null?void 0:r.Id)!=null}).forEach(n=>{e[n.Meta.Id]=n});const t=Array.from(this.HeaderSection.Element.firstElementChild.children);return this.HeaderSection.Children.forEach(n=>{n.Meta.Order=t.indexOf(n.Element)}),this.Header.filter(n=>n.Id!=null).map(n=>{const r=e[n.Id];return r?(n.Width=`${r.Element.offsetWidth}px`,n.MaxWidth=`${r.Element.offsetWidth}px`,n.MinWidth=`${r.Element.offsetWidth}px`,n):null}).filter(n=>n!=null).sort((n,r)=>n.Frozen-r.Frozen||n.Order-r.Order)}ShowWidth(e){const t=e.header,s=e.events;s.target.firstChild&&!s.target.firstChild.length&&s.target.prepend(document.createTextNode(t.ShortDesc)),s.target.style.minWidth="",s.target.style.maxWidth="",s.target.style.width="",this.UpdateHeaders(this.GetHeaderSettings())}FrozenColumn(e){const t=e.header,s=this.Header.find(n=>n.Id===t.Id);s&&(s.Frozen=!s.Frozen),this.UpdateHeaders(this.GetHeaderSettings())}CloneHeader(e){{var t=e,s=new ConfirmDialog;s.Content="Bn c chc chn mun clone ct ny khng?",s.Render(),s.YesConfirmed+=()=>{var n=t.Clone();n.Id=Uuid7.Id25();var r=n.MapToPatch();Client.Instance.PatchAsync(r).then(l=>{if(l==0){Toast.Warning("Clone error");return}this.Header.push(n),this.Header=this.Header.sort((u,p)=>p.Frozen-u.Frozen||p.ComponentType==="Button"-u.ComponentType==="Button"||u.Order-p.Order),this.Rerender(),Toast.Success("Clone success")}).catch(l=>{Toast.Warning("Clone header NOT success")})}}}RemoveHeader(e){var t=e,s=new ConfirmDialog;s.Content="Bn c chc chn mun clone ct ny khng?",s.Render(),s.YesConfirmed+=()=>{const n=[t.Id];Client.Instance.HardDeleteAsync(n,"Component",this.MetaConn,this.MetaConn).then(r=>{if(!r){Toast.Warning("delete error");return}Toast.Success("Delete success"),this.Header.Remove(t),this.Rerender()})}}RemoveRowById(e){super.RemoveRowById(e),this.RenderIndex()}RemoveRow(e){super.RemoveRow(e),this.RenderIndex()}HardDeleteConfirmed(e){return new Promise((t,s)=>{super.HardDeleteConfirmed(e).then(n=>{this.RenderIndex(),this.Meta.IsSumary&&this.AddSummaries(),t(n)}).catch(n=>s(n))})}UpdateView(e=!1,t=null,s=[]){!this.Editable&&!this.Meta.CanCache?e&&(this.DisposeNoRecord(),this.ListViewSearch.RefreshListView()):this.RowAction(n=>!n.EmptyRow,n=>n.UpdateView(e,t,s))}async RowChangeHandlerGrid(e,t,s,n=null){if(await new Promise(r=>setTimeout(r,this.CellCountNoSticky)),t.EmptyRow&&s.EvType===EventType.Change){await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.BeforeCreated,e),t.EmptyRow=!1,this.MoveEmptyRow(t);const r=this.Header.filter(p=>p.Editable),l=r.find(p=>p.FieldName===n.FieldName),u=r.indexOf(l);if(r.length>u+1){const p=r[u+1],g=t.Children.find(S=>S.FieldName===p.FieldName);g&&g.Focus()}this.EmptySection.Children=[],this.AddNewEmptyRow(),this.Entity[this.Name]=this.RowData.Data,await this.DispatchCustomEvent(this.Meta.Events,CustomEventType.AfterCreated,e)}this.AddSummaries(),this.PopulateFields(),await this.DispatchEvent(this.Meta.Events,EventType.Change,e)}GetViewPortItem(){if(!this.Element||!this.Element.classList.contains("sticky"))return this.RowData.Data.length;let e=this.Element.clientHeight-(this.HeaderSection.Element?this.HeaderSection.Element.clientHeight:0)-this.Paginator.Element.clientHeight-this._theadTable;return this.Header=this.Header.filter(t=>t!=null),this.Header.some(t=>t.Summary&&t.Summary.trim()!=="")&&(e-=this._tfooterTable),this.Meta.CanAdd&&(e-=this._rowHeight),this.GetRowCountByHeight(e)}},y(Hn,"ToolbarColumn",{StatusBar:!0,Label:"",Frozen:!0}),Hn);const gridView=Object.freeze(Object.defineProperty({__proto__:null,GridView:GridView$1},Symbol.toStringTag,{value:"Module"}));class Textarea extends Textbox{constructor(i,e=null){super(i,e),this.MultipleLine=!0}}class App{static Init(){var i=new Textbox({FieldName:"appointment_name",PlainText:"FullName"},document.getElementsByName("appointment_name")[0]);i.Render();var i=new Textbox({FieldName:"appointment_email",PlainText:"E-Mail"},document.getElementsByName("appointment_email")[0]);i.Render();var i=new Textbox({FieldName:"appointment_phone",PlainText:"Phone Number"},document.getElementsByName("appointment_phone")[0]);i.Render();var i=new Textbox({FieldName:"appointment_website",PlainText:"Your Website"},document.getElementsByName("appointment_website")[0]);i.Render();var i=new Textbox({FieldName:"name",PlainText:"Name"},document.getElementsByName("name")[0]);i.Render();var i=new Textbox({FieldName:"email",PlainText:"E-Mail"},document.getElementsByName("email")[0]);i.Render();var i=new Textbox({FieldName:"phone",PlainText:"Phone Number"},document.getElementsByName("phone")[0]);i.Render();var i=new Textbox({FieldName:"website",PlainText:"Your Website"},document.getElementsByName("website")[0]);i.Render();var i=new Textarea({FieldName:"message",PlainText:"Your message Here"},document.getElementsByName("message")[0]);i.Render()}}App.Init();window.Modernizr=function(a,i,e){function t(Z){V.cssText=Z}function s(Z,ae){return t($e.join(Z+";")+"")}function n(Z,ae){return typeof Z===ae}function r(Z,ae){return!!~(""+Z).indexOf(ae)}function l(Z,ae){for(var W in Z){var pe=Z[W];if(!r(pe,"-")&&V[pe]!==e)return ae=="pfx"?pe:!0}return!1}function u(Z,ae,W){for(var pe in Z){var Ie=ae[Z[pe]];if(Ie!==e)return W===!1?Z[pe]:n(Ie,"function")?Ie.bind(W||ae):Ie}return!1}function p(Z,ae,W){var pe=Z.charAt(0).toUpperCase()+Z.slice(1),Ie=(Z+" "+de.join(pe+" ")+pe).split(" ");return n(ae,"string")||n(ae,"undefined")?l(Ie,ae):(Ie=(Z+" "+it.join(pe+" ")+pe).split(" "),u(Ie,ae,W))}function g(){I.input=function(Z){for(var ae=0,W=Z.length;ae<W;ae++)Ne[Z[ae]]=Z[ae]in be;return Ne.list&&(Ne.list=!!i.createElement("datalist")&&!!a.HTMLDataListElement),Ne}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),I.inputtypes=function(Z){for(var ae=0,W,pe,Ie,je=Z.length;ae<je;ae++)be.setAttribute("type",pe=Z[ae]),W=be.type!=="text",W&&(be.value=Oe,be.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(pe)&&be.style.WebkitAppearance!==e?(F.appendChild(be),Ie=i.defaultView,W=Ie.getComputedStyle&&Ie.getComputedStyle(be,null).WebkitAppearance!=="textfield"&&be.offsetHeight!==0,F.removeChild(be)):/^(search|tel)$/.test(pe)||(/^(url|email)$/.test(pe)?W=be.checkValidity&&be.checkValidity()===!1:W=be.value!=Oe)),We[Z[ae]]=!!W;return We}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var S="2.8.3",I={},F=i.documentElement,O="modernizr",X=i.createElement(O),V=X.style,be=i.createElement("input"),Oe=":)",he={}.toString,$e=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",de=b.split(" "),it=b.toLowerCase().split(" "),ze={svg:"http://www.w3.org/2000/svg"},fe={},We={},Ne={},Le=[],Je=Le.slice,Pe,ge=function(Z,ae,W,pe){var Ie,je,mt,yt,pt=i.createElement("div"),ot=i.body,L=ot||i.createElement("body");if(parseInt(W,10))for(;W--;)mt=i.createElement("div"),mt.id=pe?pe[W]:O+(W+1),pt.appendChild(mt);return Ie=["&#173;",'<style id="s',O,'">',Z,"</style>"].join(""),pt.id=O,(ot?pt:L).innerHTML+=Ie,L.appendChild(pt),ot||(L.style.background="",L.style.overflow="hidden",yt=F.style.overflow,F.style.overflow="hidden",F.appendChild(L)),je=ae(pt,Z),ot?pt.parentNode.removeChild(pt):(L.parentNode.removeChild(L),F.style.overflow=yt),!!je},ce=function(Z){var ae=a.matchMedia||a.msMatchMedia;if(ae)return ae(Z)&&ae(Z).matches||!1;var W;return ge("@media "+Z+" { #"+O+" { position: absolute; } }",function(pe){W=(a.getComputedStyle?getComputedStyle(pe,null):pe.currentStyle).position=="absolute"}),W},Me=function(){function Z(W,pe){pe=pe||i.createElement(ae[W]||"div"),W="on"+W;var Ie=W in pe;return Ie||(pe.setAttribute||(pe=i.createElement("div")),pe.setAttribute&&pe.removeAttribute&&(pe.setAttribute(W,""),Ie=n(pe[W],"function"),n(pe[W],"undefined")||(pe[W]=e),pe.removeAttribute(W))),pe=null,Ie}var ae={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return Z}(),ve={}.hasOwnProperty,_e;!n(ve,"undefined")&&!n(ve.call,"undefined")?_e=function(Z,ae){return ve.call(Z,ae)}:_e=function(Z,ae){return ae in Z&&n(Z.constructor.prototype[ae],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(Z){var ae=this;if(typeof ae!="function")throw new TypeError;var W=Je.call(arguments,1),pe=function(){if(this instanceof pe){var Ie=function(){};Ie.prototype=ae.prototype;var je=new Ie,mt=ae.apply(je,W.concat(Je.call(arguments)));return Object(mt)===mt?mt:je}return ae.apply(Z,W.concat(Je.call(arguments)))};return pe}),fe.flexbox=function(){return p("flexWrap")},fe.canvas=function(){var Z=i.createElement("canvas");return!!Z.getContext&&!!Z.getContext("2d")},fe.canvastext=function(){return!!I.canvas&&!!n(i.createElement("canvas").getContext("2d").fillText,"function")},fe.webgl=function(){return!!a.WebGLRenderingContext},fe.touch=function(){var Z;return"ontouchstart"in a||a.DocumentTouch&&i instanceof DocumentTouch?Z=!0:ge(["@media (",$e.join("touch-enabled),("),O,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(ae){Z=ae.offsetTop===9}),Z},fe.geolocation=function(){return"geolocation"in navigator},fe.postmessage=function(){return!!a.postMessage},fe.websqldatabase=function(){return!!a.openDatabase},fe.indexedDB=function(){return!!p("indexedDB",a)},fe.hashchange=function(){return Me("hashchange",a)&&(i.documentMode===e||i.documentMode>7)},fe.history=function(){return!!a.history&&!!history.pushState},fe.draganddrop=function(){var Z=i.createElement("div");return"draggable"in Z||"ondragstart"in Z&&"ondrop"in Z},fe.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},fe.rgba=function(){return t("background-color:rgba(150,255,150,.5)"),r(V.backgroundColor,"rgba")},fe.hsla=function(){return t("background-color:hsla(120,40%,100%,.5)"),r(V.backgroundColor,"rgba")||r(V.backgroundColor,"hsla")},fe.multiplebgs=function(){return t("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(V.background)},fe.backgroundsize=function(){return p("backgroundSize")},fe.borderimage=function(){return p("borderImage")},fe.borderradius=function(){return p("borderRadius")},fe.boxshadow=function(){return p("boxShadow")},fe.textshadow=function(){return i.createElement("div").style.textShadow===""},fe.opacity=function(){return s("opacity:.55"),/^0.55$/.test(V.opacity)},fe.cssanimations=function(){return p("animationName")},fe.csscolumns=function(){return p("columnCount")},fe.cssgradients=function(){var Z="background-image:",ae="gradient(linear,left top,right bottom,from(#9f9),to(white));",W="linear-gradient(left top,#9f9, white);";return t((Z+"-webkit- ".split(" ").join(ae+Z)+$e.join(W+Z)).slice(0,-Z.length)),r(V.backgroundImage,"gradient")},fe.cssreflections=function(){return p("boxReflect")},fe.csstransforms=function(){return!!p("transform")},fe.csstransforms3d=function(){var Z=!!p("perspective");return Z&&"webkitPerspective"in F.style&&ge("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(ae,W){Z=ae.offsetLeft===9&&ae.offsetHeight===3}),Z},fe.csstransitions=function(){return p("transition")},fe.fontface=function(){var Z;return ge('@font-face {font-family:"font";src:url("https://")}',function(ae,W){var pe=i.getElementById("smodernizr"),Ie=pe.sheet||pe.styleSheet,je=Ie?Ie.cssRules&&Ie.cssRules[0]?Ie.cssRules[0].cssText:Ie.cssText||"":"";Z=/src/i.test(je)&&je.indexOf(W.split(" ")[0])===0}),Z},fe.generatedcontent=function(){var Z;return ge(["#",O,"{font:0/0 a}#",O,':after{content:"',Oe,'";visibility:hidden;font:3px/1 a}'].join(""),function(ae){Z=ae.offsetHeight>=3}),Z},fe.video=function(){var Z=i.createElement("video"),ae=!1;try{(ae=!!Z.canPlayType)&&(ae=new Boolean(ae),ae.ogg=Z.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),ae.h264=Z.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),ae.webm=Z.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch{}return ae},fe.audio=function(){var Z=i.createElement("audio"),ae=!1;try{(ae=!!Z.canPlayType)&&(ae=new Boolean(ae),ae.ogg=Z.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),ae.mp3=Z.canPlayType("audio/mpeg;").replace(/^no$/,""),ae.wav=Z.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),ae.m4a=(Z.canPlayType("audio/x-m4a;")||Z.canPlayType("audio/aac;")).replace(/^no$/,""))}catch{}return ae},fe.localstorage=function(){try{return localStorage.setItem(O,O),localStorage.removeItem(O),!0}catch{return!1}},fe.sessionstorage=function(){try{return sessionStorage.setItem(O,O),sessionStorage.removeItem(O),!0}catch{return!1}},fe.webworkers=function(){return!!a.Worker},fe.applicationcache=function(){return!!a.applicationCache},fe.svg=function(){return!!i.createElementNS&&!!i.createElementNS(ze.svg,"svg").createSVGRect},fe.inlinesvg=function(){var Z=i.createElement("div");return Z.innerHTML="<svg/>",(Z.firstChild&&Z.firstChild.namespaceURI)==ze.svg},fe.smil=function(){return!!i.createElementNS&&/SVGAnimate/.test(he.call(i.createElementNS(ze.svg,"animate")))},fe.svgclippaths=function(){return!!i.createElementNS&&/SVGClipPath/.test(he.call(i.createElementNS(ze.svg,"clipPath")))};for(var Se in fe)_e(fe,Se)&&(Pe=Se.toLowerCase(),I[Pe]=fe[Se](),Le.push((I[Pe]?"":"no-")+Pe));return I.input||g(),I.addTest=function(Z,ae){if(typeof Z=="object")for(var W in Z)_e(Z,W)&&I.addTest(W,Z[W]);else{if(Z=Z.toLowerCase(),I[Z]!==e)return I;ae=typeof ae=="function"?ae():ae,F.className+=" "+(ae?"":"no-")+Z,I[Z]=ae}return I},t(""),X=be=null,function(Z,ae){function W(Ue,Xe){var et=Ue.createElement("p"),Pt=Ue.getElementsByTagName("head")[0]||Ue.documentElement;return et.innerHTML="x<style>"+Xe+"</style>",Pt.insertBefore(et.lastChild,Pt.firstChild)}function pe(){var Ue=Lt.elements;return typeof Ue=="string"?Ue.split(" "):Ue}function Ie(Ue){var Xe=wt[Ue[Re]];return Xe||(Xe={},lt++,Ue[Re]=lt,wt[lt]=Xe),Xe}function je(Ue,Xe,et){if(Xe||(Xe=ae),bt)return Xe.createElement(Ue);et||(et=Ie(Xe));var Pt;return et.cache[Ue]?Pt=et.cache[Ue].cloneNode():Q.test(Ue)?Pt=(et.cache[Ue]=et.createElem(Ue)).cloneNode():Pt=et.createElem(Ue),Pt.canHaveChildren&&!Y.test(Ue)&&!Pt.tagUrn?et.frag.appendChild(Pt):Pt}function mt(Ue,Xe){if(Ue||(Ue=ae),bt)return Ue.createDocumentFragment();Xe=Xe||Ie(Ue);for(var et=Xe.frag.cloneNode(),Pt=0,mi=pe(),Gi=mi.length;Pt<Gi;Pt++)et.createElement(mi[Pt]);return et}function yt(Ue,Xe){Xe.cache||(Xe.cache={},Xe.createElem=Ue.createElement,Xe.createFrag=Ue.createDocumentFragment,Xe.frag=Xe.createFrag()),Ue.createElement=function(et){return Lt.shivMethods?je(et,Ue,Xe):Xe.createElem(et)},Ue.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+pe().join().replace(/[\w\-]+/g,function(et){return Xe.createElem(et),Xe.frag.createElement(et),'c("'+et+'")'})+");return n}")(Lt,Xe.frag)}function pt(Ue){Ue||(Ue=ae);var Xe=Ie(Ue);return Lt.shivCSS&&!we&&!Xe.hasCSS&&(Xe.hasCSS=!!W(Ue,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),bt||yt(Ue,Xe),Ue}var ot="3.7.0",L=Z.html5||{},Y=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,Q=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,we,Re="_html5shiv",lt=0,wt={},bt;(function(){try{var Ue=ae.createElement("a");Ue.innerHTML="<xyz></xyz>",we="hidden"in Ue,bt=Ue.childNodes.length==1||function(){ae.createElement("a");var Xe=ae.createDocumentFragment();return typeof Xe.cloneNode>"u"||typeof Xe.createDocumentFragment>"u"||typeof Xe.createElement>"u"}()}catch{we=!0,bt=!0}})();var Lt={elements:L.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:ot,shivCSS:L.shivCSS!==!1,supportsUnknownElements:bt,shivMethods:L.shivMethods!==!1,type:"default",shivDocument:pt,createElement:je,createDocumentFragment:mt};Z.html5=Lt,pt(ae)}(this,i),I._version=S,I._prefixes=$e,I._domPrefixes=it,I._cssomPrefixes=de,I.mq=ce,I.hasEvent=Me,I.testProp=function(Z){return l([Z])},I.testAllProps=p,I.testStyles=ge,I.prefixed=function(Z,ae,W){return ae?p(Z,ae,W):p(Z,"pfx")},F.className=F.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+Le.join(" ")),I}(void 0,(void 0).document),function(a,i,e){function t(Le){return F.call(Le)=="[object Function]"}function s(Le){return typeof Le=="string"}function n(){}function r(Le){return!Le||Le=="loaded"||Le=="complete"||Le=="uninitialized"}function l(){var Le=O.shift();X=1,Le?Le.t?S(function(){(Le.t=="c"?Ne.injectCss:Ne.injectJs)(Le.s,0,Le.a,Le.x,Le.e,1)},0):(Le(),l()):X=0}function u(Le,Je,Pe,ge,ce,Me,Se){function _e(Ie){if(!ae&&r(Z.readyState)&&(pe.r=ae=1,!X&&l(),Z.onload=Z.onreadystatechange=null,Ie)){Le!="img"&&S(function(){Oe.removeChild(Z)},50);for(var je in ze[Je])ze[Je].hasOwnProperty(je)&&ze[Je][je].onload()}}var Se=Se||Ne.errorTimeout,Z=i.createElement(Le),ae=0,W=0,pe={t:Pe,s:Je,e:ce,a:Me,x:Se};ze[Je]===1&&(W=1,ze[Je]=[]),Le=="object"?Z.data=Je:(Z.src=Je,Z.type=Le),Z.width=Z.height="0",Z.onerror=Z.onload=Z.onreadystatechange=function(){_e.call(this,W)},O.splice(ge,0,pe),Le!="img"&&(W||ze[Je]===2?(Oe.insertBefore(Z,be?null:I),S(_e,Se)):ze[Je].push(Z))}function p(Le,Je,Pe,ge,ce){return X=0,Je=Je||"j",s(Le)?u(Je=="c"?b:$e,Le,Je,this.i++,Pe,ge,ce):(O.splice(this.i++,0,Le),O.length==1&&l()),this}function g(){var Le=Ne;return Le.loader={load:p,i:0},Le}var he=i.documentElement,S=a.setTimeout,I=i.getElementsByTagName("script")[0],F={}.toString,O=[],X=0,V="MozAppearance"in he.style,be=V&&!!i.createRange().compareNode,Oe=be?he:I.parentNode,he=a.opera&&F.call(a.opera)=="[object Opera]",he=!!i.attachEvent&&!he,$e=V?"object":he?"script":"img",b=he?"script":$e,de=Array.isArray||function(Le){return F.call(Le)=="[object Array]"},it=[],ze={},fe={timeout:function(Le,Je){return Je.length&&(Le.timeout=Je[0]),Le}},We,Ne;Ne=function(Le){function Je(Se){var Se=Se.split("!"),Z=it.length,W=Se.pop(),ae=Se.length,W={url:W,origUrl:W,prefixes:Se},pe,Ie,je;for(Ie=0;Ie<ae;Ie++)je=Se[Ie].split("="),(pe=fe[je.shift()])&&(W=pe(W,je));for(Ie=0;Ie<Z;Ie++)W=it[Ie](W);return W}function Pe(_e,Se,Z,ae,W){var pe=Je(_e),Ie=pe.autoCallback;pe.url.split(".").pop().split("?").shift(),pe.bypass||(Se&&(Se=t(Se)?Se:Se[_e]||Se[ae]||Se[_e.split("/").pop().split("?")[0]]),pe.instead?pe.instead(_e,Se,Z,ae,W):(ze[pe.url]?pe.noexec=!0:ze[pe.url]=1,Z.load(pe.url,pe.forceCSS||!pe.forceJS&&pe.url.split(".").pop().split("?").shift()=="css"?"c":e,pe.noexec,pe.attrs,pe.timeout),(t(Se)||t(Ie))&&Z.load(function(){g(),Se&&Se(pe.origUrl,W,ae),Ie&&Ie(pe.origUrl,W,ae),ze[pe.url]=2})))}function ge(_e,Se){function Z(pt,ot){if(pt){if(s(pt))ot||(pe=function(){var L=[].slice.call(arguments);Ie.apply(this,L),je()}),Pe(pt,pe,Se,0,ae);else if(Object(pt)===pt)for(yt in mt=function(){var L=0,Y;for(Y in pt)pt.hasOwnProperty(Y)&&L++;return L}(),pt)pt.hasOwnProperty(yt)&&(!ot&&!--mt&&(t(pe)?pe=function(){var L=[].slice.call(arguments);Ie.apply(this,L),je()}:pe[yt]=function(L){return function(){var Y=[].slice.call(arguments);L&&L.apply(this,Y),je()}}(Ie[yt])),Pe(pt[yt],pe,Se,yt,ae))}else!ot&&je()}var ae=!!_e.test,W=_e.load||_e.both,pe=_e.callback||n,Ie=pe,je=_e.complete||n,mt,yt;Z(ae?_e.yep:_e.nope,!!W),W&&Z(W)}var ce,Me,ve=this.yepnope.loader;if(s(Le))Pe(Le,0,ve,0);else if(de(Le))for(ce=0;ce<Le.length;ce++)Me=Le[ce],s(Me)?Pe(Me,0,ve,0):de(Me)?Ne(Me):Object(Me)===Me&&ge(Me,ve);else Object(Le)===Le&&ge(Le,ve)},Ne.addPrefix=function(Le,Je){fe[Le]=Je},Ne.addFilter=function(Le){it.push(Le)},Ne.errorTimeout=1e4,i.readyState==null&&i.addEventListener&&(i.readyState="loading",i.addEventListener("DOMContentLoaded",We=function(){i.removeEventListener("DOMContentLoaded",We,0),i.readyState="complete"},0)),a.yepnope=g(),a.yepnope.executeStack=l,a.yepnope.injectJs=function(Le,Je,Pe,Z,ce,Me){var ve=i.createElement("script"),_e,Se,Z=Z||Ne.errorTimeout;ve.src=Le;for(Se in Pe)ve.setAttribute(Se,Pe[Se]);Je=Me?l:Je||n,ve.onreadystatechange=ve.onload=function(){!_e&&r(ve.readyState)&&(_e=1,Je(),ve.onload=ve.onreadystatechange=null)},S(function(){_e||(_e=1,Je(1))},Z),ce?ve.onload():I.parentNode.insertBefore(ve,I)},a.yepnope.injectCss=function(Le,Se,Pe,ve,ce,Me){var ve=i.createElement("link"),_e,Se=Me?l:Se||n;ve.href=Le,ve.rel="stylesheet",ve.type="text/css";for(_e in Pe)ve.setAttribute(_e,Pe[_e]);ce||(I.parentNode.insertBefore(ve,I),S(Se,0))}}(void 0,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */(function(a,i){typeof module=="object"&&typeof module.exports=="object"?module.exports=a.document?i(a,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(a)})(typeof window<"u"?window:void 0,function(a,i){var e=[],t=Object.getPrototypeOf,s=e.slice,n=e.flat?function(d){return e.flat.call(d)}:function(d){return e.concat.apply([],d)},r=e.push,l=e.indexOf,u={},p=u.toString,g=u.hasOwnProperty,S=g.toString,I=S.call(Object),F={},O=function(d){return typeof d=="function"&&typeof d.nodeType!="number"&&typeof d.item!="function"},X=function(d){return d!=null&&d===d.window},V=a.document,be={type:!0,src:!0,nonce:!0,noModule:!0};function Oe(d,m,E){var x,_,M=(E=E||V).createElement("script");if(M.text=d,m)for(x in be)(_=m[x]||m.getAttribute&&m.getAttribute(x))&&M.setAttribute(x,_);E.head.appendChild(M).parentNode.removeChild(M)}function he(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?u[p.call(d)]||"object":typeof d}var $e="3.6.0",b=function(d,m){return new b.fn.init(d,m)};function de(d){var m=!!d&&"length"in d&&d.length,E=he(d);return!O(d)&&!X(d)&&(E==="array"||m===0||typeof m=="number"&&0<m&&m-1 in d)}b.fn=b.prototype={jquery:$e,constructor:b,length:0,toArray:function(){return s.call(this)},get:function(d){return d==null?s.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var m=b.merge(this.constructor(),d);return m.prevObject=this,m},each:function(d){return b.each(this,d)},map:function(d){return this.pushStack(b.map(this,function(m,E){return d.call(m,E,m)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(d,m){return(m+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(d,m){return m%2}))},eq:function(d){var m=this.length,E=+d+(d<0?m:0);return this.pushStack(0<=E&&E<m?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:e.sort,splice:e.splice},b.extend=b.fn.extend=function(){var d,m,E,x,_,M,A=arguments[0]||{},z=1,j=arguments.length,ee=!1;for(typeof A=="boolean"&&(ee=A,A=arguments[z]||{},z++),typeof A=="object"||O(A)||(A={}),z===j&&(A=this,z--);z<j;z++)if((d=arguments[z])!=null)for(m in d)x=d[m],m!=="__proto__"&&A!==x&&(ee&&x&&(b.isPlainObject(x)||(_=Array.isArray(x)))?(E=A[m],M=_&&!Array.isArray(E)?[]:_||b.isPlainObject(E)?E:{},_=!1,A[m]=b.extend(ee,M,x)):x!==void 0&&(A[m]=x));return A},b.extend({expando:"jQuery"+($e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var m,E;return!(!d||p.call(d)!=="[object Object]")&&(!(m=t(d))||typeof(E=g.call(m,"constructor")&&m.constructor)=="function"&&S.call(E)===I)},isEmptyObject:function(d){var m;for(m in d)return!1;return!0},globalEval:function(d,m,E){Oe(d,{nonce:m&&m.nonce},E)},each:function(d,m){var E,x=0;if(de(d))for(E=d.length;x<E&&m.call(d[x],x,d[x])!==!1;x++);else for(x in d)if(m.call(d[x],x,d[x])===!1)break;return d},makeArray:function(d,m){var E=m||[];return d!=null&&(de(Object(d))?b.merge(E,typeof d=="string"?[d]:d):r.call(E,d)),E},inArray:function(d,m,E){return m==null?-1:l.call(m,d,E)},merge:function(d,m){for(var E=+m.length,x=0,_=d.length;x<E;x++)d[_++]=m[x];return d.length=_,d},grep:function(d,m,E){for(var x=[],_=0,M=d.length,A=!E;_<M;_++)!m(d[_],_)!==A&&x.push(d[_]);return x},map:function(d,m,E){var x,_,M=0,A=[];if(de(d))for(x=d.length;M<x;M++)(_=m(d[M],M,E))!=null&&A.push(_);else for(M in d)(_=m(d[M],M,E))!=null&&A.push(_);return n(A)},guid:1,support:F}),typeof Symbol=="function"&&(b.fn[Symbol.iterator]=e[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,m){u["[object "+m+"]"]=m.toLowerCase()});var it=function(d){var m,E,x,_,M,A,z,j,ee,ne,ye,ie,se,Ge,Ke,qe,Gt,ii,fi,At="sizzle"+1*new Date,dt=d.document,hi=0,Ct=0,zt=bn(),un=bn(),yn=bn(),gi=bn(),Wi=function(N,G){return N===G&&(ye=!0),0},Zi={}.hasOwnProperty,pi=[],en=pi.pop,xi=pi.push,Ut=pi.push,yi=pi.slice,Ei=function(N,G){for(var J=0,ue=N.length;J<ue;J++)if(N[J]===G)return J;return-1},Ni="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ut="[\\x20\\t\\r\\n\\f]",_t="(?:\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ni="\\["+ut+"*("+_t+")(?:"+ut+"*([*^$|!~]?=)"+ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+_t+"))|)"+ut+"*\\]",wi=":("+_t+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ni+")*)|.*)\\)|)",Jt=new RegExp(ut+"+","g"),bi=new RegExp("^"+ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ut+"+$","g"),tn=new RegExp("^"+ut+"*,"+ut+"*"),En=new RegExp("^"+ut+"*([>+~]|"+ut+")"+ut+"*"),Ts=new RegExp(ut+"|>"),_s=new RegExp(wi),Is=new RegExp("^"+_t+"$"),wn={ID:new RegExp("^#("+_t+")"),CLASS:new RegExp("^\\.("+_t+")"),TAG:new RegExp("^("+_t+"|[*])"),ATTR:new RegExp("^"+ni),PSEUDO:new RegExp("^"+wi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ut+"*(even|odd|(([+-]|)(\\d*)n|)"+ut+"*(?:([+-]|)"+ut+"*(\\d+)|))"+ut+"*\\)|)","i"),bool:new RegExp("^(?:"+Ni+")$","i"),needsContext:new RegExp("^"+ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ut+"*((?:-\\d)?\\d*)"+ut+"*\\)|)(?=[^-]|$)","i")},Ds=/HTML$/i,Ms=/^(?:input|select|textarea|button)$/i,Ls=/^h\d$/i,hn=/^[^{]+\{\s*\[native \w/,As=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Pn=/[+~]/,Vi=new RegExp("\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\([^\\r\\n\\f])","g"),$i=function(N,G){var J="0x"+N.slice(1)-65536;return G||(J<0?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,1023&J|56320))},Wn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Yn=function(N,G){return G?N==="\0"?"":N.slice(0,-1)+"\\"+N.charCodeAt(N.length-1).toString(16)+" ":"\\"+N},Kn=function(){ie()},Ps=xn(function(N){return N.disabled===!0&&N.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ut.apply(pi=yi.call(dt.childNodes),dt.childNodes),pi[dt.childNodes.length].nodeType}catch{Ut={apply:pi.length?function(G,J){xi.apply(G,yi.call(J))}:function(G,J){for(var ue=G.length,te=0;G[ue++]=J[te++];);G.length=ue-1}}}function kt(N,G,J,ue){var te,xe,Te,ke,Be,ct,st,rt=G&&G.ownerDocument,Et=G?G.nodeType:9;if(J=J||[],typeof N!="string"||!N||Et!==1&&Et!==9&&Et!==11)return J;if(!ue&&(ie(G),G=G||se,Ke)){if(Et!==11&&(Be=As.exec(N)))if(te=Be[1]){if(Et===9){if(!(Te=G.getElementById(te)))return J;if(Te.id===te)return J.push(Te),J}else if(rt&&(Te=rt.getElementById(te))&&fi(G,Te)&&Te.id===te)return J.push(Te),J}else{if(Be[2])return Ut.apply(J,G.getElementsByTagName(N)),J;if((te=Be[3])&&E.getElementsByClassName&&G.getElementsByClassName)return Ut.apply(J,G.getElementsByClassName(te)),J}if(E.qsa&&!gi[N+" "]&&(!qe||!qe.test(N))&&(Et!==1||G.nodeName.toLowerCase()!=="object")){if(st=N,rt=G,Et===1&&(Ts.test(N)||En.test(N))){for((rt=Pn.test(N)&&kn(G.parentNode)||G)===G&&E.scope||((ke=G.getAttribute("id"))?ke=ke.replace(Wn,Yn):G.setAttribute("id",ke=At)),xe=(ct=A(N)).length;xe--;)ct[xe]=(ke?"#"+ke:":scope")+" "+Cn(ct[xe]);st=ct.join(",")}try{return Ut.apply(J,rt.querySelectorAll(st)),J}catch{gi(N,!0)}finally{ke===At&&G.removeAttribute("id")}}}return j(N.replace(bi,"$1"),G,J,ue)}function bn(){var N=[];return function G(J,ue){return N.push(J+" ")>x.cacheLength&&delete G[N.shift()],G[J+" "]=ue}}function Ii(N){return N[At]=!0,N}function Di(N){var G=se.createElement("fieldset");try{return!!N(G)}catch{return!1}finally{G.parentNode&&G.parentNode.removeChild(G),G=null}}function Nn(N,G){for(var J=N.split("|"),ue=J.length;ue--;)x.attrHandle[J[ue]]=G}function Xn(N,G){var J=G&&N,ue=J&&N.nodeType===1&&G.nodeType===1&&N.sourceIndex-G.sourceIndex;if(ue)return ue;if(J){for(;J=J.nextSibling;)if(J===G)return-1}return N?1:-1}function Ns(N){return function(G){return G.nodeName.toLowerCase()==="input"&&G.type===N}}function ks(N){return function(G){var J=G.nodeName.toLowerCase();return(J==="input"||J==="button")&&G.type===N}}function Qn(N){return function(G){return"form"in G?G.parentNode&&G.disabled===!1?"label"in G?"label"in G.parentNode?G.parentNode.disabled===N:G.disabled===N:G.isDisabled===N||G.isDisabled!==!N&&Ps(G)===N:G.disabled===N:"label"in G&&G.disabled===N}}function Yi(N){return Ii(function(G){return G=+G,Ii(function(J,ue){for(var te,xe=N([],J.length,G),Te=xe.length;Te--;)J[te=xe[Te]]&&(J[te]=!(ue[te]=J[te]))})})}function kn(N){return N&&typeof N.getElementsByTagName<"u"&&N}for(m in E=kt.support={},M=kt.isXML=function(N){var G=N&&N.namespaceURI,J=N&&(N.ownerDocument||N).documentElement;return!Ds.test(G||J&&J.nodeName||"HTML")},ie=kt.setDocument=function(N){var G,J,ue=N?N.ownerDocument||N:dt;return ue!=se&&ue.nodeType===9&&ue.documentElement&&(Ge=(se=ue).documentElement,Ke=!M(se),dt!=se&&(J=se.defaultView)&&J.top!==J&&(J.addEventListener?J.addEventListener("unload",Kn,!1):J.attachEvent&&J.attachEvent("onunload",Kn)),E.scope=Di(function(te){return Ge.appendChild(te).appendChild(se.createElement("div")),typeof te.querySelectorAll<"u"&&!te.querySelectorAll(":scope fieldset div").length}),E.attributes=Di(function(te){return te.className="i",!te.getAttribute("className")}),E.getElementsByTagName=Di(function(te){return te.appendChild(se.createComment("")),!te.getElementsByTagName("*").length}),E.getElementsByClassName=hn.test(se.getElementsByClassName),E.getById=Di(function(te){return Ge.appendChild(te).id=At,!se.getElementsByName||!se.getElementsByName(At).length}),E.getById?(x.filter.ID=function(te){var xe=te.replace(Vi,$i);return function(Te){return Te.getAttribute("id")===xe}},x.find.ID=function(te,xe){if(typeof xe.getElementById<"u"&&Ke){var Te=xe.getElementById(te);return Te?[Te]:[]}}):(x.filter.ID=function(te){var xe=te.replace(Vi,$i);return function(Te){var ke=typeof Te.getAttributeNode<"u"&&Te.getAttributeNode("id");return ke&&ke.value===xe}},x.find.ID=function(te,xe){if(typeof xe.getElementById<"u"&&Ke){var Te,ke,Be,ct=xe.getElementById(te);if(ct){if((Te=ct.getAttributeNode("id"))&&Te.value===te)return[ct];for(Be=xe.getElementsByName(te),ke=0;ct=Be[ke++];)if((Te=ct.getAttributeNode("id"))&&Te.value===te)return[ct]}return[]}}),x.find.TAG=E.getElementsByTagName?function(te,xe){return typeof xe.getElementsByTagName<"u"?xe.getElementsByTagName(te):E.qsa?xe.querySelectorAll(te):void 0}:function(te,xe){var Te,ke=[],Be=0,ct=xe.getElementsByTagName(te);if(te==="*"){for(;Te=ct[Be++];)Te.nodeType===1&&ke.push(Te);return ke}return ct},x.find.CLASS=E.getElementsByClassName&&function(te,xe){if(typeof xe.getElementsByClassName<"u"&&Ke)return xe.getElementsByClassName(te)},Gt=[],qe=[],(E.qsa=hn.test(se.querySelectorAll))&&(Di(function(te){var xe;Ge.appendChild(te).innerHTML="<a id='"+At+"'></a><select id='"+At+"-\r\\' msallowcapture=''><option selected=''></option></select>",te.querySelectorAll("[msallowcapture^='']").length&&qe.push("[*^$]="+ut+`*(?:''|"")`),te.querySelectorAll("[selected]").length||qe.push("\\["+ut+"*(?:value|"+Ni+")"),te.querySelectorAll("[id~="+At+"-]").length||qe.push("~="),(xe=se.createElement("input")).setAttribute("name",""),te.appendChild(xe),te.querySelectorAll("[name='']").length||qe.push("\\["+ut+"*name"+ut+"*="+ut+`*(?:''|"")`),te.querySelectorAll(":checked").length||qe.push(":checked"),te.querySelectorAll("a#"+At+"+*").length||qe.push(".#.+[+~]"),te.querySelectorAll("\\\f"),qe.push("[\\r\\n\\f]")}),Di(function(te){te.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var xe=se.createElement("input");xe.setAttribute("type","hidden"),te.appendChild(xe).setAttribute("name","D"),te.querySelectorAll("[name=d]").length&&qe.push("name"+ut+"*[*^$|!~]?="),te.querySelectorAll(":enabled").length!==2&&qe.push(":enabled",":disabled"),Ge.appendChild(te).disabled=!0,te.querySelectorAll(":disabled").length!==2&&qe.push(":enabled",":disabled"),te.querySelectorAll("*,:x"),qe.push(",.*:")})),(E.matchesSelector=hn.test(ii=Ge.matches||Ge.webkitMatchesSelector||Ge.mozMatchesSelector||Ge.oMatchesSelector||Ge.msMatchesSelector))&&Di(function(te){E.disconnectedMatch=ii.call(te,"*"),ii.call(te,"[s!='']:x"),Gt.push("!=",wi)}),qe=qe.length&&new RegExp(qe.join("|")),Gt=Gt.length&&new RegExp(Gt.join("|")),G=hn.test(Ge.compareDocumentPosition),fi=G||hn.test(Ge.contains)?function(te,xe){var Te=te.nodeType===9?te.documentElement:te,ke=xe&&xe.parentNode;return te===ke||!(!ke||ke.nodeType!==1||!(Te.contains?Te.contains(ke):te.compareDocumentPosition&&16&te.compareDocumentPosition(ke)))}:function(te,xe){if(xe){for(;xe=xe.parentNode;)if(xe===te)return!0}return!1},Wi=G?function(te,xe){if(te===xe)return ye=!0,0;var Te=!te.compareDocumentPosition-!xe.compareDocumentPosition;return Te||(1&(Te=(te.ownerDocument||te)==(xe.ownerDocument||xe)?te.compareDocumentPosition(xe):1)||!E.sortDetached&&xe.compareDocumentPosition(te)===Te?te==se||te.ownerDocument==dt&&fi(dt,te)?-1:xe==se||xe.ownerDocument==dt&&fi(dt,xe)?1:ne?Ei(ne,te)-Ei(ne,xe):0:4&Te?-1:1)}:function(te,xe){if(te===xe)return ye=!0,0;var Te,ke=0,Be=te.parentNode,ct=xe.parentNode,st=[te],rt=[xe];if(!Be||!ct)return te==se?-1:xe==se?1:Be?-1:ct?1:ne?Ei(ne,te)-Ei(ne,xe):0;if(Be===ct)return Xn(te,xe);for(Te=te;Te=Te.parentNode;)st.unshift(Te);for(Te=xe;Te=Te.parentNode;)rt.unshift(Te);for(;st[ke]===rt[ke];)ke++;return ke?Xn(st[ke],rt[ke]):st[ke]==dt?-1:rt[ke]==dt?1:0}),se},kt.matches=function(N,G){return kt(N,null,null,G)},kt.matchesSelector=function(N,G){if(ie(N),E.matchesSelector&&Ke&&!gi[G+" "]&&(!Gt||!Gt.test(G))&&(!qe||!qe.test(G)))try{var J=ii.call(N,G);if(J||E.disconnectedMatch||N.document&&N.document.nodeType!==11)return J}catch{gi(G,!0)}return 0<kt(G,se,null,[N]).length},kt.contains=function(N,G){return(N.ownerDocument||N)!=se&&ie(N),fi(N,G)},kt.attr=function(N,G){(N.ownerDocument||N)!=se&&ie(N);var J=x.attrHandle[G.toLowerCase()],ue=J&&Zi.call(x.attrHandle,G.toLowerCase())?J(N,G,!Ke):void 0;return ue!==void 0?ue:E.attributes||!Ke?N.getAttribute(G):(ue=N.getAttributeNode(G))&&ue.specified?ue.value:null},kt.escape=function(N){return(N+"").replace(Wn,Yn)},kt.error=function(N){throw new Error("Syntax error, unrecognized expression: "+N)},kt.uniqueSort=function(N){var G,J=[],ue=0,te=0;if(ye=!E.detectDuplicates,ne=!E.sortStable&&N.slice(0),N.sort(Wi),ye){for(;G=N[te++];)G===N[te]&&(ue=J.push(te));for(;ue--;)N.splice(J[ue],1)}return ne=null,N},_=kt.getText=function(N){var G,J="",ue=0,te=N.nodeType;if(te){if(te===1||te===9||te===11){if(typeof N.textContent=="string")return N.textContent;for(N=N.firstChild;N;N=N.nextSibling)J+=_(N)}else if(te===3||te===4)return N.nodeValue}else for(;G=N[ue++];)J+=_(G);return J},(x=kt.selectors={cacheLength:50,createPseudo:Ii,match:wn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(N){return N[1]=N[1].replace(Vi,$i),N[3]=(N[3]||N[4]||N[5]||"").replace(Vi,$i),N[2]==="~="&&(N[3]=" "+N[3]+" "),N.slice(0,4)},CHILD:function(N){return N[1]=N[1].toLowerCase(),N[1].slice(0,3)==="nth"?(N[3]||kt.error(N[0]),N[4]=+(N[4]?N[5]+(N[6]||1):2*(N[3]==="even"||N[3]==="odd")),N[5]=+(N[7]+N[8]||N[3]==="odd")):N[3]&&kt.error(N[0]),N},PSEUDO:function(N){var G,J=!N[6]&&N[2];return wn.CHILD.test(N[0])?null:(N[3]?N[2]=N[4]||N[5]||"":J&&_s.test(J)&&(G=A(J,!0))&&(G=J.indexOf(")",J.length-G)-J.length)&&(N[0]=N[0].slice(0,G),N[2]=J.slice(0,G)),N.slice(0,3))}},filter:{TAG:function(N){var G=N.replace(Vi,$i).toLowerCase();return N==="*"?function(){return!0}:function(J){return J.nodeName&&J.nodeName.toLowerCase()===G}},CLASS:function(N){var G=zt[N+" "];return G||(G=new RegExp("(^|"+ut+")"+N+"("+ut+"|$)"))&&zt(N,function(J){return G.test(typeof J.className=="string"&&J.className||typeof J.getAttribute<"u"&&J.getAttribute("class")||"")})},ATTR:function(N,G,J){return function(ue){var te=kt.attr(ue,N);return te==null?G==="!=":!G||(te+="",G==="="?te===J:G==="!="?te!==J:G==="^="?J&&te.indexOf(J)===0:G==="*="?J&&-1<te.indexOf(J):G==="$="?J&&te.slice(-J.length)===J:G==="~="?-1<(" "+te.replace(Jt," ")+" ").indexOf(J):G==="|="&&(te===J||te.slice(0,J.length+1)===J+"-"))}},CHILD:function(N,G,J,ue,te){var xe=N.slice(0,3)!=="nth",Te=N.slice(-4)!=="last",ke=G==="of-type";return ue===1&&te===0?function(Be){return!!Be.parentNode}:function(Be,ct,st){var rt,Et,Yt,ht,si,ri,ci=xe!==Te?"nextSibling":"previousSibling",Ft=Be.parentNode,ki=ke&&Be.nodeName.toLowerCase(),li=!st&&!ke,Zt=!1;if(Ft){if(xe){for(;ci;){for(ht=Be;ht=ht[ci];)if(ke?ht.nodeName.toLowerCase()===ki:ht.nodeType===1)return!1;ri=ci=N==="only"&&!ri&&"nextSibling"}return!0}if(ri=[Te?Ft.firstChild:Ft.lastChild],Te&&li){for(Zt=(si=(rt=(Et=(Yt=(ht=Ft)[At]||(ht[At]={}))[ht.uniqueID]||(Yt[ht.uniqueID]={}))[N]||[])[0]===hi&&rt[1])&&rt[2],ht=si&&Ft.childNodes[si];ht=++si&&ht&&ht[ci]||(Zt=si=0)||ri.pop();)if(ht.nodeType===1&&++Zt&&ht===Be){Et[N]=[hi,si,Zt];break}}else if(li&&(Zt=si=(rt=(Et=(Yt=(ht=Be)[At]||(ht[At]={}))[ht.uniqueID]||(Yt[ht.uniqueID]={}))[N]||[])[0]===hi&&rt[1]),Zt===!1)for(;(ht=++si&&ht&&ht[ci]||(Zt=si=0)||ri.pop())&&!((ke?ht.nodeName.toLowerCase()===ki:ht.nodeType===1)&&++Zt&&(li&&((Et=(Yt=ht[At]||(ht[At]={}))[ht.uniqueID]||(Yt[ht.uniqueID]={}))[N]=[hi,Zt]),ht===Be)););return(Zt-=te)===ue||Zt%ue==0&&0<=Zt/ue}}},PSEUDO:function(N,G){var J,ue=x.pseudos[N]||x.setFilters[N.toLowerCase()]||kt.error("unsupported pseudo: "+N);return ue[At]?ue(G):1<ue.length?(J=[N,N,"",G],x.setFilters.hasOwnProperty(N.toLowerCase())?Ii(function(te,xe){for(var Te,ke=ue(te,G),Be=ke.length;Be--;)te[Te=Ei(te,ke[Be])]=!(xe[Te]=ke[Be])}):function(te){return ue(te,0,J)}):ue}},pseudos:{not:Ii(function(N){var G=[],J=[],ue=z(N.replace(bi,"$1"));return ue[At]?Ii(function(te,xe,Te,ke){for(var Be,ct=ue(te,null,ke,[]),st=te.length;st--;)(Be=ct[st])&&(te[st]=!(xe[st]=Be))}):function(te,xe,Te){return G[0]=te,ue(G,null,Te,J),G[0]=null,!J.pop()}}),has:Ii(function(N){return function(G){return 0<kt(N,G).length}}),contains:Ii(function(N){return N=N.replace(Vi,$i),function(G){return-1<(G.textContent||_(G)).indexOf(N)}}),lang:Ii(function(N){return Is.test(N||"")||kt.error("unsupported lang: "+N),N=N.replace(Vi,$i).toLowerCase(),function(G){var J;do if(J=Ke?G.lang:G.getAttribute("xml:lang")||G.getAttribute("lang"))return(J=J.toLowerCase())===N||J.indexOf(N+"-")===0;while((G=G.parentNode)&&G.nodeType===1);return!1}}),target:function(N){var G=d.location&&d.location.hash;return G&&G.slice(1)===N.id},root:function(N){return N===Ge},focus:function(N){return N===se.activeElement&&(!se.hasFocus||se.hasFocus())&&!!(N.type||N.href||~N.tabIndex)},enabled:Qn(!1),disabled:Qn(!0),checked:function(N){var G=N.nodeName.toLowerCase();return G==="input"&&!!N.checked||G==="option"&&!!N.selected},selected:function(N){return N.parentNode&&N.parentNode.selectedIndex,N.selected===!0},empty:function(N){for(N=N.firstChild;N;N=N.nextSibling)if(N.nodeType<6)return!1;return!0},parent:function(N){return!x.pseudos.empty(N)},header:function(N){return Ls.test(N.nodeName)},input:function(N){return Ms.test(N.nodeName)},button:function(N){var G=N.nodeName.toLowerCase();return G==="input"&&N.type==="button"||G==="button"},text:function(N){var G;return N.nodeName.toLowerCase()==="input"&&N.type==="text"&&((G=N.getAttribute("type"))==null||G.toLowerCase()==="text")},first:Yi(function(){return[0]}),last:Yi(function(N,G){return[G-1]}),eq:Yi(function(N,G,J){return[J<0?J+G:J]}),even:Yi(function(N,G){for(var J=0;J<G;J+=2)N.push(J);return N}),odd:Yi(function(N,G){for(var J=1;J<G;J+=2)N.push(J);return N}),lt:Yi(function(N,G,J){for(var ue=J<0?J+G:G<J?G:J;0<=--ue;)N.push(ue);return N}),gt:Yi(function(N,G,J){for(var ue=J<0?J+G:J;++ue<G;)N.push(ue);return N})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[m]=Ns(m);for(m in{submit:!0,reset:!0})x.pseudos[m]=ks(m);function Jn(){}function Cn(N){for(var G=0,J=N.length,ue="";G<J;G++)ue+=N[G].value;return ue}function xn(N,G,J){var ue=G.dir,te=G.next,xe=te||ue,Te=J&&xe==="parentNode",ke=Ct++;return G.first?function(Be,ct,st){for(;Be=Be[ue];)if(Be.nodeType===1||Te)return N(Be,ct,st);return!1}:function(Be,ct,st){var rt,Et,Yt,ht=[hi,ke];if(st){for(;Be=Be[ue];)if((Be.nodeType===1||Te)&&N(Be,ct,st))return!0}else for(;Be=Be[ue];)if(Be.nodeType===1||Te)if(Et=(Yt=Be[At]||(Be[At]={}))[Be.uniqueID]||(Yt[Be.uniqueID]={}),te&&te===Be.nodeName.toLowerCase())Be=Be[ue]||Be;else{if((rt=Et[xe])&&rt[0]===hi&&rt[1]===ke)return ht[2]=rt[2];if((Et[xe]=ht)[2]=N(Be,ct,st))return!0}return!1}}function Fn(N){return 1<N.length?function(G,J,ue){for(var te=N.length;te--;)if(!N[te](G,J,ue))return!1;return!0}:N[0]}function Sn(N,G,J,ue,te){for(var xe,Te=[],ke=0,Be=N.length,ct=G!=null;ke<Be;ke++)(xe=N[ke])&&(J&&!J(xe,ue,te)||(Te.push(xe),ct&&G.push(ke)));return Te}function On(N,G,J,ue,te,xe){return ue&&!ue[At]&&(ue=On(ue)),te&&!te[At]&&(te=On(te,xe)),Ii(function(Te,ke,Be,ct){var st,rt,Et,Yt=[],ht=[],si=ke.length,ri=Te||function(ki,li,Zt){for(var Mi=0,Tn=li.length;Mi<Tn;Mi++)kt(ki,li[Mi],Zt);return Zt}(G||"*",Be.nodeType?[Be]:Be,[]),ci=!N||!Te&&G?ri:Sn(ri,Yt,N,Be,ct),Ft=J?te||(Te?N:si||ue)?[]:ke:ci;if(J&&J(ci,Ft,Be,ct),ue)for(st=Sn(Ft,ht),ue(st,[],Be,ct),rt=st.length;rt--;)(Et=st[rt])&&(Ft[ht[rt]]=!(ci[ht[rt]]=Et));if(Te){if(te||N){if(te){for(st=[],rt=Ft.length;rt--;)(Et=Ft[rt])&&st.push(ci[rt]=Et);te(null,Ft=[],st,ct)}for(rt=Ft.length;rt--;)(Et=Ft[rt])&&-1<(st=te?Ei(Te,Et):Yt[rt])&&(Te[st]=!(ke[st]=Et))}}else Ft=Sn(Ft===ke?Ft.splice(si,Ft.length):Ft),te?te(null,ke,Ft,ct):Ut.apply(ke,Ft)})}function Rn(N){for(var G,J,ue,te=N.length,xe=x.relative[N[0].type],Te=xe||x.relative[" "],ke=xe?1:0,Be=xn(function(rt){return rt===G},Te,!0),ct=xn(function(rt){return-1<Ei(G,rt)},Te,!0),st=[function(rt,Et,Yt){var ht=!xe&&(Yt||Et!==ee)||((G=Et).nodeType?Be(rt,Et,Yt):ct(rt,Et,Yt));return G=null,ht}];ke<te;ke++)if(J=x.relative[N[ke].type])st=[xn(Fn(st),J)];else{if((J=x.filter[N[ke].type].apply(null,N[ke].matches))[At]){for(ue=++ke;ue<te&&!x.relative[N[ue].type];ue++);return On(1<ke&&Fn(st),1<ke&&Cn(N.slice(0,ke-1).concat({value:N[ke-2].type===" "?"*":""})).replace(bi,"$1"),J,ke<ue&&Rn(N.slice(ke,ue)),ue<te&&Rn(N=N.slice(ue)),ue<te&&Cn(N))}st.push(J)}return Fn(st)}return Jn.prototype=x.filters=x.pseudos,x.setFilters=new Jn,A=kt.tokenize=function(N,G){var J,ue,te,xe,Te,ke,Be,ct=un[N+" "];if(ct)return G?0:ct.slice(0);for(Te=N,ke=[],Be=x.preFilter;Te;){for(xe in J&&!(ue=tn.exec(Te))||(ue&&(Te=Te.slice(ue[0].length)||Te),ke.push(te=[])),J=!1,(ue=En.exec(Te))&&(J=ue.shift(),te.push({value:J,type:ue[0].replace(bi," ")}),Te=Te.slice(J.length)),x.filter)!(ue=wn[xe].exec(Te))||Be[xe]&&!(ue=Be[xe](ue))||(J=ue.shift(),te.push({value:J,type:xe,matches:ue}),Te=Te.slice(J.length));if(!J)break}return G?Te.length:Te?kt.error(N):un(N,ke).slice(0)},z=kt.compile=function(N,G){var J,ue,te,xe,Te,ke,Be=[],ct=[],st=yn[N+" "];if(!st){for(G||(G=A(N)),J=G.length;J--;)(st=Rn(G[J]))[At]?Be.push(st):ct.push(st);(st=yn(N,(ue=ct,xe=0<(te=Be).length,Te=0<ue.length,ke=function(rt,Et,Yt,ht,si){var ri,ci,Ft,ki=0,li="0",Zt=rt&&[],Mi=[],Tn=ee,Zn=rt||Te&&x.find.TAG("*",si),es=hi+=Tn==null?1:Math.random()||.1,Fs=Zn.length;for(si&&(ee=Et==se||Et||si);li!==Fs&&(ri=Zn[li])!=null;li++){if(Te&&ri){for(ci=0,Et||ri.ownerDocument==se||(ie(ri),Yt=!Ke);Ft=ue[ci++];)if(Ft(ri,Et||se,Yt)){ht.push(ri);break}si&&(hi=es)}xe&&((ri=!Ft&&ri)&&ki--,rt&&Zt.push(ri))}if(ki+=li,xe&&li!==ki){for(ci=0;Ft=te[ci++];)Ft(Zt,Mi,Et,Yt);if(rt){if(0<ki)for(;li--;)Zt[li]||Mi[li]||(Mi[li]=en.call(ht));Mi=Sn(Mi)}Ut.apply(ht,Mi),si&&!rt&&0<Mi.length&&1<ki+te.length&&kt.uniqueSort(ht)}return si&&(hi=es,ee=Tn),Zt},xe?Ii(ke):ke))).selector=N}return st},j=kt.select=function(N,G,J,ue){var te,xe,Te,ke,Be,ct=typeof N=="function"&&N,st=!ue&&A(N=ct.selector||N);if(J=J||[],st.length===1){if(2<(xe=st[0]=st[0].slice(0)).length&&(Te=xe[0]).type==="ID"&&G.nodeType===9&&Ke&&x.relative[xe[1].type]){if(!(G=(x.find.ID(Te.matches[0].replace(Vi,$i),G)||[])[0]))return J;ct&&(G=G.parentNode),N=N.slice(xe.shift().value.length)}for(te=wn.needsContext.test(N)?0:xe.length;te--&&(Te=xe[te],!x.relative[ke=Te.type]);)if((Be=x.find[ke])&&(ue=Be(Te.matches[0].replace(Vi,$i),Pn.test(xe[0].type)&&kn(G.parentNode)||G))){if(xe.splice(te,1),!(N=ue.length&&Cn(xe)))return Ut.apply(J,ue),J;break}}return(ct||z(N,st))(ue,G,!Ke,J,!G||Pn.test(N)&&kn(G.parentNode)||G),J},E.sortStable=At.split("").sort(Wi).join("")===At,E.detectDuplicates=!!ye,ie(),E.sortDetached=Di(function(N){return 1&N.compareDocumentPosition(se.createElement("fieldset"))}),Di(function(N){return N.innerHTML="<a href='#'></a>",N.firstChild.getAttribute("href")==="#"})||Nn("type|href|height|width",function(N,G,J){if(!J)return N.getAttribute(G,G.toLowerCase()==="type"?1:2)}),E.attributes&&Di(function(N){return N.innerHTML="<input/>",N.firstChild.setAttribute("value",""),N.firstChild.getAttribute("value")===""})||Nn("value",function(N,G,J){if(!J&&N.nodeName.toLowerCase()==="input")return N.defaultValue}),Di(function(N){return N.getAttribute("disabled")==null})||Nn(Ni,function(N,G,J){var ue;if(!J)return N[G]===!0?G.toLowerCase():(ue=N.getAttributeNode(G))&&ue.specified?ue.value:null}),kt}(a);b.find=it,b.expr=it.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=it.uniqueSort,b.text=it.getText,b.isXMLDoc=it.isXML,b.contains=it.contains,b.escapeSelector=it.escape;var ze=function(d,m,E){for(var x=[],_=E!==void 0;(d=d[m])&&d.nodeType!==9;)if(d.nodeType===1){if(_&&b(d).is(E))break;x.push(d)}return x},fe=function(d,m){for(var E=[];d;d=d.nextSibling)d.nodeType===1&&d!==m&&E.push(d);return E},We=b.expr.match.needsContext;function Ne(d,m){return d.nodeName&&d.nodeName.toLowerCase()===m.toLowerCase()}var Le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Je(d,m,E){return O(m)?b.grep(d,function(x,_){return!!m.call(x,_,x)!==E}):m.nodeType?b.grep(d,function(x){return x===m!==E}):typeof m!="string"?b.grep(d,function(x){return-1<l.call(m,x)!==E}):b.filter(m,d,E)}b.filter=function(d,m,E){var x=m[0];return E&&(d=":not("+d+")"),m.length===1&&x.nodeType===1?b.find.matchesSelector(x,d)?[x]:[]:b.find.matches(d,b.grep(m,function(_){return _.nodeType===1}))},b.fn.extend({find:function(d){var m,E,x=this.length,_=this;if(typeof d!="string")return this.pushStack(b(d).filter(function(){for(m=0;m<x;m++)if(b.contains(_[m],this))return!0}));for(E=this.pushStack([]),m=0;m<x;m++)b.find(d,_[m],E);return 1<x?b.uniqueSort(E):E},filter:function(d){return this.pushStack(Je(this,d||[],!1))},not:function(d){return this.pushStack(Je(this,d||[],!0))},is:function(d){return!!Je(this,typeof d=="string"&&We.test(d)?b(d):d||[],!1).length}});var Pe,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(d,m,E){var x,_;if(!d)return this;if(E=E||Pe,typeof d=="string"){if(!(x=d[0]==="<"&&d[d.length-1]===">"&&3<=d.length?[null,d,null]:ge.exec(d))||!x[1]&&m)return!m||m.jquery?(m||E).find(d):this.constructor(m).find(d);if(x[1]){if(m=m instanceof b?m[0]:m,b.merge(this,b.parseHTML(x[1],m&&m.nodeType?m.ownerDocument||m:V,!0)),Le.test(x[1])&&b.isPlainObject(m))for(x in m)O(this[x])?this[x](m[x]):this.attr(x,m[x]);return this}return(_=V.getElementById(x[2]))&&(this[0]=_,this.length=1),this}return d.nodeType?(this[0]=d,this.length=1,this):O(d)?E.ready!==void 0?E.ready(d):d(b):b.makeArray(d,this)}).prototype=b.fn,Pe=b(V);var ce=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};function ve(d,m){for(;(d=d[m])&&d.nodeType!==1;);return d}b.fn.extend({has:function(d){var m=b(d,this),E=m.length;return this.filter(function(){for(var x=0;x<E;x++)if(b.contains(this,m[x]))return!0})},closest:function(d,m){var E,x=0,_=this.length,M=[],A=typeof d!="string"&&b(d);if(!We.test(d)){for(;x<_;x++)for(E=this[x];E&&E!==m;E=E.parentNode)if(E.nodeType<11&&(A?-1<A.index(E):E.nodeType===1&&b.find.matchesSelector(E,d))){M.push(E);break}}return this.pushStack(1<M.length?b.uniqueSort(M):M)},index:function(d){return d?typeof d=="string"?l.call(b(d),this[0]):l.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,m){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(d,m))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}}),b.each({parent:function(d){var m=d.parentNode;return m&&m.nodeType!==11?m:null},parents:function(d){return ze(d,"parentNode")},parentsUntil:function(d,m,E){return ze(d,"parentNode",E)},next:function(d){return ve(d,"nextSibling")},prev:function(d){return ve(d,"previousSibling")},nextAll:function(d){return ze(d,"nextSibling")},prevAll:function(d){return ze(d,"previousSibling")},nextUntil:function(d,m,E){return ze(d,"nextSibling",E)},prevUntil:function(d,m,E){return ze(d,"previousSibling",E)},siblings:function(d){return fe((d.parentNode||{}).firstChild,d)},children:function(d){return fe(d.firstChild)},contents:function(d){return d.contentDocument!=null&&t(d.contentDocument)?d.contentDocument:(Ne(d,"template")&&(d=d.content||d),b.merge([],d.childNodes))}},function(d,m){b.fn[d]=function(E,x){var _=b.map(this,m,E);return d.slice(-5)!=="Until"&&(x=E),x&&typeof x=="string"&&(_=b.filter(x,_)),1<this.length&&(Me[d]||b.uniqueSort(_),ce.test(d)&&_.reverse()),this.pushStack(_)}});var _e=/[^\x20\t\r\n\f]+/g;function Se(d){return d}function Z(d){throw d}function ae(d,m,E,x){var _;try{d&&O(_=d.promise)?_.call(d).done(m).fail(E):d&&O(_=d.then)?_.call(d,m,E):m.apply(void 0,[d].slice(x))}catch(M){E.apply(void 0,[M])}}b.Callbacks=function(d){var m,E;d=typeof d=="string"?(m=d,E={},b.each(m.match(_e)||[],function(ie,se){E[se]=!0}),E):b.extend({},d);var x,_,M,A,z=[],j=[],ee=-1,ne=function(){for(A=A||d.once,M=x=!0;j.length;ee=-1)for(_=j.shift();++ee<z.length;)z[ee].apply(_[0],_[1])===!1&&d.stopOnFalse&&(ee=z.length,_=!1);d.memory||(_=!1),x=!1,A&&(z=_?[]:"")},ye={add:function(){return z&&(_&&!x&&(ee=z.length-1,j.push(_)),function ie(se){b.each(se,function(Ge,Ke){O(Ke)?d.unique&&ye.has(Ke)||z.push(Ke):Ke&&Ke.length&&he(Ke)!=="string"&&ie(Ke)})}(arguments),_&&!x&&ne()),this},remove:function(){return b.each(arguments,function(ie,se){for(var Ge;-1<(Ge=b.inArray(se,z,Ge));)z.splice(Ge,1),Ge<=ee&&ee--}),this},has:function(ie){return ie?-1<b.inArray(ie,z):0<z.length},empty:function(){return z&&(z=[]),this},disable:function(){return A=j=[],z=_="",this},disabled:function(){return!z},lock:function(){return A=j=[],_||x||(z=_=""),this},locked:function(){return!!A},fireWith:function(ie,se){return A||(se=[ie,(se=se||[]).slice?se.slice():se],j.push(se),x||ne()),this},fire:function(){return ye.fireWith(this,arguments),this},fired:function(){return!!M}};return ye},b.extend({Deferred:function(d){var m=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],E="pending",x={state:function(){return E},always:function(){return _.done(arguments).fail(arguments),this},catch:function(M){return x.then(null,M)},pipe:function(){var M=arguments;return b.Deferred(function(A){b.each(m,function(z,j){var ee=O(M[j[4]])&&M[j[4]];_[j[1]](function(){var ne=ee&&ee.apply(this,arguments);ne&&O(ne.promise)?ne.promise().progress(A.notify).done(A.resolve).fail(A.reject):A[j[0]+"With"](this,ee?[ne]:arguments)})}),M=null}).promise()},then:function(M,A,z){var j=0;function ee(ne,ye,ie,se){return function(){var Ge=this,Ke=arguments,qe=function(){var ii,fi;if(!(ne<j)){if((ii=ie.apply(Ge,Ke))===ye.promise())throw new TypeError("Thenable self-resolution");fi=ii&&(typeof ii=="object"||typeof ii=="function")&&ii.then,O(fi)?se?fi.call(ii,ee(j,ye,Se,se),ee(j,ye,Z,se)):(j++,fi.call(ii,ee(j,ye,Se,se),ee(j,ye,Z,se),ee(j,ye,Se,ye.notifyWith))):(ie!==Se&&(Ge=void 0,Ke=[ii]),(se||ye.resolveWith)(Ge,Ke))}},Gt=se?qe:function(){try{qe()}catch(ii){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(ii,Gt.stackTrace),j<=ne+1&&(ie!==Z&&(Ge=void 0,Ke=[ii]),ye.rejectWith(Ge,Ke))}};ne?Gt():(b.Deferred.getStackHook&&(Gt.stackTrace=b.Deferred.getStackHook()),a.setTimeout(Gt))}}return b.Deferred(function(ne){m[0][3].add(ee(0,ne,O(z)?z:Se,ne.notifyWith)),m[1][3].add(ee(0,ne,O(M)?M:Se)),m[2][3].add(ee(0,ne,O(A)?A:Z))}).promise()},promise:function(M){return M!=null?b.extend(M,x):x}},_={};return b.each(m,function(M,A){var z=A[2],j=A[5];x[A[1]]=z.add,j&&z.add(function(){E=j},m[3-M][2].disable,m[3-M][3].disable,m[0][2].lock,m[0][3].lock),z.add(A[3].fire),_[A[0]]=function(){return _[A[0]+"With"](this===_?void 0:this,arguments),this},_[A[0]+"With"]=z.fireWith}),x.promise(_),d&&d.call(_,_),_},when:function(d){var m=arguments.length,E=m,x=Array(E),_=s.call(arguments),M=b.Deferred(),A=function(z){return function(j){x[z]=this,_[z]=1<arguments.length?s.call(arguments):j,--m||M.resolveWith(x,_)}};if(m<=1&&(ae(d,M.done(A(E)).resolve,M.reject,!m),M.state()==="pending"||O(_[E]&&_[E].then)))return M.then();for(;E--;)ae(_[E],A(E),M.reject);return M.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(d,m){a.console&&a.console.warn&&d&&W.test(d.name)&&a.console.warn("jQuery.Deferred exception: "+d.message,d.stack,m)},b.readyException=function(d){a.setTimeout(function(){throw d})};var pe=b.Deferred();function Ie(){V.removeEventListener("DOMContentLoaded",Ie),a.removeEventListener("load",Ie),b.ready()}b.fn.ready=function(d){return pe.then(d).catch(function(m){b.readyException(m)}),this},b.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--b.readyWait:b.isReady)||(b.isReady=!0)!==d&&0<--b.readyWait||pe.resolveWith(V,[b])}}),b.ready.then=pe.then,V.readyState==="complete"||V.readyState!=="loading"&&!V.documentElement.doScroll?a.setTimeout(b.ready):(V.addEventListener("DOMContentLoaded",Ie),a.addEventListener("load",Ie));var je=function(d,m,E,x,_,M,A){var z=0,j=d.length,ee=E==null;if(he(E)==="object")for(z in _=!0,E)je(d,m,z,E[z],!0,M,A);else if(x!==void 0&&(_=!0,O(x)||(A=!0),ee&&(A?(m.call(d,x),m=null):(ee=m,m=function(ne,ye,ie){return ee.call(b(ne),ie)})),m))for(;z<j;z++)m(d[z],E,A?x:x.call(d[z],z,m(d[z],E)));return _?d:ee?m.call(d):j?m(d[0],E):M},mt=/^-ms-/,yt=/-([a-z])/g;function pt(d,m){return m.toUpperCase()}function ot(d){return d.replace(mt,"ms-").replace(yt,pt)}var L=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function Y(){this.expando=b.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(d){var m=d[this.expando];return m||(m={},L(d)&&(d.nodeType?d[this.expando]=m:Object.defineProperty(d,this.expando,{value:m,configurable:!0}))),m},set:function(d,m,E){var x,_=this.cache(d);if(typeof m=="string")_[ot(m)]=E;else for(x in m)_[ot(x)]=m[x];return _},get:function(d,m){return m===void 0?this.cache(d):d[this.expando]&&d[this.expando][ot(m)]},access:function(d,m,E){return m===void 0||m&&typeof m=="string"&&E===void 0?this.get(d,m):(this.set(d,m,E),E!==void 0?E:m)},remove:function(d,m){var E,x=d[this.expando];if(x!==void 0){if(m!==void 0)for(E=(m=Array.isArray(m)?m.map(ot):(m=ot(m))in x?[m]:m.match(_e)||[]).length;E--;)delete x[m[E]];(m===void 0||b.isEmptyObject(x))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var m=d[this.expando];return m!==void 0&&!b.isEmptyObject(m)}};var Q=new Y,we=new Y,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,lt=/[A-Z]/g;function wt(d,m,E){var x,_;if(E===void 0&&d.nodeType===1)if(x="data-"+m.replace(lt,"-$&").toLowerCase(),typeof(E=d.getAttribute(x))=="string"){try{E=(_=E)==="true"||_!=="false"&&(_==="null"?null:_===+_+""?+_:Re.test(_)?JSON.parse(_):_)}catch{}we.set(d,m,E)}else E=void 0;return E}b.extend({hasData:function(d){return we.hasData(d)||Q.hasData(d)},data:function(d,m,E){return we.access(d,m,E)},removeData:function(d,m){we.remove(d,m)},_data:function(d,m,E){return Q.access(d,m,E)},_removeData:function(d,m){Q.remove(d,m)}}),b.fn.extend({data:function(d,m){var E,x,_,M=this[0],A=M&&M.attributes;if(d===void 0){if(this.length&&(_=we.get(M),M.nodeType===1&&!Q.get(M,"hasDataAttrs"))){for(E=A.length;E--;)A[E]&&(x=A[E].name).indexOf("data-")===0&&(x=ot(x.slice(5)),wt(M,x,_[x]));Q.set(M,"hasDataAttrs",!0)}return _}return typeof d=="object"?this.each(function(){we.set(this,d)}):je(this,function(z){var j;if(M&&z===void 0)return(j=we.get(M,d))!==void 0||(j=wt(M,d))!==void 0?j:void 0;this.each(function(){we.set(this,d,z)})},null,m,1<arguments.length,null,!0)},removeData:function(d){return this.each(function(){we.remove(this,d)})}}),b.extend({queue:function(d,m,E){var x;if(d)return m=(m||"fx")+"queue",x=Q.get(d,m),E&&(!x||Array.isArray(E)?x=Q.access(d,m,b.makeArray(E)):x.push(E)),x||[]},dequeue:function(d,m){m=m||"fx";var E=b.queue(d,m),x=E.length,_=E.shift(),M=b._queueHooks(d,m);_==="inprogress"&&(_=E.shift(),x--),_&&(m==="fx"&&E.unshift("inprogress"),delete M.stop,_.call(d,function(){b.dequeue(d,m)},M)),!x&&M&&M.empty.fire()},_queueHooks:function(d,m){var E=m+"queueHooks";return Q.get(d,E)||Q.access(d,E,{empty:b.Callbacks("once memory").add(function(){Q.remove(d,[m+"queue",E])})})}}),b.fn.extend({queue:function(d,m){var E=2;return typeof d!="string"&&(m=d,d="fx",E--),arguments.length<E?b.queue(this[0],d):m===void 0?this:this.each(function(){var x=b.queue(this,d,m);b._queueHooks(this,d),d==="fx"&&x[0]!=="inprogress"&&b.dequeue(this,d)})},dequeue:function(d){return this.each(function(){b.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,m){var E,x=1,_=b.Deferred(),M=this,A=this.length,z=function(){--x||_.resolveWith(M,[M])};for(typeof d!="string"&&(m=d,d=void 0),d=d||"fx";A--;)(E=Q.get(M[A],d+"queueHooks"))&&E.empty&&(x++,E.empty.add(z));return z(),_.promise(m)}});var bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+bt+")([a-z%]*)$","i"),Ue=["Top","Right","Bottom","Left"],Xe=V.documentElement,et=function(d){return b.contains(d.ownerDocument,d)},Pt={composed:!0};Xe.getRootNode&&(et=function(d){return b.contains(d.ownerDocument,d)||d.getRootNode(Pt)===d.ownerDocument});var mi=function(d,m){return(d=m||d).style.display==="none"||d.style.display===""&&et(d)&&b.css(d,"display")==="none"};function Gi(d,m,E,x){var _,M,A=20,z=x?function(){return x.cur()}:function(){return b.css(d,m,"")},j=z(),ee=E&&E[3]||(b.cssNumber[m]?"":"px"),ne=d.nodeType&&(b.cssNumber[m]||ee!=="px"&&+j)&&Lt.exec(b.css(d,m));if(ne&&ne[3]!==ee){for(j/=2,ee=ee||ne[3],ne=+j||1;A--;)b.style(d,m,ne+ee),(1-M)*(1-(M=z()/j||.5))<=0&&(A=0),ne/=M;ne*=2,b.style(d,m,ne+ee),E=E||[]}return E&&(ne=+ne||+j||0,_=E[1]?ne+(E[1]+1)*E[2]:+E[2],x&&(x.unit=ee,x.start=ne,x.end=_)),_}var Ji={};function Ai(d,m){for(var E,x,_,M,A,z,j,ee=[],ne=0,ye=d.length;ne<ye;ne++)(x=d[ne]).style&&(E=x.style.display,m?(E==="none"&&(ee[ne]=Q.get(x,"display")||null,ee[ne]||(x.style.display="")),x.style.display===""&&mi(x)&&(ee[ne]=(j=A=M=void 0,A=(_=x).ownerDocument,z=_.nodeName,(j=Ji[z])||(M=A.body.appendChild(A.createElement(z)),j=b.css(M,"display"),M.parentNode.removeChild(M),j==="none"&&(j="block"),Ji[z]=j)))):E!=="none"&&(ee[ne]="none",Q.set(x,"display",E)));for(ne=0;ne<ye;ne++)ee[ne]!=null&&(d[ne].style.display=ee[ne]);return d}b.fn.extend({show:function(){return Ai(this,!0)},hide:function(){return Ai(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){mi(this)?b(this).show():b(this).hide()})}});var _i,zi,Oi=/^(?:checkbox|radio)$/i,o=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,c=/^$|^module$|\/(?:java|ecma)script/i;_i=V.createDocumentFragment().appendChild(V.createElement("div")),(zi=V.createElement("input")).setAttribute("type","radio"),zi.setAttribute("checked","checked"),zi.setAttribute("name","t"),_i.appendChild(zi),F.checkClone=_i.cloneNode(!0).cloneNode(!0).lastChild.checked,_i.innerHTML="<textarea>x</textarea>",F.noCloneChecked=!!_i.cloneNode(!0).lastChild.defaultValue,_i.innerHTML="<option></option>",F.option=!!_i.lastChild;var h={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function f(d,m){var E;return E=typeof d.getElementsByTagName<"u"?d.getElementsByTagName(m||"*"):typeof d.querySelectorAll<"u"?d.querySelectorAll(m||"*"):[],m===void 0||m&&Ne(d,m)?b.merge([d],E):E}function C(d,m){for(var E=0,x=d.length;E<x;E++)Q.set(d[E],"globalEval",!m||Q.get(m[E],"globalEval"))}h.tbody=h.tfoot=h.colgroup=h.caption=h.thead,h.th=h.td,F.option||(h.optgroup=h.option=[1,"<select multiple='multiple'>","</select>"]);var w=/<|&#?\w+;/;function D(d,m,E,x,_){for(var M,A,z,j,ee,ne,ye=m.createDocumentFragment(),ie=[],se=0,Ge=d.length;se<Ge;se++)if((M=d[se])||M===0)if(he(M)==="object")b.merge(ie,M.nodeType?[M]:M);else if(w.test(M)){for(A=A||ye.appendChild(m.createElement("div")),z=(o.exec(M)||["",""])[1].toLowerCase(),j=h[z]||h._default,A.innerHTML=j[1]+b.htmlPrefilter(M)+j[2],ne=j[0];ne--;)A=A.lastChild;b.merge(ie,A.childNodes),(A=ye.firstChild).textContent=""}else ie.push(m.createTextNode(M));for(ye.textContent="",se=0;M=ie[se++];)if(x&&-1<b.inArray(M,x))_&&_.push(M);else if(ee=et(M),A=f(ye.appendChild(M),"script"),ee&&C(A),E)for(ne=0;M=A[ne++];)c.test(M.type||"")&&E.push(M);return ye}var k=/^([^.]*)(?:\.(.+)|)/;function R(){return!0}function H(){return!1}function U(d,m){return d===function(){try{return V.activeElement}catch{}}()==(m==="focus")}function oe(d,m,E,x,_,M){var A,z;if(typeof m=="object"){for(z in typeof E!="string"&&(x=x||E,E=void 0),m)oe(d,z,E,x,m[z],M);return d}if(x==null&&_==null?(_=E,x=E=void 0):_==null&&(typeof E=="string"?(_=x,x=void 0):(_=x,x=E,E=void 0)),_===!1)_=H;else if(!_)return d;return M===1&&(A=_,(_=function(j){return b().off(j),A.apply(this,arguments)}).guid=A.guid||(A.guid=b.guid++)),d.each(function(){b.event.add(this,m,_,x,E)})}function re(d,m,E){E?(Q.set(d,m,!1),b.event.add(d,m,{namespace:!1,handler:function(x){var _,M,A=Q.get(this,m);if(1&x.isTrigger&&this[m]){if(A.length)(b.event.special[m]||{}).delegateType&&x.stopPropagation();else if(A=s.call(arguments),Q.set(this,m,A),_=E(this,m),this[m](),A!==(M=Q.get(this,m))||_?Q.set(this,m,!1):M={},A!==M)return x.stopImmediatePropagation(),x.preventDefault(),M&&M.value}else A.length&&(Q.set(this,m,{value:b.event.trigger(b.extend(A[0],b.Event.prototype),A.slice(1),this)}),x.stopImmediatePropagation())}})):Q.get(d,m)===void 0&&b.event.add(d,m,R)}b.event={global:{},add:function(d,m,E,x,_){var M,A,z,j,ee,ne,ye,ie,se,Ge,Ke,qe=Q.get(d);if(L(d))for(E.handler&&(E=(M=E).handler,_=M.selector),_&&b.find.matchesSelector(Xe,_),E.guid||(E.guid=b.guid++),(j=qe.events)||(j=qe.events=Object.create(null)),(A=qe.handle)||(A=qe.handle=function(Gt){return typeof b<"u"&&b.event.triggered!==Gt.type?b.event.dispatch.apply(d,arguments):void 0}),ee=(m=(m||"").match(_e)||[""]).length;ee--;)se=Ke=(z=k.exec(m[ee])||[])[1],Ge=(z[2]||"").split(".").sort(),se&&(ye=b.event.special[se]||{},se=(_?ye.delegateType:ye.bindType)||se,ye=b.event.special[se]||{},ne=b.extend({type:se,origType:Ke,data:x,handler:E,guid:E.guid,selector:_,needsContext:_&&b.expr.match.needsContext.test(_),namespace:Ge.join(".")},M),(ie=j[se])||((ie=j[se]=[]).delegateCount=0,ye.setup&&ye.setup.call(d,x,Ge,A)!==!1||d.addEventListener&&d.addEventListener(se,A)),ye.add&&(ye.add.call(d,ne),ne.handler.guid||(ne.handler.guid=E.guid)),_?ie.splice(ie.delegateCount++,0,ne):ie.push(ne),b.event.global[se]=!0)},remove:function(d,m,E,x,_){var M,A,z,j,ee,ne,ye,ie,se,Ge,Ke,qe=Q.hasData(d)&&Q.get(d);if(qe&&(j=qe.events)){for(ee=(m=(m||"").match(_e)||[""]).length;ee--;)if(se=Ke=(z=k.exec(m[ee])||[])[1],Ge=(z[2]||"").split(".").sort(),se){for(ye=b.event.special[se]||{},ie=j[se=(x?ye.delegateType:ye.bindType)||se]||[],z=z[2]&&new RegExp("(^|\\.)"+Ge.join("\\.(?:.*\\.|)")+"(\\.|$)"),A=M=ie.length;M--;)ne=ie[M],!_&&Ke!==ne.origType||E&&E.guid!==ne.guid||z&&!z.test(ne.namespace)||x&&x!==ne.selector&&(x!=="**"||!ne.selector)||(ie.splice(M,1),ne.selector&&ie.delegateCount--,ye.remove&&ye.remove.call(d,ne));A&&!ie.length&&(ye.teardown&&ye.teardown.call(d,Ge,qe.handle)!==!1||b.removeEvent(d,se,qe.handle),delete j[se])}else for(se in j)b.event.remove(d,se+m[ee],E,x,!0);b.isEmptyObject(j)&&Q.remove(d,"handle events")}},dispatch:function(d){var m,E,x,_,M,A,z=new Array(arguments.length),j=b.event.fix(d),ee=(Q.get(this,"events")||Object.create(null))[j.type]||[],ne=b.event.special[j.type]||{};for(z[0]=j,m=1;m<arguments.length;m++)z[m]=arguments[m];if(j.delegateTarget=this,!ne.preDispatch||ne.preDispatch.call(this,j)!==!1){for(A=b.event.handlers.call(this,j,ee),m=0;(_=A[m++])&&!j.isPropagationStopped();)for(j.currentTarget=_.elem,E=0;(M=_.handlers[E++])&&!j.isImmediatePropagationStopped();)j.rnamespace&&M.namespace!==!1&&!j.rnamespace.test(M.namespace)||(j.handleObj=M,j.data=M.data,(x=((b.event.special[M.origType]||{}).handle||M.handler).apply(_.elem,z))!==void 0&&(j.result=x)===!1&&(j.preventDefault(),j.stopPropagation()));return ne.postDispatch&&ne.postDispatch.call(this,j),j.result}},handlers:function(d,m){var E,x,_,M,A,z=[],j=m.delegateCount,ee=d.target;if(j&&ee.nodeType&&!(d.type==="click"&&1<=d.button)){for(;ee!==this;ee=ee.parentNode||this)if(ee.nodeType===1&&(d.type!=="click"||ee.disabled!==!0)){for(M=[],A={},E=0;E<j;E++)A[_=(x=m[E]).selector+" "]===void 0&&(A[_]=x.needsContext?-1<b(_,this).index(ee):b.find(_,this,null,[ee]).length),A[_]&&M.push(x);M.length&&z.push({elem:ee,handlers:M})}}return ee=this,j<m.length&&z.push({elem:ee,handlers:m.slice(j)}),z},addProp:function(d,m){Object.defineProperty(b.Event.prototype,d,{enumerable:!0,configurable:!0,get:O(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(E){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(d){return d[b.expando]?d:new b.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var m=this||d;return Oi.test(m.type)&&m.click&&Ne(m,"input")&&re(m,"click",R),!1},trigger:function(d){var m=this||d;return Oi.test(m.type)&&m.click&&Ne(m,"input")&&re(m,"click"),!0},_default:function(d){var m=d.target;return Oi.test(m.type)&&m.click&&Ne(m,"input")&&Q.get(m,"click")||Ne(m,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},b.removeEvent=function(d,m,E){d.removeEventListener&&d.removeEventListener(m,E)},b.Event=function(d,m){if(!(this instanceof b.Event))return new b.Event(d,m);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?R:H,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,m&&b.extend(this,m),this.timeStamp=d&&d.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=R,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=R,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=R,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(d,m){b.event.special[d]={setup:function(){return re(this,d,U),!1},trigger:function(){return re(this,d),!0},_default:function(){return!0},delegateType:m}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,m){b.event.special[d]={delegateType:m,bindType:m,handle:function(E){var x,_=E.relatedTarget,M=E.handleObj;return _&&(_===this||b.contains(this,_))||(E.type=M.origType,x=M.handler.apply(this,arguments),E.type=m),x}}}),b.fn.extend({on:function(d,m,E,x){return oe(this,d,m,E,x)},one:function(d,m,E,x){return oe(this,d,m,E,x,1)},off:function(d,m,E){var x,_;if(d&&d.preventDefault&&d.handleObj)return x=d.handleObj,b(d.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof d=="object"){for(_ in d)this.off(_,m,d[_]);return this}return m!==!1&&typeof m!="function"||(E=m,m=void 0),E===!1&&(E=H),this.each(function(){b.event.remove(this,d,E,m)})}});var me=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function He(d,m){return Ne(d,"table")&&Ne(m.nodeType!==11?m:m.firstChild,"tr")&&b(d).children("tbody")[0]||d}function Fe(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function Ve(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function le(d,m){var E,x,_,M,A,z;if(m.nodeType===1){if(Q.hasData(d)&&(z=Q.get(d).events))for(_ in Q.remove(m,"handle events"),z)for(E=0,x=z[_].length;E<x;E++)b.event.add(m,_,z[_][E]);we.hasData(d)&&(M=we.access(d),A=b.extend({},M),we.set(m,A))}}function Ze(d,m,E,x){m=n(m);var _,M,A,z,j,ee,ne=0,ye=d.length,ie=ye-1,se=m[0],Ge=O(se);if(Ge||1<ye&&typeof se=="string"&&!F.checkClone&&Ce.test(se))return d.each(function(Ke){var qe=d.eq(Ke);Ge&&(m[0]=se.call(this,Ke,qe.html())),Ze(qe,m,E,x)});if(ye&&(M=(_=D(m,d[0].ownerDocument,!1,d,x)).firstChild,_.childNodes.length===1&&(_=M),M||x)){for(z=(A=b.map(f(_,"script"),Fe)).length;ne<ye;ne++)j=_,ne!==ie&&(j=b.clone(j,!0,!0),z&&b.merge(A,f(j,"script"))),E.call(d[ne],j,ne);if(z)for(ee=A[A.length-1].ownerDocument,b.map(A,Ve),ne=0;ne<z;ne++)j=A[ne],c.test(j.type||"")&&!Q.access(j,"globalEval")&&b.contains(ee,j)&&(j.src&&(j.type||"").toLowerCase()!=="module"?b._evalUrl&&!j.noModule&&b._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")},ee):Oe(j.textContent.replace(Ae,""),j,ee))}return d}function ft(d,m,E){for(var x,_=m?b.filter(m,d):d,M=0;(x=_[M])!=null;M++)E||x.nodeType!==1||b.cleanData(f(x)),x.parentNode&&(E&&et(x)&&C(f(x,"script")),x.parentNode.removeChild(x));return d}b.extend({htmlPrefilter:function(d){return d},clone:function(d,m,E){var x,_,M,A,z,j,ee,ne=d.cloneNode(!0),ye=et(d);if(!(F.noCloneChecked||d.nodeType!==1&&d.nodeType!==11||b.isXMLDoc(d)))for(A=f(ne),x=0,_=(M=f(d)).length;x<_;x++)z=M[x],j=A[x],(ee=j.nodeName.toLowerCase())==="input"&&Oi.test(z.type)?j.checked=z.checked:ee!=="input"&&ee!=="textarea"||(j.defaultValue=z.defaultValue);if(m)if(E)for(M=M||f(d),A=A||f(ne),x=0,_=M.length;x<_;x++)le(M[x],A[x]);else le(d,ne);return 0<(A=f(ne,"script")).length&&C(A,!ye&&f(d,"script")),ne},cleanData:function(d){for(var m,E,x,_=b.event.special,M=0;(E=d[M])!==void 0;M++)if(L(E)){if(m=E[Q.expando]){if(m.events)for(x in m.events)_[x]?b.event.remove(E,x):b.removeEvent(E,x,m.handle);E[Q.expando]=void 0}E[we.expando]&&(E[we.expando]=void 0)}}}),b.fn.extend({detach:function(d){return ft(this,d,!0)},remove:function(d){return ft(this,d)},text:function(d){return je(this,function(m){return m===void 0?b.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=m)})},null,d,arguments.length)},append:function(){return Ze(this,arguments,function(d){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||He(this,d).appendChild(d)})},prepend:function(){return Ze(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=He(this,d);m.insertBefore(d,m.firstChild)}})},before:function(){return Ze(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return Ze(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,m=0;(d=this[m])!=null;m++)d.nodeType===1&&(b.cleanData(f(d,!1)),d.textContent="");return this},clone:function(d,m){return d=d!=null&&d,m=m??d,this.map(function(){return b.clone(this,d,m)})},html:function(d){return je(this,function(m){var E=this[0]||{},x=0,_=this.length;if(m===void 0&&E.nodeType===1)return E.innerHTML;if(typeof m=="string"&&!me.test(m)&&!h[(o.exec(m)||["",""])[1].toLowerCase()]){m=b.htmlPrefilter(m);try{for(;x<_;x++)(E=this[x]||{}).nodeType===1&&(b.cleanData(f(E,!1)),E.innerHTML=m);E=0}catch{}}E&&this.empty().append(m)},null,d,arguments.length)},replaceWith:function(){var d=[];return Ze(this,arguments,function(m){var E=this.parentNode;b.inArray(this,d)<0&&(b.cleanData(f(this)),E&&E.replaceChild(m,this))},d)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,m){b.fn[d]=function(E){for(var x,_=[],M=b(E),A=M.length-1,z=0;z<=A;z++)x=z===A?this:this.clone(!0),b(M[z])[m](x),r.apply(_,x.get());return this.pushStack(_)}});var Tt=new RegExp("^("+bt+")(?!px)[a-z%]+$","i"),Qe=function(d){var m=d.ownerDocument.defaultView;return m&&m.opener||(m=a),m.getComputedStyle(d)},vt=function(d,m,E){var x,_,M={};for(_ in m)M[_]=d.style[_],d.style[_]=m[_];for(_ in x=E.call(d),m)d.style[_]=M[_];return x},Dt=new RegExp(Ue.join("|"),"i");function Wt(d,m,E){var x,_,M,A,z=d.style;return(E=E||Qe(d))&&((A=E.getPropertyValue(m)||E[m])!==""||et(d)||(A=b.style(d,m)),!F.pixelBoxStyles()&&Tt.test(A)&&Dt.test(m)&&(x=z.width,_=z.minWidth,M=z.maxWidth,z.minWidth=z.maxWidth=z.width=A,A=E.width,z.width=x,z.minWidth=_,z.maxWidth=M)),A!==void 0?A+"":A}function qt(d,m){return{get:function(){if(!d())return(this.get=m).apply(this,arguments);delete this.get}}}(function(){function d(){if(ee){j.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ee.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Xe.appendChild(j).appendChild(ee);var ne=a.getComputedStyle(ee);E=ne.top!=="1%",z=m(ne.marginLeft)===12,ee.style.right="60%",M=m(ne.right)===36,x=m(ne.width)===36,ee.style.position="absolute",_=m(ee.offsetWidth/3)===12,Xe.removeChild(j),ee=null}}function m(ne){return Math.round(parseFloat(ne))}var E,x,_,M,A,z,j=V.createElement("div"),ee=V.createElement("div");ee.style&&(ee.style.backgroundClip="content-box",ee.cloneNode(!0).style.backgroundClip="",F.clearCloneStyle=ee.style.backgroundClip==="content-box",b.extend(F,{boxSizingReliable:function(){return d(),x},pixelBoxStyles:function(){return d(),M},pixelPosition:function(){return d(),E},reliableMarginLeft:function(){return d(),z},scrollboxSize:function(){return d(),_},reliableTrDimensions:function(){var ne,ye,ie,se;return A==null&&(ne=V.createElement("table"),ye=V.createElement("tr"),ie=V.createElement("div"),ne.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ye.style.cssText="border:1px solid",ye.style.height="1px",ie.style.height="9px",ie.style.display="block",Xe.appendChild(ne).appendChild(ye).appendChild(ie),se=a.getComputedStyle(ye),A=parseInt(se.height,10)+parseInt(se.borderTopWidth,10)+parseInt(se.borderBottomWidth,10)===ye.offsetHeight,Xe.removeChild(ne)),A}}))})();var nt=["Webkit","Moz","ms"],xt=V.createElement("div").style,Ot={};function Xt(d){var m=b.cssProps[d]||Ot[d];return m||(d in xt?d:Ot[d]=function(E){for(var x=E[0].toUpperCase()+E.slice(1),_=nt.length;_--;)if((E=nt[_]+x)in xt)return E}(d)||d)}var ei=/^(none|table(?!-c[ea]).+)/,di=/^--/,qi={position:"absolute",visibility:"hidden",display:"block"},Pi={letterSpacing:"0",fontWeight:"400"};function q(d,m,E){var x=Lt.exec(m);return x?Math.max(0,x[2]-(E||0))+(x[3]||"px"):m}function v(d,m,E,x,_,M){var A=m==="width"?1:0,z=0,j=0;if(E===(x?"border":"content"))return 0;for(;A<4;A+=2)E==="margin"&&(j+=b.css(d,E+Ue[A],!0,_)),x?(E==="content"&&(j-=b.css(d,"padding"+Ue[A],!0,_)),E!=="margin"&&(j-=b.css(d,"border"+Ue[A]+"Width",!0,_))):(j+=b.css(d,"padding"+Ue[A],!0,_),E!=="padding"?j+=b.css(d,"border"+Ue[A]+"Width",!0,_):z+=b.css(d,"border"+Ue[A]+"Width",!0,_));return!x&&0<=M&&(j+=Math.max(0,Math.ceil(d["offset"+m[0].toUpperCase()+m.slice(1)]-M-j-z-.5))||0),j}function T(d,m,E){var x=Qe(d),_=(!F.boxSizingReliable()||E)&&b.css(d,"boxSizing",!1,x)==="border-box",M=_,A=Wt(d,m,x),z="offset"+m[0].toUpperCase()+m.slice(1);if(Tt.test(A)){if(!E)return A;A="auto"}return(!F.boxSizingReliable()&&_||!F.reliableTrDimensions()&&Ne(d,"tr")||A==="auto"||!parseFloat(A)&&b.css(d,"display",!1,x)==="inline")&&d.getClientRects().length&&(_=b.css(d,"boxSizing",!1,x)==="border-box",(M=z in d)&&(A=d[z])),(A=parseFloat(A)||0)+v(d,m,E||(_?"border":"content"),M,x,A)+"px"}function B(d,m,E,x,_){return new B.prototype.init(d,m,E,x,_)}b.extend({cssHooks:{opacity:{get:function(d,m){if(m){var E=Wt(d,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(d,m,E,x){if(d&&d.nodeType!==3&&d.nodeType!==8&&d.style){var _,M,A,z=ot(m),j=di.test(m),ee=d.style;if(j||(m=Xt(z)),A=b.cssHooks[m]||b.cssHooks[z],E===void 0)return A&&"get"in A&&(_=A.get(d,!1,x))!==void 0?_:ee[m];(M=typeof E)=="string"&&(_=Lt.exec(E))&&_[1]&&(E=Gi(d,m,_),M="number"),E!=null&&E==E&&(M!=="number"||j||(E+=_&&_[3]||(b.cssNumber[z]?"":"px")),F.clearCloneStyle||E!==""||m.indexOf("background")!==0||(ee[m]="inherit"),A&&"set"in A&&(E=A.set(d,E,x))===void 0||(j?ee.setProperty(m,E):ee[m]=E))}},css:function(d,m,E,x){var _,M,A,z=ot(m);return di.test(m)||(m=Xt(z)),(A=b.cssHooks[m]||b.cssHooks[z])&&"get"in A&&(_=A.get(d,!0,E)),_===void 0&&(_=Wt(d,m,x)),_==="normal"&&m in Pi&&(_=Pi[m]),E===""||E?(M=parseFloat(_),E===!0||isFinite(M)?M||0:_):_}}),b.each(["height","width"],function(d,m){b.cssHooks[m]={get:function(E,x,_){if(x)return!ei.test(b.css(E,"display"))||E.getClientRects().length&&E.getBoundingClientRect().width?T(E,m,_):vt(E,qi,function(){return T(E,m,_)})},set:function(E,x,_){var M,A=Qe(E),z=!F.scrollboxSize()&&A.position==="absolute",j=(z||_)&&b.css(E,"boxSizing",!1,A)==="border-box",ee=_?v(E,m,_,j,A):0;return j&&z&&(ee-=Math.ceil(E["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(A[m])-v(E,m,"border",!1,A)-.5)),ee&&(M=Lt.exec(x))&&(M[3]||"px")!=="px"&&(E.style[m]=x,x=b.css(E,m)),q(0,x,ee)}}}),b.cssHooks.marginLeft=qt(F.reliableMarginLeft,function(d,m){if(m)return(parseFloat(Wt(d,"marginLeft"))||d.getBoundingClientRect().left-vt(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(d,m){b.cssHooks[d+m]={expand:function(E){for(var x=0,_={},M=typeof E=="string"?E.split(" "):[E];x<4;x++)_[d+Ue[x]+m]=M[x]||M[x-2]||M[0];return _}},d!=="margin"&&(b.cssHooks[d+m].set=q)}),b.fn.extend({css:function(d,m){return je(this,function(E,x,_){var M,A,z={},j=0;if(Array.isArray(x)){for(M=Qe(E),A=x.length;j<A;j++)z[x[j]]=b.css(E,x[j],!1,M);return z}return _!==void 0?b.style(E,x,_):b.css(E,x)},d,m,1<arguments.length)}}),((b.Tween=B).prototype={constructor:B,init:function(d,m,E,x,_,M){this.elem=d,this.prop=E,this.easing=_||b.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=x,this.unit=M||(b.cssNumber[E]?"":"px")},cur:function(){var d=B.propHooks[this.prop];return d&&d.get?d.get(this):B.propHooks._default.get(this)},run:function(d){var m,E=B.propHooks[this.prop];return this.options.duration?this.pos=m=b.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=m=d,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):B.propHooks._default.set(this),this}}).init.prototype=B.prototype,(B.propHooks={_default:{get:function(d){var m;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(m=b.css(d.elem,d.prop,""))&&m!=="auto"?m:0},set:function(d){b.fx.step[d.prop]?b.fx.step[d.prop](d):d.elem.nodeType!==1||!b.cssHooks[d.prop]&&d.elem.style[Xt(d.prop)]==null?d.elem[d.prop]=d.now:b.style(d.elem,d.prop,d.now+d.unit)}}}).scrollTop=B.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},b.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},b.fx=B.prototype.init,b.fx.step={};var K,Ee,De,at,gt=/^(?:toggle|show|hide)$/,Vt=/queueHooks$/;function Rt(){Ee&&(V.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(Rt):a.setTimeout(Rt,b.fx.interval),b.fx.tick())}function St(){return a.setTimeout(function(){K=void 0}),K=Date.now()}function Ht(d,m){var E,x=0,_={height:d};for(m=m?1:0;x<4;x+=2-m)_["margin"+(E=Ue[x])]=_["padding"+E]=d;return m&&(_.opacity=_.width=d),_}function Bt(d,m,E){for(var x,_=(Nt.tweeners[m]||[]).concat(Nt.tweeners["*"]),M=0,A=_.length;M<A;M++)if(x=_[M].call(E,m,d))return x}function Nt(d,m,E){var x,_,M=0,A=Nt.prefilters.length,z=b.Deferred().always(function(){delete j.elem}),j=function(){if(_)return!1;for(var ye=K||St(),ie=Math.max(0,ee.startTime+ee.duration-ye),se=1-(ie/ee.duration||0),Ge=0,Ke=ee.tweens.length;Ge<Ke;Ge++)ee.tweens[Ge].run(se);return z.notifyWith(d,[ee,se,ie]),se<1&&Ke?ie:(Ke||z.notifyWith(d,[ee,1,0]),z.resolveWith(d,[ee]),!1)},ee=z.promise({elem:d,props:b.extend({},m),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},E),originalProperties:m,originalOptions:E,startTime:K||St(),duration:E.duration,tweens:[],createTween:function(ye,ie){var se=b.Tween(d,ee.opts,ye,ie,ee.opts.specialEasing[ye]||ee.opts.easing);return ee.tweens.push(se),se},stop:function(ye){var ie=0,se=ye?ee.tweens.length:0;if(_)return this;for(_=!0;ie<se;ie++)ee.tweens[ie].run(1);return ye?(z.notifyWith(d,[ee,1,0]),z.resolveWith(d,[ee,ye])):z.rejectWith(d,[ee,ye]),this}}),ne=ee.props;for(!function(ye,ie){var se,Ge,Ke,qe,Gt;for(se in ye)if(Ke=ie[Ge=ot(se)],qe=ye[se],Array.isArray(qe)&&(Ke=qe[1],qe=ye[se]=qe[0]),se!==Ge&&(ye[Ge]=qe,delete ye[se]),(Gt=b.cssHooks[Ge])&&"expand"in Gt)for(se in qe=Gt.expand(qe),delete ye[Ge],qe)se in ye||(ye[se]=qe[se],ie[se]=Ke);else ie[Ge]=Ke}(ne,ee.opts.specialEasing);M<A;M++)if(x=Nt.prefilters[M].call(ee,d,ne,ee.opts))return O(x.stop)&&(b._queueHooks(ee.elem,ee.opts.queue).stop=x.stop.bind(x)),x;return b.map(ne,Bt,ee),O(ee.opts.start)&&ee.opts.start.call(d,ee),ee.progress(ee.opts.progress).done(ee.opts.done,ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always),b.fx.timer(b.extend(j,{elem:d,anim:ee,queue:ee.opts.queue})),ee}b.Animation=b.extend(Nt,{tweeners:{"*":[function(d,m){var E=this.createTween(d,m);return Gi(E.elem,d,Lt.exec(m),E),E}]},tweener:function(d,m){O(d)?(m=d,d=["*"]):d=d.match(_e);for(var E,x=0,_=d.length;x<_;x++)E=d[x],Nt.tweeners[E]=Nt.tweeners[E]||[],Nt.tweeners[E].unshift(m)},prefilters:[function(d,m,E){var x,_,M,A,z,j,ee,ne,ye="width"in m||"height"in m,ie=this,se={},Ge=d.style,Ke=d.nodeType&&mi(d),qe=Q.get(d,"fxshow");for(x in E.queue||((A=b._queueHooks(d,"fx")).unqueued==null&&(A.unqueued=0,z=A.empty.fire,A.empty.fire=function(){A.unqueued||z()}),A.unqueued++,ie.always(function(){ie.always(function(){A.unqueued--,b.queue(d,"fx").length||A.empty.fire()})})),m)if(_=m[x],gt.test(_)){if(delete m[x],M=M||_==="toggle",_===(Ke?"hide":"show")){if(_!=="show"||!qe||qe[x]===void 0)continue;Ke=!0}se[x]=qe&&qe[x]||b.style(d,x)}if((j=!b.isEmptyObject(m))||!b.isEmptyObject(se))for(x in ye&&d.nodeType===1&&(E.overflow=[Ge.overflow,Ge.overflowX,Ge.overflowY],(ee=qe&&qe.display)==null&&(ee=Q.get(d,"display")),(ne=b.css(d,"display"))==="none"&&(ee?ne=ee:(Ai([d],!0),ee=d.style.display||ee,ne=b.css(d,"display"),Ai([d]))),(ne==="inline"||ne==="inline-block"&&ee!=null)&&b.css(d,"float")==="none"&&(j||(ie.done(function(){Ge.display=ee}),ee==null&&(ne=Ge.display,ee=ne==="none"?"":ne)),Ge.display="inline-block")),E.overflow&&(Ge.overflow="hidden",ie.always(function(){Ge.overflow=E.overflow[0],Ge.overflowX=E.overflow[1],Ge.overflowY=E.overflow[2]})),j=!1,se)j||(qe?"hidden"in qe&&(Ke=qe.hidden):qe=Q.access(d,"fxshow",{display:ee}),M&&(qe.hidden=!Ke),Ke&&Ai([d],!0),ie.done(function(){for(x in Ke||Ai([d]),Q.remove(d,"fxshow"),se)b.style(d,x,se[x])})),j=Bt(Ke?qe[x]:0,x,ie),x in qe||(qe[x]=j.start,Ke&&(j.end=j.start,j.start=0))}],prefilter:function(d,m){m?Nt.prefilters.unshift(d):Nt.prefilters.push(d)}}),b.speed=function(d,m,E){var x=d&&typeof d=="object"?b.extend({},d):{complete:E||!E&&m||O(d)&&d,duration:d,easing:E&&m||m&&!O(m)&&m};return b.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in b.fx.speeds?x.duration=b.fx.speeds[x.duration]:x.duration=b.fx.speeds._default),x.queue!=null&&x.queue!==!0||(x.queue="fx"),x.old=x.complete,x.complete=function(){O(x.old)&&x.old.call(this),x.queue&&b.dequeue(this,x.queue)},x},b.fn.extend({fadeTo:function(d,m,E,x){return this.filter(mi).css("opacity",0).show().end().animate({opacity:m},d,E,x)},animate:function(d,m,E,x){var _=b.isEmptyObject(d),M=b.speed(m,E,x),A=function(){var z=Nt(this,b.extend({},d),M);(_||Q.get(this,"finish"))&&z.stop(!0)};return A.finish=A,_||M.queue===!1?this.each(A):this.queue(M.queue,A)},stop:function(d,m,E){var x=function(_){var M=_.stop;delete _.stop,M(E)};return typeof d!="string"&&(E=m,m=d,d=void 0),m&&this.queue(d||"fx",[]),this.each(function(){var _=!0,M=d!=null&&d+"queueHooks",A=b.timers,z=Q.get(this);if(M)z[M]&&z[M].stop&&x(z[M]);else for(M in z)z[M]&&z[M].stop&&Vt.test(M)&&x(z[M]);for(M=A.length;M--;)A[M].elem!==this||d!=null&&A[M].queue!==d||(A[M].anim.stop(E),_=!1,A.splice(M,1));!_&&E||b.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var m,E=Q.get(this),x=E[d+"queue"],_=E[d+"queueHooks"],M=b.timers,A=x?x.length:0;for(E.finish=!0,b.queue(this,d,[]),_&&_.stop&&_.stop.call(this,!0),m=M.length;m--;)M[m].elem===this&&M[m].queue===d&&(M[m].anim.stop(!0),M.splice(m,1));for(m=0;m<A;m++)x[m]&&x[m].finish&&x[m].finish.call(this);delete E.finish})}}),b.each(["toggle","show","hide"],function(d,m){var E=b.fn[m];b.fn[m]=function(x,_,M){return x==null||typeof x=="boolean"?E.apply(this,arguments):this.animate(Ht(m,!0),x,_,M)}}),b.each({slideDown:Ht("show"),slideUp:Ht("hide"),slideToggle:Ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,m){b.fn[d]=function(E,x,_){return this.animate(m,E,x,_)}}),b.timers=[],b.fx.tick=function(){var d,m=0,E=b.timers;for(K=Date.now();m<E.length;m++)(d=E[m])()||E[m]!==d||E.splice(m--,1);E.length||b.fx.stop(),K=void 0},b.fx.timer=function(d){b.timers.push(d),b.fx.start()},b.fx.interval=13,b.fx.start=function(){Ee||(Ee=!0,Rt())},b.fx.stop=function(){Ee=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(d,m){return d=b.fx&&b.fx.speeds[d]||d,m=m||"fx",this.queue(m,function(E,x){var _=a.setTimeout(E,d);x.stop=function(){a.clearTimeout(_)}})},De=V.createElement("input"),at=V.createElement("select").appendChild(V.createElement("option")),De.type="checkbox",F.checkOn=De.value!=="",F.optSelected=at.selected,(De=V.createElement("input")).value="t",De.type="radio",F.radioValue=De.value==="t";var ti,ai=b.expr.attrHandle;b.fn.extend({attr:function(d,m){return je(this,b.attr,d,m,1<arguments.length)},removeAttr:function(d){return this.each(function(){b.removeAttr(this,d)})}}),b.extend({attr:function(d,m,E){var x,_,M=d.nodeType;if(M!==3&&M!==8&&M!==2)return typeof d.getAttribute>"u"?b.prop(d,m,E):(M===1&&b.isXMLDoc(d)||(_=b.attrHooks[m.toLowerCase()]||(b.expr.match.bool.test(m)?ti:void 0)),E!==void 0?E===null?void b.removeAttr(d,m):_&&"set"in _&&(x=_.set(d,E,m))!==void 0?x:(d.setAttribute(m,E+""),E):_&&"get"in _&&(x=_.get(d,m))!==null?x:(x=b.find.attr(d,m))==null?void 0:x)},attrHooks:{type:{set:function(d,m){if(!F.radioValue&&m==="radio"&&Ne(d,"input")){var E=d.value;return d.setAttribute("type",m),E&&(d.value=E),m}}}},removeAttr:function(d,m){var E,x=0,_=m&&m.match(_e);if(_&&d.nodeType===1)for(;E=_[x++];)d.removeAttribute(E)}}),ti={set:function(d,m,E){return m===!1?b.removeAttr(d,E):d.setAttribute(E,E),E}},b.each(b.expr.match.bool.source.match(/\w+/g),function(d,m){var E=ai[m]||b.find.attr;ai[m]=function(x,_,M){var A,z,j=_.toLowerCase();return M||(z=ai[j],ai[j]=A,A=E(x,_,M)!=null?j:null,ai[j]=z),A}});var Ci=/^(?:input|select|textarea|button)$/i,Ri=/^(?:a|area)$/i;function Qt(d){return(d.match(_e)||[]).join(" ")}function ui(d){return d.getAttribute&&d.getAttribute("class")||""}function Ui(d){return Array.isArray(d)?d:typeof d=="string"&&d.match(_e)||[]}b.fn.extend({prop:function(d,m){return je(this,b.prop,d,m,1<arguments.length)},removeProp:function(d){return this.each(function(){delete this[b.propFix[d]||d]})}}),b.extend({prop:function(d,m,E){var x,_,M=d.nodeType;if(M!==3&&M!==8&&M!==2)return M===1&&b.isXMLDoc(d)||(m=b.propFix[m]||m,_=b.propHooks[m]),E!==void 0?_&&"set"in _&&(x=_.set(d,E,m))!==void 0?x:d[m]=E:_&&"get"in _&&(x=_.get(d,m))!==null?x:d[m]},propHooks:{tabIndex:{get:function(d){var m=b.find.attr(d,"tabindex");return m?parseInt(m,10):Ci.test(d.nodeName)||Ri.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),F.optSelected||(b.propHooks.selected={get:function(d){var m=d.parentNode;return m&&m.parentNode&&m.parentNode.selectedIndex,null},set:function(d){var m=d.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(d){var m,E,x,_,M,A,z,j=0;if(O(d))return this.each(function(ee){b(this).addClass(d.call(this,ee,ui(this)))});if((m=Ui(d)).length){for(;E=this[j++];)if(_=ui(E),x=E.nodeType===1&&" "+Qt(_)+" "){for(A=0;M=m[A++];)x.indexOf(" "+M+" ")<0&&(x+=M+" ");_!==(z=Qt(x))&&E.setAttribute("class",z)}}return this},removeClass:function(d){var m,E,x,_,M,A,z,j=0;if(O(d))return this.each(function(ee){b(this).removeClass(d.call(this,ee,ui(this)))});if(!arguments.length)return this.attr("class","");if((m=Ui(d)).length){for(;E=this[j++];)if(_=ui(E),x=E.nodeType===1&&" "+Qt(_)+" "){for(A=0;M=m[A++];)for(;-1<x.indexOf(" "+M+" ");)x=x.replace(" "+M+" "," ");_!==(z=Qt(x))&&E.setAttribute("class",z)}}return this},toggleClass:function(d,m){var E=typeof d,x=E==="string"||Array.isArray(d);return typeof m=="boolean"&&x?m?this.addClass(d):this.removeClass(d):O(d)?this.each(function(_){b(this).toggleClass(d.call(this,_,ui(this),m),m)}):this.each(function(){var _,M,A,z;if(x)for(M=0,A=b(this),z=Ui(d);_=z[M++];)A.hasClass(_)?A.removeClass(_):A.addClass(_);else d!==void 0&&E!=="boolean"||((_=ui(this))&&Q.set(this,"__className__",_),this.setAttribute&&this.setAttribute("class",_||d===!1?"":Q.get(this,"__className__")||""))})},hasClass:function(d){var m,E,x=0;for(m=" "+d+" ";E=this[x++];)if(E.nodeType===1&&-1<(" "+Qt(ui(E))+" ").indexOf(m))return!0;return!1}});var rn=/\r/g;b.fn.extend({val:function(d){var m,E,x,_=this[0];return arguments.length?(x=O(d),this.each(function(M){var A;this.nodeType===1&&((A=x?d.call(this,M,b(this).val()):d)==null?A="":typeof A=="number"?A+="":Array.isArray(A)&&(A=b.map(A,function(z){return z==null?"":z+""})),(m=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in m&&m.set(this,A,"value")!==void 0||(this.value=A))})):_?(m=b.valHooks[_.type]||b.valHooks[_.nodeName.toLowerCase()])&&"get"in m&&(E=m.get(_,"value"))!==void 0?E:typeof(E=_.value)=="string"?E.replace(rn,""):E??"":void 0}}),b.extend({valHooks:{option:{get:function(d){var m=b.find.attr(d,"value");return m??Qt(b.text(d))}},select:{get:function(d){var m,E,x,_=d.options,M=d.selectedIndex,A=d.type==="select-one",z=A?null:[],j=A?M+1:_.length;for(x=M<0?j:A?M:0;x<j;x++)if(((E=_[x]).selected||x===M)&&!E.disabled&&(!E.parentNode.disabled||!Ne(E.parentNode,"optgroup"))){if(m=b(E).val(),A)return m;z.push(m)}return z},set:function(d,m){for(var E,x,_=d.options,M=b.makeArray(m),A=_.length;A--;)((x=_[A]).selected=-1<b.inArray(b.valHooks.option.get(x),M))&&(E=!0);return E||(d.selectedIndex=-1),M}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(d,m){if(Array.isArray(m))return d.checked=-1<b.inArray(b(d).val(),m)}},F.checkOn||(b.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})}),F.focusin="onfocusin"in a;var an=/^(?:focusinfocus|focusoutblur)$/,on=function(d){d.stopPropagation()};b.extend(b.event,{trigger:function(d,m,E,x){var _,M,A,z,j,ee,ne,ye,ie=[E||V],se=g.call(d,"type")?d.type:d,Ge=g.call(d,"namespace")?d.namespace.split("."):[];if(M=ye=A=E=E||V,E.nodeType!==3&&E.nodeType!==8&&!an.test(se+b.event.triggered)&&(-1<se.indexOf(".")&&(se=(Ge=se.split(".")).shift(),Ge.sort()),j=se.indexOf(":")<0&&"on"+se,(d=d[b.expando]?d:new b.Event(se,typeof d=="object"&&d)).isTrigger=x?2:3,d.namespace=Ge.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+Ge.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=E),m=m==null?[d]:b.makeArray(m,[d]),ne=b.event.special[se]||{},x||!ne.trigger||ne.trigger.apply(E,m)!==!1)){if(!x&&!ne.noBubble&&!X(E)){for(z=ne.delegateType||se,an.test(z+se)||(M=M.parentNode);M;M=M.parentNode)ie.push(M),A=M;A===(E.ownerDocument||V)&&ie.push(A.defaultView||A.parentWindow||a)}for(_=0;(M=ie[_++])&&!d.isPropagationStopped();)ye=M,d.type=1<_?z:ne.bindType||se,(ee=(Q.get(M,"events")||Object.create(null))[d.type]&&Q.get(M,"handle"))&&ee.apply(M,m),(ee=j&&M[j])&&ee.apply&&L(M)&&(d.result=ee.apply(M,m),d.result===!1&&d.preventDefault());return d.type=se,x||d.isDefaultPrevented()||ne._default&&ne._default.apply(ie.pop(),m)!==!1||!L(E)||j&&O(E[se])&&!X(E)&&((A=E[j])&&(E[j]=null),b.event.triggered=se,d.isPropagationStopped()&&ye.addEventListener(se,on),E[se](),d.isPropagationStopped()&&ye.removeEventListener(se,on),b.event.triggered=void 0,A&&(E[j]=A)),d.result}},simulate:function(d,m,E){var x=b.extend(new b.Event,E,{type:d,isSimulated:!0});b.event.trigger(x,null,m)}}),b.fn.extend({trigger:function(d,m){return this.each(function(){b.event.trigger(d,m,this)})},triggerHandler:function(d,m){var E=this[0];if(E)return b.event.trigger(d,m,E,!0)}}),F.focusin||b.each({focus:"focusin",blur:"focusout"},function(d,m){var E=function(x){b.event.simulate(m,x.target,b.event.fix(x))};b.event.special[m]={setup:function(){var x=this.ownerDocument||this.document||this,_=Q.access(x,m);_||x.addEventListener(d,E,!0),Q.access(x,m,(_||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,_=Q.access(x,m)-1;_?Q.access(x,m,_):(x.removeEventListener(d,E,!0),Q.remove(x,m))}}});var Hi=a.location,cn={guid:Date.now()},oi=/\?/;b.parseXML=function(d){var m,E;if(!d||typeof d!="string")return null;try{m=new a.DOMParser().parseFromString(d,"text/xml")}catch{}return E=m&&m.getElementsByTagName("parsererror")[0],m&&!E||b.error("Invalid XML: "+(E?b.map(E.childNodes,function(x){return x.textContent}).join(`
`):d)),m};var ji=/\[\]$/,$n=/\r?\n/g,ps=/^(?:submit|button|image|reset|file)$/i,ms=/^(?:input|select|textarea|keygen)/i;function In(d,m,E,x){var _;if(Array.isArray(m))b.each(m,function(M,A){E||ji.test(d)?x(d,A):In(d+"["+(typeof A=="object"&&A!=null?M:"")+"]",A,E,x)});else if(E||he(m)!=="object")x(d,m);else for(_ in m)In(d+"["+_+"]",m[_],E,x)}b.param=function(d,m){var E,x=[],_=function(M,A){var z=O(A)?A():A;x[x.length]=encodeURIComponent(M)+"="+encodeURIComponent(z??"")};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!b.isPlainObject(d))b.each(d,function(){_(this.name,this.value)});else for(E in d)In(E,d[E],m,_);return x.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=b.prop(this,"elements");return d?b.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!b(this).is(":disabled")&&ms.test(this.nodeName)&&!ps.test(d)&&(this.checked||!Oi.test(d))}).map(function(d,m){var E=b(this).val();return E==null?null:Array.isArray(E)?b.map(E,function(x){return{name:m.name,value:x.replace($n,`\r
`)}}):{name:m.name,value:E.replace($n,`\r
`)}}).get()}});var fs=/%20/g,gs=/#.*$/,vs=/([?&])_=[^&]*/,ys=/^(.*?):[ \t]*([^\r\n]*)$/gm,Es=/^(?:GET|HEAD)$/,ws=/^\/\//,Bn={},Dn={},Gn="*/".concat("*"),Mn=V.createElement("a");function zn(d){return function(m,E){typeof m!="string"&&(E=m,m="*");var x,_=0,M=m.toLowerCase().match(_e)||[];if(O(E))for(;x=M[_++];)x[0]==="+"?(x=x.slice(1)||"*",(d[x]=d[x]||[]).unshift(E)):(d[x]=d[x]||[]).push(E)}}function Un(d,m,E,x){var _={},M=d===Dn;function A(z){var j;return _[z]=!0,b.each(d[z]||[],function(ee,ne){var ye=ne(m,E,x);return typeof ye!="string"||M||_[ye]?M?!(j=ye):void 0:(m.dataTypes.unshift(ye),A(ye),!1)}),j}return A(m.dataTypes[0])||!_["*"]&&A("*")}function Ln(d,m){var E,x,_=b.ajaxSettings.flatOptions||{};for(E in m)m[E]!==void 0&&((_[E]?d:x||(x={}))[E]=m[E]);return x&&b.extend(!0,d,x),d}Mn.href=Hi.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,m){return m?Ln(Ln(d,b.ajaxSettings),m):Ln(b.ajaxSettings,d)},ajaxPrefilter:zn(Bn),ajaxTransport:zn(Dn),ajax:function(d,m){typeof d=="object"&&(m=d,d=void 0),m=m||{};var E,x,_,M,A,z,j,ee,ne,ye,ie=b.ajaxSetup({},m),se=ie.context||ie,Ge=ie.context&&(se.nodeType||se.jquery)?b(se):b.event,Ke=b.Deferred(),qe=b.Callbacks("once memory"),Gt=ie.statusCode||{},ii={},fi={},At="canceled",dt={readyState:0,getResponseHeader:function(Ct){var zt;if(j){if(!M)for(M={};zt=ys.exec(_);)M[zt[1].toLowerCase()+" "]=(M[zt[1].toLowerCase()+" "]||[]).concat(zt[2]);zt=M[Ct.toLowerCase()+" "]}return zt==null?null:zt.join(", ")},getAllResponseHeaders:function(){return j?_:null},setRequestHeader:function(Ct,zt){return j==null&&(Ct=fi[Ct.toLowerCase()]=fi[Ct.toLowerCase()]||Ct,ii[Ct]=zt),this},overrideMimeType:function(Ct){return j==null&&(ie.mimeType=Ct),this},statusCode:function(Ct){var zt;if(Ct)if(j)dt.always(Ct[dt.status]);else for(zt in Ct)Gt[zt]=[Gt[zt],Ct[zt]];return this},abort:function(Ct){var zt=Ct||At;return E&&E.abort(zt),hi(0,zt),this}};if(Ke.promise(dt),ie.url=((d||ie.url||Hi.href)+"").replace(ws,Hi.protocol+"//"),ie.type=m.method||m.type||ie.method||ie.type,ie.dataTypes=(ie.dataType||"*").toLowerCase().match(_e)||[""],ie.crossDomain==null){z=V.createElement("a");try{z.href=ie.url,z.href=z.href,ie.crossDomain=Mn.protocol+"//"+Mn.host!=z.protocol+"//"+z.host}catch{ie.crossDomain=!0}}if(ie.data&&ie.processData&&typeof ie.data!="string"&&(ie.data=b.param(ie.data,ie.traditional)),Un(Bn,ie,m,dt),j)return dt;for(ne in(ee=b.event&&ie.global)&&b.active++==0&&b.event.trigger("ajaxStart"),ie.type=ie.type.toUpperCase(),ie.hasContent=!Es.test(ie.type),x=ie.url.replace(gs,""),ie.hasContent?ie.data&&ie.processData&&(ie.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ie.data=ie.data.replace(fs,"+")):(ye=ie.url.slice(x.length),ie.data&&(ie.processData||typeof ie.data=="string")&&(x+=(oi.test(x)?"&":"?")+ie.data,delete ie.data),ie.cache===!1&&(x=x.replace(vs,"$1"),ye=(oi.test(x)?"&":"?")+"_="+cn.guid+++ye),ie.url=x+ye),ie.ifModified&&(b.lastModified[x]&&dt.setRequestHeader("If-Modified-Since",b.lastModified[x]),b.etag[x]&&dt.setRequestHeader("If-None-Match",b.etag[x])),(ie.data&&ie.hasContent&&ie.contentType!==!1||m.contentType)&&dt.setRequestHeader("Content-Type",ie.contentType),dt.setRequestHeader("Accept",ie.dataTypes[0]&&ie.accepts[ie.dataTypes[0]]?ie.accepts[ie.dataTypes[0]]+(ie.dataTypes[0]!=="*"?", "+Gn+"; q=0.01":""):ie.accepts["*"]),ie.headers)dt.setRequestHeader(ne,ie.headers[ne]);if(ie.beforeSend&&(ie.beforeSend.call(se,dt,ie)===!1||j))return dt.abort();if(At="abort",qe.add(ie.complete),dt.done(ie.success),dt.fail(ie.error),E=Un(Dn,ie,m,dt)){if(dt.readyState=1,ee&&Ge.trigger("ajaxSend",[dt,ie]),j)return dt;ie.async&&0<ie.timeout&&(A=a.setTimeout(function(){dt.abort("timeout")},ie.timeout));try{j=!1,E.send(ii,hi)}catch(Ct){if(j)throw Ct;hi(-1,Ct)}}else hi(-1,"No Transport");function hi(Ct,zt,un,yn){var gi,Wi,Zi,pi,en,xi=zt;j||(j=!0,A&&a.clearTimeout(A),E=void 0,_=yn||"",dt.readyState=0<Ct?4:0,gi=200<=Ct&&Ct<300||Ct===304,un&&(pi=function(Ut,yi,Ei){for(var Ni,ut,_t,ni,wi=Ut.contents,Jt=Ut.dataTypes;Jt[0]==="*";)Jt.shift(),Ni===void 0&&(Ni=Ut.mimeType||yi.getResponseHeader("Content-Type"));if(Ni){for(ut in wi)if(wi[ut]&&wi[ut].test(Ni)){Jt.unshift(ut);break}}if(Jt[0]in Ei)_t=Jt[0];else{for(ut in Ei){if(!Jt[0]||Ut.converters[ut+" "+Jt[0]]){_t=ut;break}ni||(ni=ut)}_t=_t||ni}if(_t)return _t!==Jt[0]&&Jt.unshift(_t),Ei[_t]}(ie,dt,un)),!gi&&-1<b.inArray("script",ie.dataTypes)&&b.inArray("json",ie.dataTypes)<0&&(ie.converters["text script"]=function(){}),pi=function(Ut,yi,Ei,Ni){var ut,_t,ni,wi,Jt,bi={},tn=Ut.dataTypes.slice();if(tn[1])for(ni in Ut.converters)bi[ni.toLowerCase()]=Ut.converters[ni];for(_t=tn.shift();_t;)if(Ut.responseFields[_t]&&(Ei[Ut.responseFields[_t]]=yi),!Jt&&Ni&&Ut.dataFilter&&(yi=Ut.dataFilter(yi,Ut.dataType)),Jt=_t,_t=tn.shift()){if(_t==="*")_t=Jt;else if(Jt!=="*"&&Jt!==_t){if(!(ni=bi[Jt+" "+_t]||bi["* "+_t])){for(ut in bi)if((wi=ut.split(" "))[1]===_t&&(ni=bi[Jt+" "+wi[0]]||bi["* "+wi[0]])){ni===!0?ni=bi[ut]:bi[ut]!==!0&&(_t=wi[0],tn.unshift(wi[1]));break}}if(ni!==!0)if(ni&&Ut.throws)yi=ni(yi);else try{yi=ni(yi)}catch(En){return{state:"parsererror",error:ni?En:"No conversion from "+Jt+" to "+_t}}}}return{state:"success",data:yi}}(ie,pi,dt,gi),gi?(ie.ifModified&&((en=dt.getResponseHeader("Last-Modified"))&&(b.lastModified[x]=en),(en=dt.getResponseHeader("etag"))&&(b.etag[x]=en)),Ct===204||ie.type==="HEAD"?xi="nocontent":Ct===304?xi="notmodified":(xi=pi.state,Wi=pi.data,gi=!(Zi=pi.error))):(Zi=xi,!Ct&&xi||(xi="error",Ct<0&&(Ct=0))),dt.status=Ct,dt.statusText=(zt||xi)+"",gi?Ke.resolveWith(se,[Wi,xi,dt]):Ke.rejectWith(se,[dt,xi,Zi]),dt.statusCode(Gt),Gt=void 0,ee&&Ge.trigger(gi?"ajaxSuccess":"ajaxError",[dt,ie,gi?Wi:Zi]),qe.fireWith(se,[dt,xi]),ee&&(Ge.trigger("ajaxComplete",[dt,ie]),--b.active||b.event.trigger("ajaxStop")))}return dt},getJSON:function(d,m,E){return b.get(d,m,E,"json")},getScript:function(d,m){return b.get(d,void 0,m,"script")}}),b.each(["get","post"],function(d,m){b[m]=function(E,x,_,M){return O(x)&&(M=M||_,_=x,x=void 0),b.ajax(b.extend({url:E,type:m,dataType:M,data:x,success:_},b.isPlainObject(E)&&E))}}),b.ajaxPrefilter(function(d){var m;for(m in d.headers)m.toLowerCase()==="content-type"&&(d.contentType=d.headers[m]||"")}),b._evalUrl=function(d,m,E){return b.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){b.globalEval(x,m,E)}})},b.fn.extend({wrapAll:function(d){var m;return this[0]&&(O(d)&&(d=d.call(this[0])),m=b(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(d){return O(d)?this.each(function(m){b(this).wrapInner(d.call(this,m))}):this.each(function(){var m=b(this),E=m.contents();E.length?E.wrapAll(d):m.append(d)})},wrap:function(d){var m=O(d);return this.each(function(E){b(this).wrapAll(m?d.call(this,E):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(d){return!b.expr.pseudos.visible(d)},b.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch{}};var bs={0:200,1223:204},dn=b.ajaxSettings.xhr();F.cors=!!dn&&"withCredentials"in dn,F.ajax=dn=!!dn,b.ajaxTransport(function(d){var m,E;if(F.cors||dn&&!d.crossDomain)return{send:function(x,_){var M,A=d.xhr();if(A.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(M in d.xhrFields)A[M]=d.xhrFields[M];for(M in d.mimeType&&A.overrideMimeType&&A.overrideMimeType(d.mimeType),d.crossDomain||x["X-Requested-With"]||(x["X-Requested-With"]="XMLHttpRequest"),x)A.setRequestHeader(M,x[M]);m=function(z){return function(){m&&(m=E=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,z==="abort"?A.abort():z==="error"?typeof A.status!="number"?_(0,"error"):_(A.status,A.statusText):_(bs[A.status]||A.status,A.statusText,(A.responseType||"text")!=="text"||typeof A.responseText!="string"?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=m(),E=A.onerror=A.ontimeout=m("error"),A.onabort!==void 0?A.onabort=E:A.onreadystatechange=function(){A.readyState===4&&a.setTimeout(function(){m&&E()})},m=m("abort");try{A.send(d.hasContent&&d.data||null)}catch(z){if(m)throw z}},abort:function(){m&&m()}}}),b.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return b.globalEval(d),d}}}),b.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),b.ajaxTransport("script",function(d){var m,E;if(d.crossDomain||d.scriptAttrs)return{send:function(x,_){m=b("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",E=function(M){m.remove(),E=null,M&&_(M.type==="error"?404:200,M.type)}),V.head.appendChild(m[0])},abort:function(){E&&E()}}});var qn,jn=[],An=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=jn.pop()||b.expando+"_"+cn.guid++;return this[d]=!0,d}}),b.ajaxPrefilter("json jsonp",function(d,m,E){var x,_,M,A=d.jsonp!==!1&&(An.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&An.test(d.data)&&"data");if(A||d.dataTypes[0]==="jsonp")return x=d.jsonpCallback=O(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,A?d[A]=d[A].replace(An,"$1"+x):d.jsonp!==!1&&(d.url+=(oi.test(d.url)?"&":"?")+d.jsonp+"="+x),d.converters["script json"]=function(){return M||b.error(x+" was not called"),M[0]},d.dataTypes[0]="json",_=a[x],a[x]=function(){M=arguments},E.always(function(){_===void 0?b(a).removeProp(x):a[x]=_,d[x]&&(d.jsonpCallback=m.jsonpCallback,jn.push(x)),M&&O(_)&&_(M[0]),M=_=void 0}),"script"}),F.createHTMLDocument=((qn=V.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",qn.childNodes.length===2),b.parseHTML=function(d,m,E){return typeof d!="string"?[]:(typeof m=="boolean"&&(E=m,m=!1),m||(F.createHTMLDocument?((x=(m=V.implementation.createHTMLDocument("")).createElement("base")).href=V.location.href,m.head.appendChild(x)):m=V),M=!E&&[],(_=Le.exec(d))?[m.createElement(_[1])]:(_=D([d],m,M),M&&M.length&&b(M).remove(),b.merge([],_.childNodes)));var x,_,M},b.fn.load=function(d,m,E){var x,_,M,A=this,z=d.indexOf(" ");return-1<z&&(x=Qt(d.slice(z)),d=d.slice(0,z)),O(m)?(E=m,m=void 0):m&&typeof m=="object"&&(_="POST"),0<A.length&&b.ajax({url:d,type:_||"GET",dataType:"html",data:m}).done(function(j){M=arguments,A.html(x?b("<div>").append(b.parseHTML(j)).find(x):j)}).always(E&&function(j,ee){A.each(function(){E.apply(this,M||[j.responseText,ee,j])})}),this},b.expr.pseudos.animated=function(d){return b.grep(b.timers,function(m){return d===m.elem}).length},b.offset={setOffset:function(d,m,E){var x,_,M,A,z,j,ee=b.css(d,"position"),ne=b(d),ye={};ee==="static"&&(d.style.position="relative"),z=ne.offset(),M=b.css(d,"top"),j=b.css(d,"left"),(ee==="absolute"||ee==="fixed")&&-1<(M+j).indexOf("auto")?(A=(x=ne.position()).top,_=x.left):(A=parseFloat(M)||0,_=parseFloat(j)||0),O(m)&&(m=m.call(d,E,b.extend({},z))),m.top!=null&&(ye.top=m.top-z.top+A),m.left!=null&&(ye.left=m.left-z.left+_),"using"in m?m.using.call(d,ye):ne.css(ye)}},b.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(_){b.offset.setOffset(this,d,_)});var m,E,x=this[0];return x?x.getClientRects().length?(m=x.getBoundingClientRect(),E=x.ownerDocument.defaultView,{top:m.top+E.pageYOffset,left:m.left+E.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var d,m,E,x=this[0],_={top:0,left:0};if(b.css(x,"position")==="fixed")m=x.getBoundingClientRect();else{for(m=this.offset(),E=x.ownerDocument,d=x.offsetParent||E.documentElement;d&&(d===E.body||d===E.documentElement)&&b.css(d,"position")==="static";)d=d.parentNode;d&&d!==x&&d.nodeType===1&&((_=b(d).offset()).top+=b.css(d,"borderTopWidth",!0),_.left+=b.css(d,"borderLeftWidth",!0))}return{top:m.top-_.top-b.css(x,"marginTop",!0),left:m.left-_.left-b.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&b.css(d,"position")==="static";)d=d.offsetParent;return d||Xe})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,m){var E=m==="pageYOffset";b.fn[d]=function(x){return je(this,function(_,M,A){var z;if(X(_)?z=_:_.nodeType===9&&(z=_.defaultView),A===void 0)return z?z[m]:_[M];z?z.scrollTo(E?z.pageXOffset:A,E?A:z.pageYOffset):_[M]=A},d,x,arguments.length)}}),b.each(["top","left"],function(d,m){b.cssHooks[m]=qt(F.pixelPosition,function(E,x){if(x)return x=Wt(E,m),Tt.test(x)?b(E).position()[m]+"px":x})}),b.each({Height:"height",Width:"width"},function(d,m){b.each({padding:"inner"+d,content:m,"":"outer"+d},function(E,x){b.fn[x]=function(_,M){var A=arguments.length&&(E||typeof _!="boolean"),z=E||(_===!0||M===!0?"margin":"border");return je(this,function(j,ee,ne){var ye;return X(j)?x.indexOf("outer")===0?j["inner"+d]:j.document.documentElement["client"+d]:j.nodeType===9?(ye=j.documentElement,Math.max(j.body["scroll"+d],ye["scroll"+d],j.body["offset"+d],ye["offset"+d],ye["client"+d])):ne===void 0?b.css(j,ee,z):b.style(j,ee,ne,z)},m,A?_:void 0,A)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,m){b.fn[m]=function(E){return this.on(m,E)}}),b.fn.extend({bind:function(d,m,E){return this.on(d,null,m,E)},unbind:function(d,m){return this.off(d,null,m)},delegate:function(d,m,E,x){return this.on(m,d,E,x)},undelegate:function(d,m,E){return arguments.length===1?this.off(d,"**"):this.off(m,d||"**",E)},hover:function(d,m){return this.mouseenter(d).mouseleave(m||d)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,m){b.fn[m]=function(E,x){return 0<arguments.length?this.on(m,null,E,x):this.trigger(m)}});var Cs=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.proxy=function(d,m){var E,x,_;if(typeof m=="string"&&(E=d[m],m=d,d=E),O(d))return x=s.call(arguments,2),(_=function(){return d.apply(m||this,x.concat(s.call(arguments)))}).guid=d.guid=d.guid||b.guid++,_},b.holdReady=function(d){d?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=Ne,b.isFunction=O,b.isWindow=X,b.camelCase=ot,b.type=he,b.now=Date.now,b.isNumeric=function(d){var m=b.type(d);return(m==="number"||m==="string")&&!isNaN(d-parseFloat(d))},b.trim=function(d){return d==null?"":(d+"").replace(Cs,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return b});var xs=a.jQuery,Ss=a.$;return b.noConflict=function(d){return a.$===b&&(a.$=Ss),d&&a.jQuery===b&&(a.jQuery=xs),b},typeof i>"u"&&(a.jQuery=a.$=b),b});/*!
  * Bootstrap v5.0.2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],i):(a=typeof globalThis<"u"?globalThis:a||self).bootstrap=i(a.Popper)})(void 0,function(a){function i(q){if(q&&q.__esModule)return q;var v=Object.create(null);return q&&Object.keys(q).forEach(function(T){if(T!=="default"){var B=Object.getOwnPropertyDescriptor(q,T);Object.defineProperty(v,T,B.get?B:{enumerable:!0,get:function(){return q[T]}})}}),v.default=q,Object.freeze(v)}var e=i(a);const t={find:(q,v=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(v,q)),findOne:(q,v=document.documentElement)=>Element.prototype.querySelector.call(v,q),children:(q,v)=>[].concat(...q.children).filter(T=>T.matches(v)),parents(q,v){const T=[];let B=q.parentNode;for(;B&&B.nodeType===Node.ELEMENT_NODE&&B.nodeType!==3;)B.matches(v)&&T.push(B),B=B.parentNode;return T},prev(q,v){let T=q.previousElementSibling;for(;T;){if(T.matches(v))return[T];T=T.previousElementSibling}return[]},next(q,v){let T=q.nextElementSibling;for(;T;){if(T.matches(v))return[T];T=T.nextElementSibling}return[]}},s=q=>{do q+=Math.floor(1e6*Math.random());while(document.getElementById(q));return q},n=q=>{let v=q.getAttribute("data-bs-target");if(!v||v==="#"){let T=q.getAttribute("href");if(!T||!T.includes("#")&&!T.startsWith("."))return null;T.includes("#")&&!T.startsWith("#")&&(T="#"+T.split("#")[1]),v=T&&T!=="#"?T.trim():null}return v},r=q=>{const v=n(q);return v&&document.querySelector(v)?v:null},l=q=>{const v=n(q);return v?document.querySelector(v):null},u=q=>{q.dispatchEvent(new Event("transitionend"))},p=q=>!(!q||typeof q!="object")&&(q.jquery!==void 0&&(q=q[0]),q.nodeType!==void 0),g=q=>p(q)?q.jquery?q[0]:q:typeof q=="string"&&q.length>0?t.findOne(q):null,S=(q,v,T)=>{Object.keys(T).forEach(B=>{const K=T[B],Ee=v[B],De=Ee&&p(Ee)?"element":(at=Ee)==null?""+at:{}.toString.call(at).match(/\s([a-z]+)/i)[1].toLowerCase();var at;if(!new RegExp(K).test(De))throw new TypeError(`${q.toUpperCase()}: Option "${B}" provided type "${De}" but expected type "${K}".`)})},I=q=>!(!p(q)||q.getClientRects().length===0)&&getComputedStyle(q).getPropertyValue("visibility")==="visible",F=q=>!q||q.nodeType!==Node.ELEMENT_NODE||!!q.classList.contains("disabled")||(q.disabled!==void 0?q.disabled:q.hasAttribute("disabled")&&q.getAttribute("disabled")!=="false"),O=q=>{if(!document.documentElement.attachShadow)return null;if(typeof q.getRootNode=="function"){const v=q.getRootNode();return v instanceof ShadowRoot?v:null}return q instanceof ShadowRoot?q:q.parentNode?O(q.parentNode):null},X=()=>{},V=q=>q.offsetHeight,be=()=>{const{jQuery:q}=window;return q&&!document.body.hasAttribute("data-bs-no-jquery")?q:null},Oe=[],he=()=>document.documentElement.dir==="rtl",$e=q=>{var v;v=()=>{const T=be();if(T){const B=q.NAME,K=T.fn[B];T.fn[B]=q.jQueryInterface,T.fn[B].Constructor=q,T.fn[B].noConflict=()=>(T.fn[B]=K,q.jQueryInterface)}},document.readyState==="loading"?(Oe.length||document.addEventListener("DOMContentLoaded",()=>{Oe.forEach(T=>T())}),Oe.push(v)):v()},b=q=>{typeof q=="function"&&q()},de=(q,v,T=!0)=>{if(!T)return void b(q);const B=(De=>{if(!De)return 0;let{transitionDuration:at,transitionDelay:gt}=window.getComputedStyle(De);const Vt=Number.parseFloat(at),Rt=Number.parseFloat(gt);return Vt||Rt?(at=at.split(",")[0],gt=gt.split(",")[0],1e3*(Number.parseFloat(at)+Number.parseFloat(gt))):0})(v)+5;let K=!1;const Ee=({target:De})=>{De===v&&(K=!0,v.removeEventListener("transitionend",Ee),b(q))};v.addEventListener("transitionend",Ee),setTimeout(()=>{K||u(v)},B)},it=(q,v,T,B)=>{let K=q.indexOf(v);if(K===-1)return q[!T&&B?q.length-1:0];const Ee=q.length;return K+=T?1:-1,B&&(K=(K+Ee)%Ee),q[Math.max(0,Math.min(K,Ee-1))]},ze=/[^.]*(?=\..*)\.|.*/,fe=/\..*/,We=/::\d+$/,Ne={};let Le=1;const Je={mouseenter:"mouseover",mouseleave:"mouseout"},Pe=/^(mouseenter|mouseleave)/i,ge=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ce(q,v){return v&&`${v}::${Le++}`||q.uidEvent||Le++}function Me(q){const v=ce(q);return q.uidEvent=v,Ne[v]=Ne[v]||{},Ne[v]}function ve(q,v,T=null){const B=Object.keys(q);for(let K=0,Ee=B.length;K<Ee;K++){const De=q[B[K]];if(De.originalHandler===v&&De.delegationSelector===T)return De}return null}function _e(q,v,T){const B=typeof v=="string",K=B?T:v;let Ee=ae(q);return ge.has(Ee)||(Ee=q),[B,K,Ee]}function Se(q,v,T,B,K){if(typeof v!="string"||!q)return;if(T||(T=B,B=null),Pe.test(v)){const Bt=Nt=>function(ti){if(!ti.relatedTarget||ti.relatedTarget!==ti.delegateTarget&&!ti.delegateTarget.contains(ti.relatedTarget))return Nt.call(this,ti)};B?B=Bt(B):T=Bt(T)}const[Ee,De,at]=_e(v,T,B),gt=Me(q),Vt=gt[at]||(gt[at]={}),Rt=ve(Vt,De,Ee?T:null);if(Rt)return void(Rt.oneOff=Rt.oneOff&&K);const St=ce(De,v.replace(ze,"")),Ht=Ee?function(Bt,Nt,ti){return function ai(Ci){const Ri=Bt.querySelectorAll(Nt);for(let{target:Qt}=Ci;Qt&&Qt!==this;Qt=Qt.parentNode)for(let ui=Ri.length;ui--;)if(Ri[ui]===Qt)return Ci.delegateTarget=Qt,ai.oneOff&&W.off(Bt,Ci.type,Nt,ti),ti.apply(Qt,[Ci]);return null}}(q,T,B):function(Bt,Nt){return function ti(ai){return ai.delegateTarget=Bt,ti.oneOff&&W.off(Bt,ai.type,Nt),Nt.apply(Bt,[ai])}}(q,T);Ht.delegationSelector=Ee?T:null,Ht.originalHandler=De,Ht.oneOff=K,Ht.uidEvent=St,Vt[St]=Ht,q.addEventListener(at,Ht,Ee)}function Z(q,v,T,B,K){const Ee=ve(v[T],B,K);Ee&&(q.removeEventListener(T,Ee,!!K),delete v[T][Ee.uidEvent])}function ae(q){return q=q.replace(fe,""),Je[q]||q}const W={on(q,v,T,B){Se(q,v,T,B,!1)},one(q,v,T,B){Se(q,v,T,B,!0)},off(q,v,T,B){if(typeof v!="string"||!q)return;const[K,Ee,De]=_e(v,T,B),at=De!==v,gt=Me(q),Vt=v.startsWith(".");if(Ee!==void 0)return!gt||!gt[De]?void 0:void Z(q,gt,De,Ee,K?T:null);Vt&&Object.keys(gt).forEach(St=>{(function(Ht,Bt,Nt,ti){const ai=Bt[Nt]||{};Object.keys(ai).forEach(Ci=>{if(Ci.includes(ti)){const Ri=ai[Ci];Z(Ht,Bt,Nt,Ri.originalHandler,Ri.delegationSelector)}})})(q,gt,St,v.slice(1))});const Rt=gt[De]||{};Object.keys(Rt).forEach(St=>{const Ht=St.replace(We,"");if(!at||v.includes(Ht)){const Bt=Rt[St];Z(q,gt,De,Bt.originalHandler,Bt.delegationSelector)}})},trigger(q,v,T){if(typeof v!="string"||!q)return null;const B=be(),K=ae(v),Ee=v!==K,De=ge.has(K);let at,gt=!0,Vt=!0,Rt=!1,St=null;return Ee&&B&&(at=B.Event(v,T),B(q).trigger(at),gt=!at.isPropagationStopped(),Vt=!at.isImmediatePropagationStopped(),Rt=at.isDefaultPrevented()),De?(St=document.createEvent("HTMLEvents"),St.initEvent(K,gt,!0)):St=new CustomEvent(v,{bubbles:gt,cancelable:!0}),T!==void 0&&Object.keys(T).forEach(Ht=>{Object.defineProperty(St,Ht,{get:()=>T[Ht]})}),Rt&&St.preventDefault(),Vt&&q.dispatchEvent(St),St.defaultPrevented&&at!==void 0&&at.preventDefault(),St}},pe=new Map;var Ie={set(q,v,T){pe.has(q)||pe.set(q,new Map);const B=pe.get(q);B.has(v)||B.size===0?B.set(v,T):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(B.keys())[0]}.`)},get:(q,v)=>pe.has(q)&&pe.get(q).get(v)||null,remove(q,v){if(!pe.has(q))return;const T=pe.get(q);T.delete(v),T.size===0&&pe.delete(q)}};class je{constructor(v){(v=g(v))&&(this._element=v,Ie.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ie.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(v=>{this[v]=null})}_queueCallback(v,T,B=!0){de(v,T,B)}static getInstance(v){return Ie.get(v,this.DATA_KEY)}static getOrCreateInstance(v,T={}){return this.getInstance(v)||new this(v,typeof T=="object"?T:null)}static get VERSION(){return"5.0.2"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return"bs."+this.NAME}static get EVENT_KEY(){return"."+this.DATA_KEY}}class mt extends je{static get NAME(){return"alert"}close(v){const T=v?this._getRootElement(v):this._element,B=this._triggerCloseEvent(T);B===null||B.defaultPrevented||this._removeElement(T)}_getRootElement(v){return l(v)||v.closest(".alert")}_triggerCloseEvent(v){return W.trigger(v,"close.bs.alert")}_removeElement(v){v.classList.remove("show");const T=v.classList.contains("fade");this._queueCallback(()=>this._destroyElement(v),v,T)}_destroyElement(v){v.remove(),W.trigger(v,"closed.bs.alert")}static jQueryInterface(v){return this.each(function(){const T=mt.getOrCreateInstance(this);v==="close"&&T[v](this)})}static handleDismiss(v){return function(T){T&&T.preventDefault(),v.close(this)}}}W.on(document,"click.bs.alert.data-api",'[data-bs-dismiss="alert"]',mt.handleDismiss(new mt)),$e(mt);class yt extends je{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(v){return this.each(function(){const T=yt.getOrCreateInstance(this);v==="toggle"&&T[v]()})}}function pt(q){return q==="true"||q!=="false"&&(q===Number(q).toString()?Number(q):q===""||q==="null"?null:q)}function ot(q){return q.replace(/[A-Z]/g,v=>"-"+v.toLowerCase())}W.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',q=>{q.preventDefault();const v=q.target.closest('[data-bs-toggle="button"]');yt.getOrCreateInstance(v).toggle()}),$e(yt);const L={setDataAttribute(q,v,T){q.setAttribute("data-bs-"+ot(v),T)},removeDataAttribute(q,v){q.removeAttribute("data-bs-"+ot(v))},getDataAttributes(q){if(!q)return{};const v={};return Object.keys(q.dataset).filter(T=>T.startsWith("bs")).forEach(T=>{let B=T.replace(/^bs/,"");B=B.charAt(0).toLowerCase()+B.slice(1,B.length),v[B]=pt(q.dataset[T])}),v},getDataAttribute:(q,v)=>pt(q.getAttribute("data-bs-"+ot(v))),offset(q){const v=q.getBoundingClientRect();return{top:v.top+document.body.scrollTop,left:v.left+document.body.scrollLeft}},position:q=>({top:q.offsetTop,left:q.offsetLeft})},Y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Q={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},we="next",Re="prev",lt="left",wt="right",bt={ArrowLeft:wt,ArrowRight:lt};class Lt extends je{constructor(v,T){super(v),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(T),this._indicatorsElement=t.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!window.PointerEvent,this._addEventListeners()}static get Default(){return Y}static get NAME(){return"carousel"}next(){this._slide(we)}nextWhenVisible(){!document.hidden&&I(this._element)&&this.next()}prev(){this._slide(Re)}pause(v){v||(this._isPaused=!0),t.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(u(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(v){v||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(v){this._activeElement=t.findOne(".active.carousel-item",this._element);const T=this._getItemIndex(this._activeElement);if(v>this._items.length-1||v<0)return;if(this._isSliding)return void W.one(this._element,"slid.bs.carousel",()=>this.to(v));if(T===v)return this.pause(),void this.cycle();const B=v>T?we:Re;this._slide(B,this._items[v])}_getConfig(v){return v={...Y,...L.getDataAttributes(this._element),...typeof v=="object"?v:{}},S("carousel",v,Q),v}_handleSwipe(){const v=Math.abs(this.touchDeltaX);if(v<=40)return;const T=v/this.touchDeltaX;this.touchDeltaX=0,T&&this._slide(T>0?wt:lt)}_addEventListeners(){this._config.keyboard&&W.on(this._element,"keydown.bs.carousel",v=>this._keydown(v)),this._config.pause==="hover"&&(W.on(this._element,"mouseenter.bs.carousel",v=>this.pause(v)),W.on(this._element,"mouseleave.bs.carousel",v=>this.cycle(v))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const v=K=>{!this._pointerEvent||K.pointerType!=="pen"&&K.pointerType!=="touch"?this._pointerEvent||(this.touchStartX=K.touches[0].clientX):this.touchStartX=K.clientX},T=K=>{this.touchDeltaX=K.touches&&K.touches.length>1?0:K.touches[0].clientX-this.touchStartX},B=K=>{!this._pointerEvent||K.pointerType!=="pen"&&K.pointerType!=="touch"||(this.touchDeltaX=K.clientX-this.touchStartX),this._handleSwipe(),this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(Ee=>this.cycle(Ee),500+this._config.interval))};t.find(".carousel-item img",this._element).forEach(K=>{W.on(K,"dragstart.bs.carousel",Ee=>Ee.preventDefault())}),this._pointerEvent?(W.on(this._element,"pointerdown.bs.carousel",K=>v(K)),W.on(this._element,"pointerup.bs.carousel",K=>B(K)),this._element.classList.add("pointer-event")):(W.on(this._element,"touchstart.bs.carousel",K=>v(K)),W.on(this._element,"touchmove.bs.carousel",K=>T(K)),W.on(this._element,"touchend.bs.carousel",K=>B(K)))}_keydown(v){if(/input|textarea/i.test(v.target.tagName))return;const T=bt[v.key];T&&(v.preventDefault(),this._slide(T))}_getItemIndex(v){return this._items=v&&v.parentNode?t.find(".carousel-item",v.parentNode):[],this._items.indexOf(v)}_getItemByOrder(v,T){const B=v===we;return it(this._items,T,B,this._config.wrap)}_triggerSlideEvent(v,T){const B=this._getItemIndex(v),K=this._getItemIndex(t.findOne(".active.carousel-item",this._element));return W.trigger(this._element,"slide.bs.carousel",{relatedTarget:v,direction:T,from:K,to:B})}_setActiveIndicatorElement(v){if(this._indicatorsElement){const T=t.findOne(".active",this._indicatorsElement);T.classList.remove("active"),T.removeAttribute("aria-current");const B=t.find("[data-bs-target]",this._indicatorsElement);for(let K=0;K<B.length;K++)if(Number.parseInt(B[K].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(v)){B[K].classList.add("active"),B[K].setAttribute("aria-current","true");break}}}_updateInterval(){const v=this._activeElement||t.findOne(".active.carousel-item",this._element);if(!v)return;const T=Number.parseInt(v.getAttribute("data-bs-interval"),10);T?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=T):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(v,T){const B=this._directionToOrder(v),K=t.findOne(".active.carousel-item",this._element),Ee=this._getItemIndex(K),De=T||this._getItemByOrder(B,K),at=this._getItemIndex(De),gt=!!this._interval,Vt=B===we,Rt=Vt?"carousel-item-start":"carousel-item-end",St=Vt?"carousel-item-next":"carousel-item-prev",Ht=this._orderToDirection(B);if(De&&De.classList.contains("active"))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(De,Ht).defaultPrevented||!K||!De)return;this._isSliding=!0,gt&&this.pause(),this._setActiveIndicatorElement(De),this._activeElement=De;const Bt=()=>{W.trigger(this._element,"slid.bs.carousel",{relatedTarget:De,direction:Ht,from:Ee,to:at})};if(this._element.classList.contains("slide")){De.classList.add(St),V(De),K.classList.add(Rt),De.classList.add(Rt);const Nt=()=>{De.classList.remove(Rt,St),De.classList.add("active"),K.classList.remove("active",St,Rt),this._isSliding=!1,setTimeout(Bt,0)};this._queueCallback(Nt,K,!0)}else K.classList.remove("active"),De.classList.add("active"),this._isSliding=!1,Bt();gt&&this.cycle()}_directionToOrder(v){return[wt,lt].includes(v)?he()?v===lt?Re:we:v===lt?we:Re:v}_orderToDirection(v){return[we,Re].includes(v)?he()?v===Re?lt:wt:v===Re?wt:lt:v}static carouselInterface(v,T){const B=Lt.getOrCreateInstance(v,T);let{_config:K}=B;typeof T=="object"&&(K={...K,...T});const Ee=typeof T=="string"?T:K.slide;if(typeof T=="number")B.to(T);else if(typeof Ee=="string"){if(B[Ee]===void 0)throw new TypeError(`No method named "${Ee}"`);B[Ee]()}else K.interval&&K.ride&&(B.pause(),B.cycle())}static jQueryInterface(v){return this.each(function(){Lt.carouselInterface(this,v)})}static dataApiClickHandler(v){const T=l(this);if(!T||!T.classList.contains("carousel"))return;const B={...L.getDataAttributes(T),...L.getDataAttributes(this)},K=this.getAttribute("data-bs-slide-to");K&&(B.interval=!1),Lt.carouselInterface(T,B),K&&Lt.getInstance(T).to(K),v.preventDefault()}}W.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Lt.dataApiClickHandler),W.on(window,"load.bs.carousel.data-api",()=>{const q=t.find('[data-bs-ride="carousel"]');for(let v=0,T=q.length;v<T;v++)Lt.carouselInterface(q[v],Lt.getInstance(q[v]))}),$e(Lt);const Ue={toggle:!0,parent:""},Xe={toggle:"boolean",parent:"(string|element)"};class et extends je{constructor(v,T){super(v),this._isTransitioning=!1,this._config=this._getConfig(T),this._triggerArray=t.find(`[data-bs-toggle="collapse"][href="#${this._element.id}"],[data-bs-toggle="collapse"][data-bs-target="#${this._element.id}"]`);const B=t.find('[data-bs-toggle="collapse"]');for(let K=0,Ee=B.length;K<Ee;K++){const De=B[K],at=r(De),gt=t.find(at).filter(Vt=>Vt===this._element);at!==null&&gt.length&&(this._selector=at,this._triggerArray.push(De))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get Default(){return Ue}static get NAME(){return"collapse"}toggle(){this._element.classList.contains("show")?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains("show"))return;let v,T;this._parent&&(v=t.find(".show, .collapsing",this._parent).filter(De=>typeof this._config.parent=="string"?De.getAttribute("data-bs-parent")===this._config.parent:De.classList.contains("collapse")),v.length===0&&(v=null));const B=t.findOne(this._selector);if(v){const De=v.find(at=>B!==at);if(T=De?et.getInstance(De):null,T&&T._isTransitioning)return}if(W.trigger(this._element,"show.bs.collapse").defaultPrevented)return;v&&v.forEach(De=>{B!==De&&et.collapseInterface(De,"hide"),T||Ie.set(De,"bs.collapse",null)});const K=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[K]=0,this._triggerArray.length&&this._triggerArray.forEach(De=>{De.classList.remove("collapsed"),De.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);const Ee="scroll"+(K[0].toUpperCase()+K.slice(1));this._queueCallback(()=>{this._element.classList.remove("collapsing"),this._element.classList.add("collapse","show"),this._element.style[K]="",this.setTransitioning(!1),W.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[K]=this._element[Ee]+"px"}hide(){if(this._isTransitioning||!this._element.classList.contains("show")||W.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const v=this._getDimension();this._element.style[v]=this._element.getBoundingClientRect()[v]+"px",V(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");const T=this._triggerArray.length;if(T>0)for(let B=0;B<T;B++){const K=this._triggerArray[B],Ee=l(K);Ee&&!Ee.classList.contains("show")&&(K.classList.add("collapsed"),K.setAttribute("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[v]="",this._queueCallback(()=>{this.setTransitioning(!1),this._element.classList.remove("collapsing"),this._element.classList.add("collapse"),W.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}setTransitioning(v){this._isTransitioning=v}_getConfig(v){return(v={...Ue,...v}).toggle=!!v.toggle,S("collapse",v,Xe),v}_getDimension(){return this._element.classList.contains("width")?"width":"height"}_getParent(){let{parent:v}=this._config;v=g(v);const T=`[data-bs-toggle="collapse"][data-bs-parent="${v}"]`;return t.find(T,v).forEach(B=>{const K=l(B);this._addAriaAndCollapsedClass(K,[B])}),v}_addAriaAndCollapsedClass(v,T){if(!v||!T.length)return;const B=v.classList.contains("show");T.forEach(K=>{B?K.classList.remove("collapsed"):K.classList.add("collapsed"),K.setAttribute("aria-expanded",B)})}static collapseInterface(v,T){let B=et.getInstance(v);const K={...Ue,...L.getDataAttributes(v),...typeof T=="object"&&T?T:{}};if(!B&&K.toggle&&typeof T=="string"&&/show|hide/.test(T)&&(K.toggle=!1),B||(B=new et(v,K)),typeof T=="string"){if(B[T]===void 0)throw new TypeError(`No method named "${T}"`);B[T]()}}static jQueryInterface(v){return this.each(function(){et.collapseInterface(this,v)})}}W.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',function(q){(q.target.tagName==="A"||q.delegateTarget&&q.delegateTarget.tagName==="A")&&q.preventDefault();const v=L.getDataAttributes(this),T=r(this);t.find(T).forEach(B=>{const K=et.getInstance(B);let Ee;K?(K._parent===null&&typeof v.parent=="string"&&(K._config.parent=v.parent,K._parent=K._getParent()),Ee="toggle"):Ee=v,et.collapseInterface(B,Ee)})}),$e(et);const Pt=new RegExp("ArrowUp|ArrowDown|Escape"),mi=he()?"top-end":"top-start",Gi=he()?"top-start":"top-end",Ji=he()?"bottom-end":"bottom-start",Ai=he()?"bottom-start":"bottom-end",_i=he()?"left-start":"right-start",zi=he()?"right-start":"left-start",Oi={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},o={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class c extends je{constructor(v,T){super(v),this._popper=null,this._config=this._getConfig(T),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get Default(){return Oi}static get DefaultType(){return o}static get NAME(){return"dropdown"}toggle(){F(this._element)||(this._element.classList.contains("show")?this.hide():this.show())}show(){if(F(this._element)||this._menu.classList.contains("show"))return;const v=c.getParentFromElement(this._element),T={relatedTarget:this._element};if(!W.trigger(this._element,"show.bs.dropdown",T).defaultPrevented){if(this._inNavbar)L.setDataAttribute(this._menu,"popper","none");else{if(e===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let B=this._element;this._config.reference==="parent"?B=v:p(this._config.reference)?B=g(this._config.reference):typeof this._config.reference=="object"&&(B=this._config.reference);const K=this._getPopperConfig(),Ee=K.modifiers.find(De=>De.name==="applyStyles"&&De.enabled===!1);this._popper=e.createPopper(B,this._menu,K),Ee&&L.setDataAttribute(this._menu,"popper","static")}"ontouchstart"in document.documentElement&&!v.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(B=>W.on(B,"mouseover",X)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),W.trigger(this._element,"shown.bs.dropdown",T)}}hide(){if(F(this._element)||!this._menu.classList.contains("show"))return;const v={relatedTarget:this._element};this._completeHide(v)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_addEventListeners(){W.on(this._element,"click.bs.dropdown",v=>{v.preventDefault(),this.toggle()})}_completeHide(v){W.trigger(this._element,"hide.bs.dropdown",v).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(T=>W.off(T,"mouseover",X)),this._popper&&this._popper.destroy(),this._menu.classList.remove("show"),this._element.classList.remove("show"),this._element.setAttribute("aria-expanded","false"),L.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,"hidden.bs.dropdown",v))}_getConfig(v){if(v={...this.constructor.Default,...L.getDataAttributes(this._element),...v},S("dropdown",v,this.constructor.DefaultType),typeof v.reference=="object"&&!p(v.reference)&&typeof v.reference.getBoundingClientRect!="function")throw new TypeError("dropdown".toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return v}_getMenuElement(){return t.next(this._element,".dropdown-menu")[0]}_getPlacement(){const v=this._element.parentNode;if(v.classList.contains("dropend"))return _i;if(v.classList.contains("dropstart"))return zi;const T=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return v.classList.contains("dropup")?T?Gi:mi:T?Ai:Ji}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(T=>Number.parseInt(T,10)):typeof v=="function"?T=>v(T,this._element):v}_getPopperConfig(){const v={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return this._config.display==="static"&&(v.modifiers=[{name:"applyStyles",enabled:!1}]),{...v,...typeof this._config.popperConfig=="function"?this._config.popperConfig(v):this._config.popperConfig}}_selectMenuItem({key:v,target:T}){const B=t.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(I);B.length&&it(B,T,v==="ArrowDown",!B.includes(T)).focus()}static dropdownInterface(v,T){const B=c.getOrCreateInstance(v,T);if(typeof T=="string"){if(B[T]===void 0)throw new TypeError(`No method named "${T}"`);B[T]()}}static jQueryInterface(v){return this.each(function(){c.dropdownInterface(this,v)})}static clearMenus(v){if(v&&(v.button===2||v.type==="keyup"&&v.key!=="Tab"))return;const T=t.find('[data-bs-toggle="dropdown"]');for(let B=0,K=T.length;B<K;B++){const Ee=c.getInstance(T[B]);if(!Ee||Ee._config.autoClose===!1||!Ee._element.classList.contains("show"))continue;const De={relatedTarget:Ee._element};if(v){const at=v.composedPath(),gt=at.includes(Ee._menu);if(at.includes(Ee._element)||Ee._config.autoClose==="inside"&&!gt||Ee._config.autoClose==="outside"&&gt||Ee._menu.contains(v.target)&&(v.type==="keyup"&&v.key==="Tab"||/input|select|option|textarea|form/i.test(v.target.tagName)))continue;v.type==="click"&&(De.clickEvent=v)}Ee._completeHide(De)}}static getParentFromElement(v){return l(v)||v.parentNode}static dataApiKeydownHandler(v){if(/input|textarea/i.test(v.target.tagName)?v.key==="Space"||v.key!=="Escape"&&(v.key!=="ArrowDown"&&v.key!=="ArrowUp"||v.target.closest(".dropdown-menu")):!Pt.test(v.key))return;const T=this.classList.contains("show");if(!T&&v.key==="Escape"||(v.preventDefault(),v.stopPropagation(),F(this)))return;const B=()=>this.matches('[data-bs-toggle="dropdown"]')?this:t.prev(this,'[data-bs-toggle="dropdown"]')[0];return v.key==="Escape"?(B().focus(),void c.clearMenus()):v.key==="ArrowUp"||v.key==="ArrowDown"?(T||B().click(),void c.getInstance(B())._selectMenuItem(v)):void(T&&v.key!=="Space"||c.clearMenus())}}W.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',c.dataApiKeydownHandler),W.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",c.dataApiKeydownHandler),W.on(document,"click.bs.dropdown.data-api",c.clearMenus),W.on(document,"keyup.bs.dropdown.data-api",c.clearMenus),W.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',function(q){q.preventDefault(),c.dropdownInterface(this)}),$e(c);class h{constructor(){this._element=document.body}getWidth(){const v=document.documentElement.clientWidth;return Math.abs(window.innerWidth-v)}hide(){const v=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",T=>T+v),this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight",T=>T+v),this._setElementAttributes(".sticky-top","marginRight",T=>T-v)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(v,T,B){const K=this.getWidth();this._applyManipulationCallback(v,Ee=>{if(Ee!==this._element&&window.innerWidth>Ee.clientWidth+K)return;this._saveInitialAttribute(Ee,T);const De=window.getComputedStyle(Ee)[T];Ee.style[T]=B(Number.parseFloat(De))+"px"})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight"),this._resetElementAttributes(".sticky-top","marginRight")}_saveInitialAttribute(v,T){const B=v.style[T];B&&L.setDataAttribute(v,T,B)}_resetElementAttributes(v,T){this._applyManipulationCallback(v,B=>{const K=L.getDataAttribute(B,T);K===void 0?B.style.removeProperty(T):(L.removeDataAttribute(B,T),B.style[T]=K)})}_applyManipulationCallback(v,T){p(v)?T(v):t.find(v,this._element).forEach(T)}isOverflowing(){return this.getWidth()>0}}const f={isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},C={isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"};class w{constructor(v){this._config=this._getConfig(v),this._isAppended=!1,this._element=null}show(v){this._config.isVisible?(this._append(),this._config.isAnimated&&V(this._getElement()),this._getElement().classList.add("show"),this._emulateAnimation(()=>{b(v)})):b(v)}hide(v){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),b(v)})):b(v)}_getElement(){if(!this._element){const v=document.createElement("div");v.className="modal-backdrop",this._config.isAnimated&&v.classList.add("fade"),this._element=v}return this._element}_getConfig(v){return(v={...f,...typeof v=="object"?v:{}}).rootElement=g(v.rootElement),S("backdrop",v,C),v}_append(){this._isAppended||(this._config.rootElement.appendChild(this._getElement()),W.on(this._getElement(),"mousedown.bs.backdrop",()=>{b(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(W.off(this._element,"mousedown.bs.backdrop"),this._element.remove(),this._isAppended=!1)}_emulateAnimation(v){de(v,this._getElement(),this._config.isAnimated)}}const D={backdrop:!0,keyboard:!0,focus:!0},k={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"};class R extends je{constructor(v,T){super(v),this._config=this._getConfig(T),this._dialog=t.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new h}static get Default(){return D}static get NAME(){return"modal"}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||this._isTransitioning||W.trigger(this._element,"show.bs.modal",{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),W.on(this._element,"click.dismiss.bs.modal",'[data-bs-dismiss="modal"]',T=>this.hide(T)),W.on(this._dialog,"mousedown.dismiss.bs.modal",()=>{W.one(this._element,"mouseup.dismiss.bs.modal",T=>{T.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(v)))}hide(v){if(v&&["A","AREA"].includes(v.target.tagName)&&v.preventDefault(),!this._isShown||this._isTransitioning||W.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const T=this._isAnimated();T&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),W.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),W.off(this._element,"click.dismiss.bs.modal"),W.off(this._dialog,"mousedown.dismiss.bs.modal"),this._queueCallback(()=>this._hideModal(),this._element,T)}dispose(){[window,this._dialog].forEach(v=>W.off(v,".bs.modal")),this._backdrop.dispose(),super.dispose(),W.off(document,"focusin.bs.modal")}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new w({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_getConfig(v){return v={...D,...L.getDataAttributes(this._element),...typeof v=="object"?v:{}},S("modal",v,k),v}_showElement(v){const T=this._isAnimated(),B=t.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,B&&(B.scrollTop=0),T&&V(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus(),this._queueCallback(()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,W.trigger(this._element,"shown.bs.modal",{relatedTarget:v})},this._dialog,T)}_enforceFocus(){W.off(document,"focusin.bs.modal"),W.on(document,"focusin.bs.modal",v=>{document===v.target||this._element===v.target||this._element.contains(v.target)||this._element.focus()})}_setEscapeEvent(){this._isShown?W.on(this._element,"keydown.dismiss.bs.modal",v=>{this._config.keyboard&&v.key==="Escape"?(v.preventDefault(),this.hide()):this._config.keyboard||v.key!=="Escape"||this._triggerBackdropTransition()}):W.off(this._element,"keydown.dismiss.bs.modal")}_setResizeEvent(){this._isShown?W.on(window,"resize.bs.modal",()=>this._adjustDialog()):W.off(window,"resize.bs.modal")}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,"hidden.bs.modal")})}_showBackdrop(v){W.on(this._element,"click.dismiss.bs.modal",T=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:T.target===T.currentTarget&&(this._config.backdrop===!0?this.hide():this._config.backdrop==="static"&&this._triggerBackdropTransition())}),this._backdrop.show(v)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:v,scrollHeight:T,style:B}=this._element,K=T>document.documentElement.clientHeight;!K&&B.overflowY==="hidden"||v.contains("modal-static")||(K||(B.overflowY="hidden"),v.add("modal-static"),this._queueCallback(()=>{v.remove("modal-static"),K||this._queueCallback(()=>{B.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const v=this._element.scrollHeight>document.documentElement.clientHeight,T=this._scrollBar.getWidth(),B=T>0;(!B&&v&&!he()||B&&!v&&he())&&(this._element.style.paddingLeft=T+"px"),(B&&!v&&!he()||!B&&v&&he())&&(this._element.style.paddingRight=T+"px")}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(v,T){return this.each(function(){const B=R.getOrCreateInstance(this,v);if(typeof v=="string"){if(B[v]===void 0)throw new TypeError(`No method named "${v}"`);B[v](T)}})}}W.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(q){const v=l(this);["A","AREA"].includes(this.tagName)&&q.preventDefault(),W.one(v,"show.bs.modal",T=>{T.defaultPrevented||W.one(v,"hidden.bs.modal",()=>{I(this)&&this.focus()})}),R.getOrCreateInstance(v).toggle(this)}),$e(R);const H={backdrop:!0,keyboard:!0,scroll:!1},U={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"};class oe extends je{constructor(v,T){super(v),this._config=this._getConfig(T),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get NAME(){return"offcanvas"}static get Default(){return H}toggle(v){return this._isShown?this.hide():this.show(v)}show(v){this._isShown||W.trigger(this._element,"show.bs.offcanvas",{relatedTarget:v}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new h().hide(),this._enforceFocusOnElement(this._element)),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{W.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:v})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(W.off(document,"focusin.bs.offcanvas"),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||new h().reset(),W.trigger(this._element,"hidden.bs.offcanvas")},this._element,!0)))}dispose(){this._backdrop.dispose(),super.dispose(),W.off(document,"focusin.bs.offcanvas")}_getConfig(v){return v={...H,...L.getDataAttributes(this._element),...typeof v=="object"?v:{}},S("offcanvas",v,U),v}_initializeBackDrop(){return new w({isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_enforceFocusOnElement(v){W.off(document,"focusin.bs.offcanvas"),W.on(document,"focusin.bs.offcanvas",T=>{document===T.target||v===T.target||v.contains(T.target)||v.focus()}),v.focus()}_addEventListeners(){W.on(this._element,"click.dismiss.bs.offcanvas",'[data-bs-dismiss="offcanvas"]',()=>this.hide()),W.on(this._element,"keydown.dismiss.bs.offcanvas",v=>{this._config.keyboard&&v.key==="Escape"&&this.hide()})}static jQueryInterface(v){return this.each(function(){const T=oe.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0||v.startsWith("_")||v==="constructor")throw new TypeError(`No method named "${v}"`);T[v](this)}})}}W.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(q){const v=l(this);if(["A","AREA"].includes(this.tagName)&&q.preventDefault(),F(this))return;W.one(v,"hidden.bs.offcanvas",()=>{I(this)&&this.focus()});const T=t.findOne(".offcanvas.show");T&&T!==v&&oe.getInstance(T).hide(),oe.getOrCreateInstance(v).toggle(this)}),W.on(window,"load.bs.offcanvas.data-api",()=>t.find(".offcanvas.show").forEach(q=>oe.getOrCreateInstance(q).show())),$e(oe);const re=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),me=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/i,Ce=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ae=(q,v)=>{const T=q.nodeName.toLowerCase();if(v.includes(T))return!re.has(T)||!!(me.test(q.nodeValue)||Ce.test(q.nodeValue));const B=v.filter(K=>K instanceof RegExp);for(let K=0,Ee=B.length;K<Ee;K++)if(B[K].test(T))return!0;return!1};function He(q,v,T){if(!q.length)return q;if(T&&typeof T=="function")return T(q);const B=new window.DOMParser().parseFromString(q,"text/html"),K=Object.keys(v),Ee=[].concat(...B.body.querySelectorAll("*"));for(let De=0,at=Ee.length;De<at;De++){const gt=Ee[De],Vt=gt.nodeName.toLowerCase();if(!K.includes(Vt)){gt.remove();continue}const Rt=[].concat(...gt.attributes),St=[].concat(v["*"]||[],v[Vt]||[]);Rt.forEach(Ht=>{Ae(Ht,St)||gt.removeAttribute(Ht.nodeName)})}return B.body.innerHTML}const Fe=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ve=new Set(["sanitize","allowList","sanitizeFn"]),le={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Ze={AUTO:"auto",TOP:"top",RIGHT:he()?"left":"right",BOTTOM:"bottom",LEFT:he()?"right":"left"},ft={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Tt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"};class Qe extends je{constructor(v,T){if(e===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(v),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(T),this.tip=null,this._setListeners()}static get Default(){return ft}static get NAME(){return"tooltip"}static get Event(){return Tt}static get DefaultType(){return le}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(v){if(this._isEnabled)if(v){const T=this._initializeOnDelegatedTarget(v);T._activeTrigger.click=!T._activeTrigger.click,T._isWithActiveTrigger()?T._enter(null,T):T._leave(null,T)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.remove(),this._popper&&this._popper.destroy(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const v=W.trigger(this._element,this.constructor.Event.SHOW),T=O(this._element),B=T===null?this._element.ownerDocument.documentElement.contains(this._element):T.contains(this._element);if(v.defaultPrevented||!B)return;const K=this.getTipElement(),Ee=s(this.constructor.NAME);K.setAttribute("id",Ee),this._element.setAttribute("aria-describedby",Ee),this.setContent(),this._config.animation&&K.classList.add("fade");const De=typeof this._config.placement=="function"?this._config.placement.call(this,K,this._element):this._config.placement,at=this._getAttachment(De);this._addAttachmentClass(at);const{container:gt}=this._config;Ie.set(K,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(gt.appendChild(K),W.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=e.createPopper(this._element,K,this._getPopperConfig(at)),K.classList.add("show");const Vt=typeof this._config.customClass=="function"?this._config.customClass():this._config.customClass;Vt&&K.classList.add(...Vt.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(St=>{W.on(St,"mouseover",X)});const Rt=this.tip.classList.contains("fade");this._queueCallback(()=>{const St=this._hoverState;this._hoverState=null,W.trigger(this._element,this.constructor.Event.SHOWN),St==="out"&&this._leave(null,this)},this.tip,Rt)}hide(){if(!this._popper)return;const v=this.getTipElement();if(W.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;v.classList.remove("show"),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(B=>W.off(B,"mouseover",X)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const T=this.tip.classList.contains("fade");this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!=="show"&&v.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.Event.HIDDEN),this._popper&&(this._popper.destroy(),this._popper=null))},this.tip,T),this._hoverState=""}update(){this._popper!==null&&this._popper.update()}isWithContent(){return!!this.getTitle()}getTipElement(){if(this.tip)return this.tip;const v=document.createElement("div");return v.innerHTML=this._config.template,this.tip=v.children[0],this.tip}setContent(){const v=this.getTipElement();this.setElementContent(t.findOne(".tooltip-inner",v),this.getTitle()),v.classList.remove("fade","show")}setElementContent(v,T){if(v!==null)return p(T)?(T=g(T),void(this._config.html?T.parentNode!==v&&(v.innerHTML="",v.appendChild(T)):v.textContent=T.textContent)):void(this._config.html?(this._config.sanitize&&(T=He(T,this._config.allowList,this._config.sanitizeFn)),v.innerHTML=T):v.textContent=T)}getTitle(){let v=this._element.getAttribute("data-bs-original-title");return v||(v=typeof this._config.title=="function"?this._config.title.call(this._element):this._config.title),v}updateAttachment(v){return v==="right"?"end":v==="left"?"start":v}_initializeOnDelegatedTarget(v,T){const B=this.constructor.DATA_KEY;return(T=T||Ie.get(v.delegateTarget,B))||(T=new this.constructor(v.delegateTarget,this._getDelegateConfig()),Ie.set(v.delegateTarget,B,T)),T}_getOffset(){const{offset:v}=this._config;return typeof v=="string"?v.split(",").map(T=>Number.parseInt(T,10)):typeof v=="function"?T=>v(T,this._element):v}_getPopperConfig(v){const T={placement:v,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:B=>this._handlePopperPlacementChange(B)}],onFirstUpdate:B=>{B.options.placement!==B.placement&&this._handlePopperPlacementChange(B)}};return{...T,...typeof this._config.popperConfig=="function"?this._config.popperConfig(T):this._config.popperConfig}}_addAttachmentClass(v){this.getTipElement().classList.add("bs-tooltip-"+this.updateAttachment(v))}_getAttachment(v){return Ze[v.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(v=>{if(v==="click")W.on(this._element,this.constructor.Event.CLICK,this._config.selector,T=>this.toggle(T));else if(v!=="manual"){const T=v==="hover"?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,B=v==="hover"?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;W.on(this._element,T,this._config.selector,K=>this._enter(K)),W.on(this._element,B,this._config.selector,K=>this._leave(K))}}),this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const v=this._element.getAttribute("title"),T=typeof this._element.getAttribute("data-bs-original-title");(v||T!=="string")&&(this._element.setAttribute("data-bs-original-title",v||""),!v||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",v),this._element.setAttribute("title",""))}_enter(v,T){T=this._initializeOnDelegatedTarget(v,T),v&&(T._activeTrigger[v.type==="focusin"?"focus":"hover"]=!0),T.getTipElement().classList.contains("show")||T._hoverState==="show"?T._hoverState="show":(clearTimeout(T._timeout),T._hoverState="show",T._config.delay&&T._config.delay.show?T._timeout=setTimeout(()=>{T._hoverState==="show"&&T.show()},T._config.delay.show):T.show())}_leave(v,T){T=this._initializeOnDelegatedTarget(v,T),v&&(T._activeTrigger[v.type==="focusout"?"focus":"hover"]=T._element.contains(v.relatedTarget)),T._isWithActiveTrigger()||(clearTimeout(T._timeout),T._hoverState="out",T._config.delay&&T._config.delay.hide?T._timeout=setTimeout(()=>{T._hoverState==="out"&&T.hide()},T._config.delay.hide):T.hide())}_isWithActiveTrigger(){for(const v in this._activeTrigger)if(this._activeTrigger[v])return!0;return!1}_getConfig(v){const T=L.getDataAttributes(this._element);return Object.keys(T).forEach(B=>{Ve.has(B)&&delete T[B]}),(v={...this.constructor.Default,...T,...typeof v=="object"&&v?v:{}}).container=v.container===!1?document.body:g(v.container),typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),typeof v.title=="number"&&(v.title=v.title.toString()),typeof v.content=="number"&&(v.content=v.content.toString()),S("tooltip",v,this.constructor.DefaultType),v.sanitize&&(v.template=He(v.template,v.allowList,v.sanitizeFn)),v}_getDelegateConfig(){const v={};if(this._config)for(const T in this._config)this.constructor.Default[T]!==this._config[T]&&(v[T]=this._config[T]);return v}_cleanTipClass(){const v=this.getTipElement(),T=v.getAttribute("class").match(Fe);T!==null&&T.length>0&&T.map(B=>B.trim()).forEach(B=>v.classList.remove(B))}_handlePopperPlacementChange(v){const{state:T}=v;T&&(this.tip=T.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(T.placement)))}static jQueryInterface(v){return this.each(function(){const T=Qe.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}$e(Qe);const vt=new RegExp("(^|\\s)bs-popover\\S+","g"),Dt={...Qe.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Wt={...Qe.DefaultType,content:"(string|element|function)"},qt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class nt extends Qe{static get Default(){return Dt}static get NAME(){return"popover"}static get Event(){return qt}static get DefaultType(){return Wt}isWithContent(){return this.getTitle()||this._getContent()}getTipElement(){return this.tip||(this.tip=super.getTipElement(),this.getTitle()||t.findOne(".popover-header",this.tip).remove(),this._getContent()||t.findOne(".popover-body",this.tip).remove()),this.tip}setContent(){const v=this.getTipElement();this.setElementContent(t.findOne(".popover-header",v),this.getTitle());let T=this._getContent();typeof T=="function"&&(T=T.call(this._element)),this.setElementContent(t.findOne(".popover-body",v),T),v.classList.remove("fade","show")}_addAttachmentClass(v){this.getTipElement().classList.add("bs-popover-"+this.updateAttachment(v))}_getContent(){return this._element.getAttribute("data-bs-content")||this._config.content}_cleanTipClass(){const v=this.getTipElement(),T=v.getAttribute("class").match(vt);T!==null&&T.length>0&&T.map(B=>B.trim()).forEach(B=>v.classList.remove(B))}static jQueryInterface(v){return this.each(function(){const T=nt.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}$e(nt);const xt={offset:10,method:"auto",target:""},Ot={offset:"number",method:"string",target:"(string|element)"};class Xt extends je{constructor(v,T){super(v),this._scrollElement=this._element.tagName==="BODY"?window:this._element,this._config=this._getConfig(T),this._selector=`${this._config.target} .nav-link, ${this._config.target} .list-group-item, ${this._config.target} .dropdown-item`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,W.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return xt}static get NAME(){return"scrollspy"}refresh(){const v=this._scrollElement===this._scrollElement.window?"offset":"position",T=this._config.method==="auto"?v:this._config.method,B=T==="position"?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.find(this._selector).map(K=>{const Ee=r(K),De=Ee?t.findOne(Ee):null;if(De){const at=De.getBoundingClientRect();if(at.width||at.height)return[L[T](De).top+B,Ee]}return null}).filter(K=>K).sort((K,Ee)=>K[0]-Ee[0]).forEach(K=>{this._offsets.push(K[0]),this._targets.push(K[1])})}dispose(){W.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(v){if(typeof(v={...xt,...L.getDataAttributes(this._element),...typeof v=="object"&&v?v:{}}).target!="string"&&p(v.target)){let{id:T}=v.target;T||(T=s("scrollspy"),v.target.id=T),v.target="#"+T}return S("scrollspy",v,Ot),v}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const v=this._getScrollTop()+this._config.offset,T=this._getScrollHeight(),B=this._config.offset+T-this._getOffsetHeight();if(this._scrollHeight!==T&&this.refresh(),v>=B){const K=this._targets[this._targets.length-1];this._activeTarget!==K&&this._activate(K)}else{if(this._activeTarget&&v<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let K=this._offsets.length;K--;)this._activeTarget!==this._targets[K]&&v>=this._offsets[K]&&(this._offsets[K+1]===void 0||v<this._offsets[K+1])&&this._activate(this._targets[K])}}_activate(v){this._activeTarget=v,this._clear();const T=this._selector.split(",").map(K=>`${K}[data-bs-target="${v}"],${K}[href="${v}"]`),B=t.findOne(T.join(","));B.classList.contains("dropdown-item")?(t.findOne(".dropdown-toggle",B.closest(".dropdown")).classList.add("active"),B.classList.add("active")):(B.classList.add("active"),t.parents(B,".nav, .list-group").forEach(K=>{t.prev(K,".nav-link, .list-group-item").forEach(Ee=>Ee.classList.add("active")),t.prev(K,".nav-item").forEach(Ee=>{t.children(Ee,".nav-link").forEach(De=>De.classList.add("active"))})})),W.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:v})}_clear(){t.find(this._selector).filter(v=>v.classList.contains("active")).forEach(v=>v.classList.remove("active"))}static jQueryInterface(v){return this.each(function(){const T=Xt.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}W.on(window,"load.bs.scrollspy.data-api",()=>{t.find('[data-bs-spy="scroll"]').forEach(q=>new Xt(q))}),$e(Xt);class ei extends je{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active"))return;let v;const T=l(this._element),B=this._element.closest(".nav, .list-group");if(B){const De=B.nodeName==="UL"||B.nodeName==="OL"?":scope > li > .active":".active";v=t.find(De,B),v=v[v.length-1]}const K=v?W.trigger(v,"hide.bs.tab",{relatedTarget:this._element}):null;if(W.trigger(this._element,"show.bs.tab",{relatedTarget:v}).defaultPrevented||K!==null&&K.defaultPrevented)return;this._activate(this._element,B);const Ee=()=>{W.trigger(v,"hidden.bs.tab",{relatedTarget:this._element}),W.trigger(this._element,"shown.bs.tab",{relatedTarget:v})};T?this._activate(T,T.parentNode,Ee):Ee()}_activate(v,T,B){const K=(!T||T.nodeName!=="UL"&&T.nodeName!=="OL"?t.children(T,".active"):t.find(":scope > li > .active",T))[0],Ee=B&&K&&K.classList.contains("fade"),De=()=>this._transitionComplete(v,K,B);K&&Ee?(K.classList.remove("show"),this._queueCallback(De,v,!0)):De()}_transitionComplete(v,T,B){if(T){T.classList.remove("active");const Ee=t.findOne(":scope > .dropdown-menu .active",T.parentNode);Ee&&Ee.classList.remove("active"),T.getAttribute("role")==="tab"&&T.setAttribute("aria-selected",!1)}v.classList.add("active"),v.getAttribute("role")==="tab"&&v.setAttribute("aria-selected",!0),V(v),v.classList.contains("fade")&&v.classList.add("show");let K=v.parentNode;if(K&&K.nodeName==="LI"&&(K=K.parentNode),K&&K.classList.contains("dropdown-menu")){const Ee=v.closest(".dropdown");Ee&&t.find(".dropdown-toggle",Ee).forEach(De=>De.classList.add("active")),v.setAttribute("aria-expanded",!0)}B&&B()}static jQueryInterface(v){return this.each(function(){const T=ei.getOrCreateInstance(this);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v]()}})}}W.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(q){["A","AREA"].includes(this.tagName)&&q.preventDefault(),F(this)||ei.getOrCreateInstance(this).show()}),$e(ei);const di={animation:"boolean",autohide:"boolean",delay:"number"},qi={animation:!0,autohide:!0,delay:5e3};class Pi extends je{constructor(v,T){super(v),this._config=this._getConfig(T),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return di}static get Default(){return qi}static get NAME(){return"toast"}show(){W.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),V(this._element),this._element.classList.add("showing"),this._queueCallback(()=>{this._element.classList.remove("showing"),this._element.classList.add("show"),W.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains("show")&&(W.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.remove("show"),this._queueCallback(()=>{this._element.classList.add("hide"),W.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),super.dispose()}_getConfig(v){return v={...qi,...L.getDataAttributes(this._element),...typeof v=="object"&&v?v:{}},S("toast",v,this.constructor.DefaultType),v}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(v,T){switch(v.type){case"mouseover":case"mouseout":this._hasMouseInteraction=T;break;case"focusin":case"focusout":this._hasKeyboardInteraction=T}if(T)return void this._clearTimeout();const B=v.relatedTarget;this._element===B||this._element.contains(B)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,"click.dismiss.bs.toast",'[data-bs-dismiss="toast"]',()=>this.hide()),W.on(this._element,"mouseover.bs.toast",v=>this._onInteraction(v,!0)),W.on(this._element,"mouseout.bs.toast",v=>this._onInteraction(v,!1)),W.on(this._element,"focusin.bs.toast",v=>this._onInteraction(v,!0)),W.on(this._element,"focusout.bs.toast",v=>this._onInteraction(v,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(v){return this.each(function(){const T=Pi.getOrCreateInstance(this,v);if(typeof v=="string"){if(T[v]===void 0)throw new TypeError(`No method named "${v}"`);T[v](this)}})}}return $e(Pi),{Alert:mt,Button:yt,Carousel:Lt,Collapse:et,Dropdown:c,Modal:R,Offcanvas:oe,Popover:nt,ScrollSpy:Xt,Tab:ei,Toast:Pi,Tooltip:Qe}});$(document).ready(function(){var a='<i class="fa fa-angle-up" aria-hidden="true"></i>',i='<i class="fa fa-angle-down" aria-hidden="true"></i>',e='<span class="rs-menu-parent">'+i+"</span>",t='<div class="sub-menu-close"><i class="fa fa-times" aria-hidden="true"></i>Close</div>';$(".nav-menu .rs-mega-menu").append(e),$(".nav-menu > .menu-item-has-children").append(e),$(".nav-menu > .menu-item-has-children .sub-menu > .menu-item-has-children").append(e),$(".nav-menu .menu-item-has-children .sub-menu").append(t),$(".nav-menu .rs-mega-menu .mega-menu").append(t),$("span.rs-menu-parent").on("click",function(n){n.preventDefault();var r=$(this),l=r.siblings("ul"),u=r.parent("li"),p=u.siblings("li"),g="span.rs-menu-parent";if(l.hasClass("sub-menu"))var l=r.siblings("ul.sub-menu");else if(l.hasClass("mega-menu"))var l=r.siblings("ul.mega-menu");l.hasClass("visible")?(setTimeout(function(){l.removeClass("visible")},10),r.html(i)):(setTimeout(function(){l.addClass("visible")},10),r.html(a)),u.find("ul.visible").removeClass("visible"),u.siblings("li").children("ul").removeClass("visible"),p.find("ul.visible").removeClass("visible"),u.children("ul").find(g).html(i),p.children(g).html(i),p.find(g).html(i)}),$("ul.nav-menu div.sub-menu-close").on("click",function(n){n.preventDefault();var r=$(this).parent("ul");r.removeClass("visible"),r.siblings("span.rs-menu-parent").html(i)}),$("a.rs-menu-toggle").on("click",function(n){n.preventDefault();var r=$(".rs-menu ul").height();$(this).hasClass("rs-menu-toggle-open")?($(this).removeClass("rs-menu-toggle-open").addClass("rs-menu-toggle-close"),$(".rs-menu").animate({height:"0px"},{queue:!1,duration:300}).addClass("rs-menu-close")):($(this).removeClass("rs-menu-toggle-close").addClass("rs-menu-toggle-open"),$(".rs-menu").animate({height:r},{queue:!1,duration:300}).removeClass("rs-menu-close"))});var s=0;$(window).on("load",function(){s=$(window).width(),$(".rs-menu").addClass("rs-menu-close")}),$(window).resize(function(){s!==$(window).width()&&($(".visible").removeClass("visible"),$(".rs-menu-toggle").removeClass("rs-menu-toggle-open").addClass("rs-menu-toggle-close"),$(".rs-menu").css("height","0").addClass("rs-menu-close"),$("span.rs-menu-parent").html(i),s=$(window).width())})});(function(a,i,e,t){var s=function(n,r){this.elem=n,this.$elem=a(n),this.options=r,this.metadata=this.$elem.data("plugin-options"),this.$win=a(i),this.sections={},this.didScroll=!1,this.$doc=a(e),this.docHeight=this.$doc.height()};s.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollOffset:89,scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){return this.config=a.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$elem.find(this.config.navItems),this.config.filter!==""&&(this.$nav=this.$nav.filter(this.config.filter)),this.$nav.on("click.onePageNav",a.proxy(this.handleClick,this)),this.getPositions(),this.bindInterval(),this.$win.on("resize.onePageNav",a.proxy(this.getPositions,this)),this},adjustNav:function(n,r){n.$elem.find("."+n.config.currentClass).removeClass(n.config.currentClass),r.addClass(n.config.currentClass)},bindInterval:function(){var n=this,r;n.$win.on("scroll.onePageNav",function(){n.didScroll=!0}),n.t=setInterval(function(){r=n.$doc.height(),n.didScroll&&(n.didScroll=!1,n.scrollChange()),r!==n.docHeight&&(n.docHeight=r,n.getPositions())},250)},getHash:function(n){return n.attr("href").split("#")[1]},getPositions:function(){var n=this,r,l,u;n.$nav.each(function(){r=n.getHash(a(this)),u=a("#"+r),u.length&&(l=u.offset().top,n.sections[r]=Math.round(l))})},getSection:function(n){var r=null,l=Math.round(this.$win.height()*this.config.scrollThreshold);for(var u in this.sections)this.sections[u]-l<n&&(r=u);return r},handleClick:function(n){var r=this,l=a(n.currentTarget),u=l.parent(),p="#"+r.getHash(l);u.hasClass(r.config.currentClass)||(r.config.begin&&r.config.begin(),r.adjustNav(r,u),r.unbindInterval(),r.scrollTo(p,function(){r.config.changeHash&&(i.location.hash=p),r.bindInterval(),r.config.end&&r.config.end()})),n.preventDefault()},scrollChange:function(){var n=this.$win.scrollTop(),r=this.getSection(n),l;r!==null&&(l=this.$elem.find('a[href$="#'+r+'"]').parent(),l.hasClass(this.config.currentClass)||(this.adjustNav(this,l),this.config.scrollChange&&this.config.scrollChange(l)))},scrollTo:function(n,r){var l=a(n).offset().top;a("html, body").animate({scrollTop:l-this.config.scrollOffset},this.config.scrollSpeed,this.config.easing,r)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},s.defaults=s.prototype.defaults,a.fn.onePageNav=function(n){return this.each(function(){new s(this,n).init()})}})(jQuery,window,document);(function(a,i,e,t){function s(n,r){this.settings=null,this.options=a.extend({},s.Defaults,r),this.$element=a(n),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(l,u){this._handlers[u]=a.proxy(this[u],this)},this)),a.each(s.Plugins,a.proxy(function(l,u){this._plugins[l.charAt(0).toLowerCase()+l.slice(1)]=new u(this)},this)),a.each(s.Workers,a.proxy(function(l,u){this._pipe.push({filter:u.filter,run:a.proxy(u.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(n){n.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(n){var r=this.settings.margin||"",l=!this.settings.autoWidth,u=this.settings.rtl,p={width:"auto","margin-left":u?r:"","margin-right":u?"":r};!l&&this.$stage.children().css(p),n.css=p}},{filter:["width","items","settings"],run:function(n){var r=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,l=null,u=this._items.length,p=!this.settings.autoWidth,g=[];for(n.items={merge:!1,width:r};u--;)l=this._mergers[u],l=this.settings.mergeFit&&Math.min(l,this.settings.items)||l,n.items.merge=l>1||n.items.merge,g[u]=p?r*l:this._items[u].width();this._widths=g}},{filter:["items","settings"],run:function(){var n=[],r=this._items,l=this.settings,u=Math.max(2*l.items,4),p=2*Math.ceil(r.length/2),g=l.loop&&r.length?l.rewind?u:Math.max(u,p):0,S="",I="";for(g/=2;g--;)n.push(this.normalize(n.length/2,!0)),S+=r[n[n.length-1]][0].outerHTML,n.push(this.normalize(r.length-1-(n.length-1)/2,!0)),I=r[n[n.length-1]][0].outerHTML+I;this._clones=n,a(S).addClass("cloned").appendTo(this.$stage),a(I).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var n=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,l=-1,u=0,p=0,g=[];++l<r;)u=g[l-1]||0,p=this._widths[this.relative(l)]+this.settings.margin,g.push(u+p*n);this._coordinates=g}},{filter:["width","items","settings"],run:function(){var n=this.settings.stagePadding,r=this._coordinates,l={width:Math.ceil(Math.abs(r[r.length-1]))+2*n,"padding-left":n||"","padding-right":n||""};this.$stage.css(l)}},{filter:["width","items","settings"],run:function(n){var r=this._coordinates.length,l=!this.settings.autoWidth,u=this.$stage.children();if(l&&n.items.merge)for(;r--;)n.css.width=this._widths[this.relative(r)],u.eq(r).css(n.css);else l&&(n.css.width=n.items.width,u.css(n.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(n){n.current=n.current?this.$stage.children().index(n.current):0,n.current=Math.max(this.minimum(),Math.min(this.maximum(),n.current)),this.reset(n.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var n,r,l,u,p=this.settings.rtl?1:-1,g=2*this.settings.stagePadding,S=this.coordinates(this.current())+g,I=S+this.width()*p,F=[];for(l=0,u=this._coordinates.length;l<u;l++)n=this._coordinates[l-1]||0,r=Math.abs(this._coordinates[l])+g*p,(this.op(n,"<=",S)&&this.op(n,">",I)||this.op(r,"<",S)&&this.op(r,">",I))&&F.push(l);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+F.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],s.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var n,r,l;n=this.$element.find("img"),r=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:t,l=this.$element.children(r).width(),n.length&&l<=0&&this.preloadAutoWidthImages(n)}this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.setup=function(){var n=this.viewport(),r=this.options.responsive,l=-1,u=null;r?(a.each(r,function(p){p<=n&&p>l&&(l=Number(p))}),u=a.extend({},this.options,r[l]),typeof u.stagePadding=="function"&&(u.stagePadding=u.stagePadding()),delete u.responsive,u.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+l))):u=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:u}}),this._breakpoint=l,this.settings=u,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(n){var r=this.trigger("prepare",{content:n});return r.data||(r.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(n)),this.trigger("prepared",{content:r.data}),r.data},s.prototype.update=function(){for(var n=0,r=this._pipe.length,l=a.proxy(function(p){return this[p]},this._invalidated),u={};n<r;)(this._invalidated.all||a.grep(this._pipe[n].filter,l).length>0)&&this._pipe[n].run(u),n++;this._invalidated={},!this.is("valid")&&this.enter("valid")},s.prototype.width=function(n){switch(n=n||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},s.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(n){var r=null;n.which!==3&&(a.support.transform?(r=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),r={x:r[r.length===16?12:4],y:r[r.length===16?13:5]}):(r=this.$stage.position(),r={x:this.settings.rtl?r.left+this.$stage.width()-this.width()+this.settings.margin:r.left,y:r.top}),this.is("animating")&&(a.support.transform?this.animate(r.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,n.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=a(n.target),this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this.pointer(n),a(e).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(e).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(l){var u=this.difference(this._drag.pointer,this.pointer(l));a(e).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(u.x)<Math.abs(u.y)&&this.is("valid")||(l.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(n){var r=null,l=null,u=null,p=this.difference(this._drag.pointer,this.pointer(n)),g=this.difference(this._drag.stage.start,p);this.is("dragging")&&(n.preventDefault(),this.settings.loop?(r=this.coordinates(this.minimum()),l=this.coordinates(this.maximum()+1)-r,g.x=((g.x-r)%l+l)%l+r):(r=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),l=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?-1*p.x/5:0,g.x=Math.max(Math.min(g.x,r+u),l+u)),this._drag.stage.current=g,this.animate(g.x))},s.prototype.onDragEnd=function(n){var r=this.difference(this._drag.pointer,this.pointer(n)),l=this._drag.stage.current,u=r.x>0^this.settings.rtl?"left":"right";a(e).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(r.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(l.x,r.x!==0?u:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=u,(Math.abs(r.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(n,r){var l=-1,u=30,p=this.width(),g=this.coordinates();return this.settings.freeDrag||a.each(g,a.proxy(function(S,I){return r==="left"&&n>I-u&&n<I+u?l=S:r==="right"&&n>I-p-u&&n<I-p+u?l=S+1:this.op(n,"<",I)&&this.op(n,">",g[S+1]||I-p)&&(l=r==="left"?S+1:S),l===-1},this)),this.settings.loop||(this.op(n,">",g[this.minimum()])?l=n=this.minimum():this.op(n,"<",g[this.maximum()])&&(l=n=this.maximum())),l},s.prototype.animate=function(n){var r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+n+"px,0px,0px)",transition:this.speed()/1e3+"s"}):r?this.$stage.animate({left:n+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:n+"px"})},s.prototype.is=function(n){return this._states.current[n]&&this._states.current[n]>0},s.prototype.current=function(n){if(n===t)return this._current;if(this._items.length===0)return t;if(n=this.normalize(n),this._current!==n){var r=this.trigger("change",{property:{name:"position",value:n}});r.data!==t&&(n=this.normalize(r.data)),this._current=n,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},s.prototype.invalidate=function(n){return a.type(n)==="string"&&(this._invalidated[n]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(r,l){return l})},s.prototype.reset=function(n){n=this.normalize(n),n!==t&&(this._speed=0,this._current=n,this.suppress(["translate","translated"]),this.animate(this.coordinates(n)),this.release(["translate","translated"]))},s.prototype.normalize=function(n,r){var l=this._items.length,u=r?0:this._clones.length;return!this.isNumeric(n)||l<1?n=t:(n<0||n>=l+u)&&(n=((n-u/2)%l+l)%l+u/2),n},s.prototype.relative=function(n){return n-=this._clones.length/2,this.normalize(n,!0)},s.prototype.maximum=function(n){var r,l,u,p=this.settings,g=this._coordinates.length;if(p.loop)g=this._clones.length/2+this._items.length-1;else if(p.autoWidth||p.merge){for(r=this._items.length,l=this._items[--r].width(),u=this.$element.width();r--&&(l+=this._items[r].width()+this.settings.margin,!(l>u)););g=r+1}else g=p.center?this._items.length-1:this._items.length-p.items;return n&&(g-=this._clones.length/2),Math.max(g,0)},s.prototype.minimum=function(n){return n?0:this._clones.length/2},s.prototype.items=function(n){return n===t?this._items.slice():(n=this.normalize(n,!0),this._items[n])},s.prototype.mergers=function(n){return n===t?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])},s.prototype.clones=function(n){var r=this._clones.length/2,l=r+this._items.length,u=function(p){return p%2===0?l+p/2:r-(p+1)/2};return n===t?a.map(this._clones,function(p,g){return u(g)}):a.map(this._clones,function(p,g){return p===n?u(g):null})},s.prototype.speed=function(n){return n!==t&&(this._speed=n),this._speed},s.prototype.coordinates=function(n){var r,l=1,u=n-1;return n===t?a.map(this._coordinates,a.proxy(function(p,g){return this.coordinates(g)},this)):(this.settings.center?(this.settings.rtl&&(l=-1,u=n+1),r=this._coordinates[n],r+=(this.width()-r+(this._coordinates[u]||0))/2*l):r=this._coordinates[u]||0,r=Math.ceil(r))},s.prototype.duration=function(n,r,l){return l===0?0:Math.min(Math.max(Math.abs(r-n),1),6)*Math.abs(l||this.settings.smartSpeed)},s.prototype.to=function(n,r){var l=this.current(),u=null,p=n-this.relative(l),g=(p>0)-(p<0),S=this._items.length,I=this.minimum(),F=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(p)>S/2&&(p+=g*-1*S),n=l+p,u=((n-I)%S+S)%S+I,u!==n&&u-p<=F&&u-p>0&&(l=u-p,n=u,this.reset(l))):this.settings.rewind?(F+=1,n=(n%F+F)%F):n=Math.max(I,Math.min(F,n)),this.speed(this.duration(l,n,r)),this.current(n),this.$element.is(":visible")&&this.update()},s.prototype.next=function(n){n=n||!1,this.to(this.relative(this.current())+1,n)},s.prototype.prev=function(n){n=n||!1,this.to(this.relative(this.current())-1,n)},s.prototype.onTransitionEnd=function(n){if(n!==t&&(n.stopPropagation(),(n.target||n.srcElement||n.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},s.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==i?n=a(this.options.responsiveBaseElement).width():i.innerWidth?n=i.innerWidth:e.documentElement&&e.documentElement.clientWidth?n=e.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},s.prototype.replace=function(n){this.$stage.empty(),this._items=[],n&&(n=n instanceof jQuery?n:a(n)),this.settings.nestedItemSelector&&(n=n.find("."+this.settings.nestedItemSelector)),n.filter(function(){return this.nodeType===1}).each(a.proxy(function(r,l){l=this.prepare(l),this.$stage.append(l),this._items.push(l),this._mergers.push(1*l.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(n,r){var l=this.relative(this._current);r=r===t?this._items.length:this.normalize(r,!0),n=n instanceof jQuery?n:a(n),this.trigger("add",{content:n,position:r}),n=this.prepare(n),this._items.length===0||r===this._items.length?(this._items.length===0&&this.$stage.append(n),this._items.length!==0&&this._items[r-1].after(n),this._items.push(n),this._mergers.push(1*n.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[r].before(n),this._items.splice(r,0,n),this._mergers.splice(r,0,1*n.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[l]&&this.reset(this._items[l].index()),this.invalidate("items"),this.trigger("added",{content:n,position:r})},s.prototype.remove=function(n){n=this.normalize(n,!0),n!==t&&(this.trigger("remove",{content:this._items[n],position:n}),this._items[n].remove(),this._items.splice(n,1),this._mergers.splice(n,1),this.invalidate("items"),this.trigger("removed",{content:null,position:n}))},s.prototype.preloadAutoWidthImages=function(n){n.each(a.proxy(function(r,l){this.enter("pre-loading"),l=a(l),a(new Image).one("load",a.proxy(function(u){l.attr("src",u.target.src),l.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",l.attr("src")||l.attr("data-src")||l.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(e).off(".owl.core"),this.settings.responsive!==!1&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize));for(var n in this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(n,r,l){var u=this.settings.rtl;switch(r){case"<":return u?n>l:n<l;case">":return u?n<l:n>l;case">=":return u?n<=l:n>=l;case"<=":return u?n>=l:n<=l}},s.prototype.on=function(n,r,l,u){n.addEventListener?n.addEventListener(r,l,u):n.attachEvent&&n.attachEvent("on"+r,l)},s.prototype.off=function(n,r,l,u){n.removeEventListener?n.removeEventListener(r,l,u):n.detachEvent&&n.detachEvent("on"+r,l)},s.prototype.trigger=function(n,r,l,u,p){var g={item:{count:this._items.length,index:this.current()}},S=a.camelCase(a.grep(["on",n,l],function(F){return F}).join("-").toLowerCase()),I=a.Event([n,"owl",l||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},g,r));return this._supress[n]||(a.each(this._plugins,function(F,O){O.onTrigger&&O.onTrigger(I)}),this.register({type:s.Type.Event,name:n}),this.$element.trigger(I),this.settings&&typeof this.settings[S]=="function"&&this.settings[S].call(this,I)),I},s.prototype.enter=function(n){a.each([n].concat(this._states.tags[n]||[]),a.proxy(function(r,l){this._states.current[l]===t&&(this._states.current[l]=0),this._states.current[l]++},this))},s.prototype.leave=function(n){a.each([n].concat(this._states.tags[n]||[]),a.proxy(function(r,l){this._states.current[l]--},this))},s.prototype.register=function(n){if(n.type===s.Type.Event){if(a.event.special[n.name]||(a.event.special[n.name]={}),!a.event.special[n.name].owl){var r=a.event.special[n.name]._default;a.event.special[n.name]._default=function(l){return!r||!r.apply||l.namespace&&l.namespace.indexOf("owl")!==-1?l.namespace&&l.namespace.indexOf("owl")>-1:r.apply(this,arguments)},a.event.special[n.name].owl=!0}}else n.type===s.Type.State&&(this._states.tags[n.name]?this._states.tags[n.name]=this._states.tags[n.name].concat(n.tags):this._states.tags[n.name]=n.tags,this._states.tags[n.name]=a.grep(this._states.tags[n.name],a.proxy(function(l,u){return a.inArray(l,this._states.tags[n.name])===u},this)))},s.prototype.suppress=function(n){a.each(n,a.proxy(function(r,l){this._supress[l]=!0},this))},s.prototype.release=function(n){a.each(n,a.proxy(function(r,l){delete this._supress[l]},this))},s.prototype.pointer=function(n){var r={x:null,y:null};return n=n.originalEvent||n||i.event,n=n.touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n.pageX?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r},s.prototype.isNumeric=function(n){return!isNaN(parseFloat(n))},s.prototype.difference=function(n,r){return{x:n.x-r.x,y:n.y-r.y}},a.fn.owlCarousel=function(n){var r=Array.prototype.slice.call(arguments,1);return this.each(function(){var l=a(this),u=l.data("owl.carousel");u||(u=new s(this,typeof n=="object"&&n),l.data("owl.carousel",u),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(p,g){u.register({type:s.Type.Event,name:g}),u.$element.on(g+".owl.carousel.core",a.proxy(function(S){S.namespace&&S.relatedTarget!==this&&(this.suppress([g]),u[g].apply(this,[].slice.call(arguments,1)),this.release([g]))},u))})),typeof n=="string"&&n.charAt(0)!=="_"&&u[n].apply(u,r)})},a.fn.owlCarousel.Constructor=s})(window.Zepto||window.jQuery,window,document),function(a,i,e,t){var s=function(n){this._core=n,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoRefresh:!0,autoRefreshInterval:500},s.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=i.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},s.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},s.prototype.destroy=function(){var n,r;i.clearInterval(this._interval);for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=s}(window.Zepto||window.jQuery,window),function(a,i,e,t){var s=function(n){this._core=n,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(r){if(r.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(r.property&&r.property.name=="position"||r.type=="initialized"))for(var l=this._core.settings,u=l.center&&Math.ceil(l.items/2)||l.items,p=l.center&&u*-1||0,g=(r.property&&r.property.value!==t?r.property.value:this._core.current())+p,S=this._core.clones().length,I=a.proxy(function(F,O){this.load(O)},this);p++<u;)this.load(S/2+this._core.relative(g)),S&&a.each(this._core.clones(this._core.relative(g)),I),g++},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={lazyLoad:!1},s.prototype.load=function(n){var r=this._core.$stage.children().eq(n),l=r&&r.find(".owl-lazy");!l||a.inArray(r.get(0),this._loaded)>-1||(l.each(a.proxy(function(u,p){var g,S=a(p),I=i.devicePixelRatio>1&&S.attr("data-src-retina")||S.attr("data-src");this._core.trigger("load",{element:S,url:I},"lazy"),S.is("img")?S.one("load.owl.lazy",a.proxy(function(){S.css("opacity",1),this._core.trigger("loaded",{element:S,url:I},"lazy")},this)).attr("src",I):(g=new Image,g.onload=a.proxy(function(){S.css({"background-image":'url("'+I+'")',opacity:"1"}),this._core.trigger("loaded",{element:S,url:I},"lazy")},this),g.src=I)},this)),this._loaded.push(r.get(0)))},s.prototype.destroy=function(){var n,r;for(n in this.handlers)this._core.$element.off(n,this.handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=s}(window.Zepto||window.jQuery,window),function(a,i,e,t){var s=function(n){this._core=n,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.autoHeight&&r.property.name=="position"&&this.update()},this),"loaded.owl.lazy":a.proxy(function(r){r.namespace&&this._core.settings.autoHeight&&r.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers)};s.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},s.prototype.update=function(){var n=this._core._current,r=n+this._core.settings.items,l=this._core.$stage.children().toArray().slice(n,r),u=[],p=0;a.each(l,function(g,S){u.push(a(S).height())}),p=Math.max.apply(null,u),this._core.$stage.parent().height(p).addClass(this._core.settings.autoHeightClass)},s.prototype.destroy=function(){var n,r;for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=s}(window.Zepto||window.jQuery),function(a,i,e,t){var s=function(n){this._core=n,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(r){r.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.video&&this.isInFullScreen()&&r.preventDefault()},this),"refreshed.owl.carousel":a.proxy(function(r){r.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":a.proxy(function(r){r.namespace&&r.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":a.proxy(function(r){if(r.namespace){var l=a(r.content).find(".owl-video");l.length&&(l.css("display","none"),this.fetch(l,a(r.content)))}},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(r){this.play(r)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(n,r){var l=function(){return n.attr("data-vimeo-id")?"vimeo":n.attr("data-vzaar-id")?"vzaar":"youtube"}(),u=n.attr("data-vimeo-id")||n.attr("data-youtube-id")||n.attr("data-vzaar-id"),p=n.attr("data-width")||this._core.settings.videoWidth,g=n.attr("data-height")||this._core.settings.videoHeight,S=n.attr("href");if(!S)throw new Error("Missing video URL.");if(u=S.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),u[3].indexOf("youtu")>-1)l="youtube";else if(u[3].indexOf("vimeo")>-1)l="vimeo";else{if(!(u[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");l="vzaar"}u=u[6],this._videos[S]={type:l,id:u,width:p,height:g},r.attr("data-video",S),this.thumbnail(n,this._videos[S])},s.prototype.thumbnail=function(n,r){var l,u,p,g=r.width&&r.height?'style="width:'+r.width+"px;height:"+r.height+'px;"':"",S=n.find("img"),I="src",F="",O=this._core.settings,X=function(V){u='<div class="owl-video-play-icon"></div>',l=O.lazyLoad?'<div class="owl-video-tn '+F+'" '+I+'="'+V+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+V+')"></div>',n.after(l),n.after(u)};if(n.wrap('<div class="owl-video-wrapper"'+g+"></div>"),this._core.settings.lazyLoad&&(I="data-src",F="owl-lazy"),S.length)return X(S.attr(I)),S.remove(),!1;r.type==="youtube"?(p="//img.youtube.com/vi/"+r.id+"/hqdefault.jpg",X(p)):r.type==="vimeo"?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+r.id+".json",jsonp:"callback",dataType:"jsonp",success:function(V){p=V[0].thumbnail_large,X(p)}}):r.type==="vzaar"&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+r.id+".json",jsonp:"callback",dataType:"jsonp",success:function(V){p=V.framegrab_url,X(p)}})},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(n){var r,l=a(n.target),u=l.closest("."+this._core.settings.itemClass),p=this._videos[u.attr("data-video")],g=p.width||"100%",S=p.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),u=this._core.items(this._core.relative(u.index())),this._core.reset(u.index()),p.type==="youtube"?r='<iframe width="'+g+'" height="'+S+'" src="//www.youtube.com/embed/'+p.id+"?autoplay=1&rel=0&v="+p.id+'" frameborder="0" allowfullscreen></iframe>':p.type==="vimeo"?r='<iframe src="//player.vimeo.com/video/'+p.id+'?autoplay=1" width="'+g+'" height="'+S+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':p.type==="vzaar"&&(r='<iframe frameborder="0"height="'+S+'"width="'+g+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+p.id+'/player?autoplay=true"></iframe>'),a('<div class="owl-video-frame">'+r+"</div>").insertAfter(u.find(".owl-video")),this._playing=u.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var n=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return n&&a(n).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var n,r;this._core.$element.off("click.owl.video");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(a,i,e,t){var s=function(n){this.core=n,this.core.options=a.extend({},s.Defaults,this.core.options),this.swapping=!0,this.previous=t,this.next=t,this.handlers={"change.owl.carousel":a.proxy(function(r){r.namespace&&r.property.name=="position"&&(this.previous=this.core.current(),this.next=r.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(r){r.namespace&&(this.swapping=r.type=="translated")},this),"translate.owl.carousel":a.proxy(function(r){r.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};s.Defaults={animateOut:!1,animateIn:!1},s.prototype.swap=function(){if(this.core.settings.items===1&&a.support.animation&&a.support.transition){this.core.speed(0);var n,r=a.proxy(this.clear,this),l=this.core.$stage.children().eq(this.previous),u=this.core.$stage.children().eq(this.next),p=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(n=this.core.coordinates(this.previous)-this.core.coordinates(this.next),l.one(a.support.animation.end,r).css({left:n+"px"}).addClass("animated owl-animated-out").addClass(g)),p&&u.one(a.support.animation.end,r).addClass("animated owl-animated-in").addClass(p))}},s.prototype.clear=function(n){a(n.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},s.prototype.destroy=function(){var n,r;for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=s}(window.Zepto||window.jQuery),function(a,i,e,t){var s=function(n){this._core=n,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":a.proxy(function(r){r.namespace&&r.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():r.namespace&&r.property.name==="position"&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":a.proxy(function(r,l,u){r.namespace&&this.play(l,u)},this),"stop.owl.autoplay":a.proxy(function(r){r.namespace&&this.stop()},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype.play=function(n,r){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},s.prototype._getNextTimeout=function(n,r){return this._timeout&&i.clearTimeout(this._timeout),i.setTimeout(a.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||e.hidden||this._core.next(r||this._core.settings.autoplaySpeed)},this),n||this._core.settings.autoplayTimeout)},s.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},s.prototype.stop=function(){this._core.is("rotating")&&(i.clearTimeout(this._timeout),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},s.prototype.destroy=function(){var n,r;this.stop();for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(a,i,e,t){var s=function(n){this._core=n,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(r.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.dotsData&&this._templates.splice(r.position,0,this._templates.pop())},this),"remove.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.dotsData&&this._templates.splice(r.position,1)},this),"changed.owl.carousel":a.proxy(function(r){r.namespace&&r.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":a.proxy(function(r){r.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":a.proxy(function(r){r.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers)};s.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},s.prototype.initialize=function(){var n,r=this._core.settings;this._controls.$relative=(r.navContainer?a(r.navContainer):a("<div>").addClass(r.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+r.navElement+">").addClass(r.navClass[0]).html(r.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(l){this.prev(r.navSpeed)},this)),this._controls.$next=a("<"+r.navElement+">").addClass(r.navClass[1]).html(r.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(l){this.next(r.navSpeed)},this)),r.dotsData||(this._templates=[a("<div>").addClass(r.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(r.dotsContainer?a(r.dotsContainer):a("<div>").addClass(r.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",a.proxy(function(l){var u=a(l.target).parent().is(this._controls.$absolute)?a(l.target).index():a(l.target).parent().index();l.preventDefault(),this.to(u,r.dotsSpeed)},this));for(n in this._overrides)this._core[n]=a.proxy(this[n],this)},s.prototype.destroy=function(){var n,r,l,u;for(n in this._handlers)this.$element.off(n,this._handlers[n]);for(r in this._controls)this._controls[r].remove();for(u in this.overides)this._core[u]=this._overrides[u];for(l in Object.getOwnPropertyNames(this))typeof this[l]!="function"&&(this[l]=null)},s.prototype.update=function(){var n,r,l=this._core.clones().length/2,u=l+this._core.items().length,p=this._core.maximum(!0),g=this._core.settings,S=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if(g.slideBy!=="page"&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||g.slideBy=="page")for(this._pages=[],n=l,r=0,0;n<u;n++){if(r>=S||r===0){if(this._pages.push({start:Math.min(p,n-l),end:n-l+S-1}),Math.min(p,n-l)===p)break;r=0}r+=this._core.mergers(this._core.relative(n))}},s.prototype.draw=function(){var n,r=this._core.settings,l=this._core.items().length<=r.items,u=this._core.relative(this._core.current()),p=r.loop||r.rewind;this._controls.$relative.toggleClass("disabled",!r.nav||l),r.nav&&(this._controls.$previous.toggleClass("disabled",!p&&u<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!p&&u>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!r.dots||l),r.dots&&(n=this._pages.length-this._controls.$absolute.children().length,r.dotsData&&n!==0?this._controls.$absolute.html(this._templates.join("")):n>0?this._controls.$absolute.append(new Array(n+1).join(this._templates[0])):n<0&&this._controls.$absolute.children().slice(n).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"))},s.prototype.onTrigger=function(n){var r=this._core.settings;n.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:r&&(r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items)}},s.prototype.current=function(){var n=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(r,l){return r.start<=n&&r.end>=n},this)).pop()},s.prototype.getPosition=function(n){var r,l,u=this._core.settings;return u.slideBy=="page"?(r=a.inArray(this.current(),this._pages),l=this._pages.length,n?++r:--r,r=this._pages[(r%l+l)%l].start):(r=this._core.relative(this._core.current()),l=this._core.items().length,n?r+=u.slideBy:r-=u.slideBy),r},s.prototype.next=function(n){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),n)},s.prototype.prev=function(n){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),n)},s.prototype.to=function(n,r,l){var u;!l&&this._pages.length?(u=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(n%u+u)%u].start,r)):a.proxy(this._overrides.to,this._core)(n,r)},a.fn.owlCarousel.Constructor.Plugins.Navigation=s}(window.Zepto||window.jQuery),function(a,i,e,t){var s=function(n){this._core=n,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(r){r.namespace&&this._core.settings.startPosition==="URLHash"&&a(i).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":a.proxy(function(r){if(r.namespace){var l=a(r.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!l)return;this._hashes[l]=r.content}},this),"changed.owl.carousel":a.proxy(function(r){if(r.namespace&&r.property.name==="position"){var l=this._core.items(this._core.relative(this._core.current())),u=a.map(this._hashes,function(p,g){return p===l?g:null}).join();if(!u||i.location.hash.slice(1)===u)return;i.location.hash=u}},this)},this._core.options=a.extend({},s.Defaults,this._core.options),this.$element.on(this._handlers),a(i).on("hashchange.owl.navigation",a.proxy(function(r){var l=i.location.hash.substring(1),u=this._core.$stage.children(),p=this._hashes[l]&&u.index(this._hashes[l]);p!==t&&p!==this._core.current()&&this._core.to(this._core.relative(p),!1,!0)},this))};s.Defaults={URLhashListener:!1},s.prototype.destroy=function(){var n,r;a(i).off("hashchange.owl.navigation");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(r in Object.getOwnPropertyNames(this))typeof this[r]!="function"&&(this[r]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=s}(window.Zepto||window.jQuery,window),function(a,i,e,t){function s(g,S){var I=!1,F=g.charAt(0).toUpperCase()+g.slice(1);return a.each((g+" "+l.join(F+" ")+F).split(" "),function(O,X){if(r[X]!==t)return I=!S||X,!1}),I}function n(g){return s(g,!0)}var r=a("<support>").get(0).style,l="Webkit Moz O ms".split(" "),u={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},p={csstransforms:function(){return!!s("transform")},csstransforms3d:function(){return!!s("perspective")},csstransitions:function(){return!!s("transition")},cssanimations:function(){return!!s("animation")}};p.csstransitions()&&(a.support.transition=new String(n("transition")),a.support.transition.end=u.transition.end[a.support.transition]),p.cssanimations()&&(a.support.animation=new String(n("animation")),a.support.animation.end=u.animation.end[a.support.animation]),p.csstransforms()&&(a.support.transform=new String(n("transform")),a.support.transform3d=p.csstransforms3d())}(window.Zepto||window.jQuery);/*! WOW - v1.1.2 - 2015-08-19
* Copyright (c) 2015 Matthieu Aussaguel; Licensed MIT */(function(){var a,i,e,t,s,n=function(l,u){return function(){return l.apply(u,arguments)}},r=[].indexOf||function(l){for(var u=0,p=this.length;p>u;u++)if(u in this&&this[u]===l)return u;return-1};i=function(){function l(){}return l.prototype.extend=function(u,p){var g,S;for(g in p)S=p[g],u[g]==null&&(u[g]=S);return u},l.prototype.isMobile=function(u){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)},l.prototype.createEvent=function(u,p,g,S){var I;return p==null&&(p=!1),g==null&&(g=!1),S==null&&(S=null),document.createEvent!=null?(I=document.createEvent("CustomEvent"),I.initCustomEvent(u,p,g,S)):document.createEventObject!=null?(I=document.createEventObject(),I.eventType=u):I.eventName=u,I},l.prototype.emitEvent=function(u,p){return u.dispatchEvent!=null?u.dispatchEvent(p):p in(u!=null)?u[p]():"on"+p in(u!=null)?u["on"+p]():void 0},l.prototype.addEvent=function(u,p,g){return u.addEventListener!=null?u.addEventListener(p,g,!1):u.attachEvent!=null?u.attachEvent("on"+p,g):u[p]=g},l.prototype.removeEvent=function(u,p,g){return u.removeEventListener!=null?u.removeEventListener(p,g,!1):u.detachEvent!=null?u.detachEvent("on"+p,g):delete u[p]},l.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},l}(),e=this.WeakMap||this.MozWeakMap||(e=function(){function l(){this.keys=[],this.values=[]}return l.prototype.get=function(u){var p,g,S,I,F;for(F=this.keys,p=S=0,I=F.length;I>S;p=++S)if(g=F[p],g===u)return this.values[p]},l.prototype.set=function(u,p){var g,S,I,F,O;for(O=this.keys,g=I=0,F=O.length;F>I;g=++I)if(S=O[g],S===u)return void(this.values[g]=p);return this.keys.push(u),this.values.push(p)},l}()),a=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a=function(){function l(){typeof console<"u"&&console!==null&&console.warn("MutationObserver is not supported by your browser."),typeof console<"u"&&console!==null&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return l.notSupported=!0,l.prototype.observe=function(){},l}()),t=this.getComputedStyle||function(l){return this.getPropertyValue=function(u){var p;return u==="float"&&(u="styleFloat"),s.test(u)&&u.replace(s,function(g,S){return S.toUpperCase()}),((p=l.currentStyle)!=null?p[u]:void 0)||null},this},s=/(\-([a-z]){1})/g,this.WOW=function(){function l(u){u==null&&(u={}),this.scrollCallback=n(this.scrollCallback,this),this.scrollHandler=n(this.scrollHandler,this),this.resetAnimation=n(this.resetAnimation,this),this.start=n(this.start,this),this.scrolled=!0,this.config=this.util().extend(u,this.defaults),u.scrollContainer!=null&&(this.config.scrollContainer=document.querySelector(u.scrollContainer)),this.animationNameCache=new e,this.wowEvent=this.util().createEvent(this.config.boxClass)}return l.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},l.prototype.init=function(){var u;return this.element=window.document.documentElement,(u=document.readyState)==="interactive"||u==="complete"?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},l.prototype.start=function(){var u,p,g,S;if(this.stopped=!1,this.boxes=(function(){var I,F,O,X;for(O=this.element.querySelectorAll("."+this.config.boxClass),X=[],I=0,F=O.length;F>I;I++)u=O[I],X.push(u);return X}).call(this),this.all=(function(){var I,F,O,X;for(O=this.boxes,X=[],I=0,F=O.length;F>I;I++)u=O[I],X.push(u);return X}).call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(S=this.boxes,p=0,g=S.length;g>p;p++)u=S[p],this.applyStyle(u,!0);return this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new a(function(I){return function(F){var O,X,V,be,Oe;for(Oe=[],O=0,X=F.length;X>O;O++)be=F[O],Oe.push((function(){var he,$e,b,de;for(b=be.addedNodes||[],de=[],he=0,$e=b.length;$e>he;he++)V=b[he],de.push(this.doSync(V));return de}).call(I));return Oe}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},l.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),this.interval!=null?clearInterval(this.interval):void 0},l.prototype.sync=function(){return a.notSupported?this.doSync(this.element):void 0},l.prototype.doSync=function(u){var p,g,S,I,F;if(u==null&&(u=this.element),u.nodeType===1){for(u=u.parentNode||u,I=u.querySelectorAll("."+this.config.boxClass),F=[],g=0,S=I.length;S>g;g++)p=I[g],r.call(this.all,p)<0?(this.boxes.push(p),this.all.push(p),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(p,!0),F.push(this.scrolled=!0)):F.push(void 0);return F}},l.prototype.show=function(u){return this.applyStyle(u),u.className=u.className+" "+this.config.animateClass,this.config.callback!=null&&this.config.callback(u),this.util().emitEvent(u,this.wowEvent),this.util().addEvent(u,"animationend",this.resetAnimation),this.util().addEvent(u,"oanimationend",this.resetAnimation),this.util().addEvent(u,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(u,"MSAnimationEnd",this.resetAnimation),u},l.prototype.applyStyle=function(u,p){var g,S,I;return S=u.getAttribute("data-wow-duration"),g=u.getAttribute("data-wow-delay"),I=u.getAttribute("data-wow-iteration"),this.animate(function(F){return function(){return F.customStyle(u,p,S,g,I)}}(this))},l.prototype.animate=function(){return"requestAnimationFrame"in window?function(u){return window.requestAnimationFrame(u)}:function(u){return u()}}(),l.prototype.resetStyle=function(){var u,p,g,S,I;for(S=this.boxes,I=[],p=0,g=S.length;g>p;p++)u=S[p],I.push(u.style.visibility="visible");return I},l.prototype.resetAnimation=function(u){var p;return u.type.toLowerCase().indexOf("animationend")>=0?(p=u.target||u.srcElement,p.className=p.className.replace(this.config.animateClass,"").trim()):void 0},l.prototype.customStyle=function(u,p,g,S,I){return p&&this.cacheAnimationName(u),u.style.visibility=p?"hidden":"visible",g&&this.vendorSet(u.style,{animationDuration:g}),S&&this.vendorSet(u.style,{animationDelay:S}),I&&this.vendorSet(u.style,{animationIterationCount:I}),this.vendorSet(u.style,{animationName:p?"none":this.cachedAnimationName(u)}),u},l.prototype.vendors=["moz","webkit"],l.prototype.vendorSet=function(u,p){var g,S,I,F;S=[];for(g in p)I=p[g],u[""+g]=I,S.push((function(){var O,X,V,be;for(V=this.vendors,be=[],O=0,X=V.length;X>O;O++)F=V[O],be.push(u[""+F+g.charAt(0).toUpperCase()+g.substr(1)]=I);return be}).call(this));return S},l.prototype.vendorCSS=function(u,p){var g,S,I,F,O,X;for(O=t(u),F=O.getPropertyCSSValue(p),I=this.vendors,g=0,S=I.length;S>g;g++)X=I[g],F=F||O.getPropertyCSSValue("-"+X+"-"+p);return F},l.prototype.animationName=function(u){var p;try{p=this.vendorCSS(u,"animation-name").cssText}catch{p=t(u).getPropertyValue("animation-name")}return p==="none"?"":p},l.prototype.cacheAnimationName=function(u){return this.animationNameCache.set(u,this.animationName(u))},l.prototype.cachedAnimationName=function(u){return this.animationNameCache.get(u)},l.prototype.scrollHandler=function(){return this.scrolled=!0},l.prototype.scrollCallback=function(){var u;return!this.scrolled||(this.scrolled=!1,this.boxes=(function(){var p,g,S,I;for(S=this.boxes,I=[],p=0,g=S.length;g>p;p++)u=S[p],u&&(this.isVisible(u)?this.show(u):I.push(u));return I}).call(this),this.boxes.length||this.config.live)?void 0:this.stop()},l.prototype.offsetTop=function(u){for(var p;u.offsetTop===void 0;)u=u.parentNode;for(p=u.offsetTop;u=u.offsetParent;)p+=u.offsetTop;return p},l.prototype.isVisible=function(u){var p,g,S,I,F;return g=u.getAttribute("data-wow-offset")||this.config.offset,F=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,I=F+Math.min(this.element.clientHeight,this.util().innerHeight())-g,S=this.offsetTop(u),p=S+u.clientHeight,I>=S&&p>=F},l.prototype.util=function(){return this._util!=null?this._util:this._util=new i},l.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},l}()}).call(void 0);/*!
 * https://github.com/umarwebdeveloper/jquery-css-skills-bar
 * Author: @umarwebdeveloper
 * Licensed under the MIT license
 */(function(a){a.fn.skillBars=function(i){var e=a.extend({from:0,to:!1,speed:1e3,interval:100,decimals:0,onUpdate:null,onComplete:null,classes:{skillBarBar:".skillbar-bar",skillBarPercent:".skill-bar-percent"}},i);return this.each(function(){var t=a(this),s=e.to!=!1?e.to:parseInt(t.attr("data-percent"));s>100&&(s=100);var n=e.from,r=Math.ceil(e.speed/e.interval),l=(s-n)/r,u=0,p=setInterval(g,e.interval);t.find(e.classes.skillBarBar).animate({width:parseInt(t.attr("data-percent"))+"%"},e.speed);function g(){n+=l,u++,a(t).find(e.classes.skillBarPercent).text(n.toFixed(e.decimals)+"%"),typeof e.onUpdate=="function"&&e.onUpdate.call(t,n),u>=r&&(clearInterval(p),n=s,typeof e.onComplete=="function"&&e.onComplete.call(t,n))}})}})(jQuery);/*!
* jquery.counterup.js 1.0
*
* Copyright 2013, Benjamin Intal http://gambit.ph @bfintal
* Released under the GPL v2 License
*
* Date: Nov 26, 2013
*/(function(a){a.fn.counterUp=function(i){var e=a.extend({time:400,delay:10},i);return this.each(function(){var t=a(this),s=e,n=function(){var r=[],l=s.time/s.delay,u=t.text(),p=/[0-9]+,[0-9]+/.test(u);u=u.replace(/,/g,"");for(var g=/^[0-9]+\.[0-9]+$/.test(u),S=g?(u.split(".")[1]||[]).length:0,I=l;I>=1;I--){var F=parseInt(u/l*I);if(g&&(F=parseFloat(u/l*I).toFixed(S)),p)for(;/(\d+)(\d{3})/.test(F.toString());)F=F.toString().replace(/(\d+)(\d{3})/,"$1,$2");r.unshift(F)}t.data("counterup-nums",r),t.text("0");var O=function(){t.text(t.data("counterup-nums").shift()),t.data("counterup-nums").length?setTimeout(t.data("counterup-func"),s.delay):(delete t.data("counterup-nums"),t.data("counterup-nums",null),t.data("counterup-func",null))};t.data("counterup-func",O),setTimeout(t.data("counterup-func"),s.delay)};t.waypoint(n,{offset:"100%",triggerOnce:!0})})}})(jQuery);/*!
Waypoints - 4.0.0
Copyright  2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/(function(){var a=0,i={};function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+a,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,a+=1}e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var s=[];for(var n in i)s.push(i[n]);for(var r=0,l=s.length;r<l;r++)s[r][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e})();(function(){function a(r){window.setTimeout(r,1e3/60)}var i=0,e={},t=window.Waypoint,s=window.onload;function n(r){this.element=r,this.Adapter=t.Adapter,this.adapter=new this.Adapter(r),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},r.waypointContextKey=this.key,e[r.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}n.prototype.add=function(r){var l=r.options.horizontal?"horizontal":"vertical";this.waypoints[l][r.key]=r,this.refresh()},n.prototype.checkEmpty=function(){var r=this.Adapter.isEmptyObject(this.waypoints.horizontal),l=this.Adapter.isEmptyObject(this.waypoints.vertical);r&&l&&(this.adapter.off(".waypoints"),delete e[this.key])},n.prototype.createThrottledResizeHandler=function(){var r=this;function l(){r.handleResize(),r.didResize=!1}this.adapter.on("resize.waypoints",function(){r.didResize||(r.didResize=!0,t.requestAnimationFrame(l))})},n.prototype.createThrottledScrollHandler=function(){var r=this;function l(){r.handleScroll(),r.didScroll=!1}this.adapter.on("scroll.waypoints",function(){(!r.didScroll||t.isTouch)&&(r.didScroll=!0,t.requestAnimationFrame(l))})},n.prototype.handleResize=function(){t.Context.refreshAll()},n.prototype.handleScroll=function(){var r={},l={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var u in l){var p=l[u],g=p.newScroll>p.oldScroll,S=g?p.forward:p.backward;for(var I in this.waypoints[u]){var F=this.waypoints[u][I],O=p.oldScroll<F.triggerPoint,X=p.newScroll>=F.triggerPoint,V=O&&X,be=!O&&!X;(V||be)&&(F.queueTrigger(S),r[F.group.id]=F.group)}}for(var Oe in r)r[Oe].flushTriggers();this.oldScroll={x:l.horizontal.newScroll,y:l.vertical.newScroll}},n.prototype.innerHeight=function(){return this.element==this.element.window?t.viewportHeight():this.adapter.innerHeight()},n.prototype.remove=function(r){delete this.waypoints[r.axis][r.key],this.checkEmpty()},n.prototype.innerWidth=function(){return this.element==this.element.window?t.viewportWidth():this.adapter.innerWidth()},n.prototype.destroy=function(){var r=[];for(var l in this.waypoints)for(var u in this.waypoints[l])r.push(this.waypoints[l][u]);for(var p=0,g=r.length;p<g;p++)r[p].destroy()},n.prototype.refresh=function(){var r=this.element==this.element.window,l=r?void 0:this.adapter.offset(),u={},p;this.handleScroll(),p={horizontal:{contextOffset:r?0:l.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:l.top,contextScroll:r?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var g in p){var S=p[g];for(var I in this.waypoints[g]){var F=this.waypoints[g][I],O=F.options.offset,X=F.triggerPoint,V=0,be=X==null,Oe,he,$e,b,de;F.element!==F.element.window&&(V=F.adapter.offset()[S.offsetProp]),typeof O=="function"?O=O.apply(F):typeof O=="string"&&(O=parseFloat(O),F.options.offset.indexOf("%")>-1&&(O=Math.ceil(S.contextDimension*O/100))),Oe=S.contextScroll-S.contextOffset,F.triggerPoint=V+Oe-O,he=X<S.oldScroll,$e=F.triggerPoint>=S.oldScroll,b=he&&$e,de=!he&&!$e,!be&&b?(F.queueTrigger(S.backward),u[F.group.id]=F.group):(!be&&de||be&&S.oldScroll>=F.triggerPoint)&&(F.queueTrigger(S.forward),u[F.group.id]=F.group)}}return t.requestAnimationFrame(function(){for(var it in u)u[it].flushTriggers()}),this},n.findOrCreateByElement=function(r){return n.findByElement(r)||new n(r)},n.refreshAll=function(){for(var r in e)e[r].refresh()},n.findByElement=function(r){return e[r.waypointContextKey]},window.onload=function(){s&&s(),n.refreshAll()},t.requestAnimationFrame=function(r){var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a;l.call(window,r)},t.Context=n})();(function(){function a(n,r){return n.triggerPoint-r.triggerPoint}function i(n,r){return r.triggerPoint-n.triggerPoint}var e={vertical:{},horizontal:{}},t=window.Waypoint;function s(n){this.name=n.name,this.axis=n.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),e[this.axis][this.name]=this}s.prototype.add=function(n){this.waypoints.push(n)},s.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},s.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var r=this.triggerQueues[n],l=n==="up"||n==="left";r.sort(l?i:a);for(var u=0,p=r.length;u<p;u+=1){var g=r[u];(g.options.continuous||u===r.length-1)&&g.trigger([n])}}this.clearTriggerQueues()},s.prototype.next=function(n){this.waypoints.sort(a);var r=t.Adapter.inArray(n,this.waypoints),l=r===this.waypoints.length-1;return l?null:this.waypoints[r+1]},s.prototype.previous=function(n){this.waypoints.sort(a);var r=t.Adapter.inArray(n,this.waypoints);return r?this.waypoints[r-1]:null},s.prototype.queueTrigger=function(n,r){this.triggerQueues[r].push(n)},s.prototype.remove=function(n){var r=t.Adapter.inArray(n,this.waypoints);r>-1&&this.waypoints.splice(r,1)},s.prototype.first=function(){return this.waypoints[0]},s.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},s.findOrCreate=function(n){return e[n.axis][n.name]||new s(n)},t.Group=s})();(function(){var a=window.jQuery,i=window.Waypoint;function e(t){this.$element=a(t)}a.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,s){e.prototype[s]=function(){var n=Array.prototype.slice.call(arguments);return this.$element[s].apply(this.$element,n)}}),a.each(["extend","inArray","isEmptyObject"],function(t,s){e[s]=a[s]}),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e})();(function(){var a=window.Waypoint;function i(e){return function(){var t=[],s=arguments[0];return e.isFunction(arguments[0])&&(s=e.extend({},arguments[1]),s.handler=arguments[0]),this.each(function(){var n=e.extend({},s,{element:this});typeof n.context=="string"&&(n.context=e(this).closest(n.context)[0]),t.push(new a(n))}),t}}window.jQuery&&(window.jQuery.fn.waypoint=i(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=i(window.Zepto))})();(function(a,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(a=a||self).Swiper=i()})(void 0,function(){function a(o,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}function i(){return(i=Object.assign||function(o){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}).apply(this,arguments)}function e(o){return o!==null&&typeof o=="object"&&"constructor"in o&&o.constructor===Object}function t(o,c){o===void 0&&(o={}),c===void 0&&(c={}),Object.keys(c).forEach(function(h){o[h]===void 0?o[h]=c[h]:e(c[h])&&e(o[h])&&Object.keys(c[h]).length>0&&t(o[h],c[h])})}var s={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function n(){var o=typeof document<"u"?document:{};return t(o,s),o}var r={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(o){return typeof setTimeout>"u"?(o(),null):setTimeout(o,0)},cancelAnimationFrame:function(o){typeof setTimeout<"u"&&clearTimeout(o)}};function l(){var o=typeof window<"u"?window:{};return t(o,r),o}function u(o){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}function p(o,c){return(p=Object.setPrototypeOf||function(h,f){return h.__proto__=f,h})(o,c)}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function S(o,c,h){return(S=g()?Reflect.construct:function(f,C,w){var D=[null];D.push.apply(D,C);var k=new(Function.bind.apply(f,D));return w&&p(k,w.prototype),k}).apply(null,arguments)}function I(o){var c=typeof Map=="function"?new Map:void 0;return(I=function(h){if(h===null||(f=h,Function.toString.call(f).indexOf("[native code]")===-1))return h;var f;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(h))return c.get(h);c.set(h,C)}function C(){return S(h,arguments,u(this).constructor)}return C.prototype=Object.create(h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),p(C,h)})(o)}var F=function(o){var c,h;function f(C){var w,D,k;return w=o.call.apply(o,[this].concat(C))||this,D=function(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}(w),k=D.__proto__,Object.defineProperty(D,"__proto__",{get:function(){return k},set:function(R){k.__proto__=R}}),w}return h=o,(c=f).prototype=Object.create(h.prototype),c.prototype.constructor=c,c.__proto__=h,f}(I(Array));function O(o){o===void 0&&(o=[]);var c=[];return o.forEach(function(h){Array.isArray(h)?c.push.apply(c,O(h)):c.push(h)}),c}function X(o,c){return Array.prototype.filter.call(o,c)}function V(o,c){var h=l(),f=n(),C=[];if(!c&&o instanceof F)return o;if(!o)return new F(C);if(typeof o=="string"){var w=o.trim();if(w.indexOf("<")>=0&&w.indexOf(">")>=0){var D="div";w.indexOf("<li")===0&&(D="ul"),w.indexOf("<tr")===0&&(D="tbody"),w.indexOf("<td")!==0&&w.indexOf("<th")!==0||(D="tr"),w.indexOf("<tbody")===0&&(D="table"),w.indexOf("<option")===0&&(D="select");var k=f.createElement(D);k.innerHTML=w;for(var R=0;R<k.childNodes.length;R+=1)C.push(k.childNodes[R])}else C=function(H,U){if(typeof H!="string")return[H];for(var oe=[],re=U.querySelectorAll(H),me=0;me<re.length;me+=1)oe.push(re[me]);return oe}(o.trim(),c||f)}else if(o.nodeType||o===h||o===f)C.push(o);else if(Array.isArray(o)){if(o instanceof F)return o;C=o}return new F(function(H){for(var U=[],oe=0;oe<H.length;oe+=1)U.indexOf(H[oe])===-1&&U.push(H[oe]);return U}(C))}V.fn=F.prototype;var be,Oe,he,$e={addClass:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=O(c.map(function(C){return C.split(" ")}));return this.forEach(function(C){var w;(w=C.classList).add.apply(w,f)}),this},removeClass:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=O(c.map(function(C){return C.split(" ")}));return this.forEach(function(C){var w;(w=C.classList).remove.apply(w,f)}),this},hasClass:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=O(c.map(function(C){return C.split(" ")}));return X(this,function(C){return f.filter(function(w){return C.classList.contains(w)}).length>0}).length>0},toggleClass:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=O(c.map(function(C){return C.split(" ")}));this.forEach(function(C){f.forEach(function(w){C.classList.toggle(w)})})},attr:function(o,c){if(arguments.length===1&&typeof o=="string")return this[0]?this[0].getAttribute(o):void 0;for(var h=0;h<this.length;h+=1)if(arguments.length===2)this[h].setAttribute(o,c);else for(var f in o)this[h][f]=o[f],this[h].setAttribute(f,o[f]);return this},removeAttr:function(o){for(var c=0;c<this.length;c+=1)this[c].removeAttribute(o);return this},transform:function(o){for(var c=0;c<this.length;c+=1)this[c].style.transform=o;return this},transition:function(o){for(var c=0;c<this.length;c+=1)this[c].style.transition=typeof o!="string"?o+"ms":o;return this},on:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=c[0],C=c[1],w=c[2],D=c[3];function k(Ae){var He=Ae.target;if(He){var Fe=Ae.target.dom7EventData||[];if(Fe.indexOf(Ae)<0&&Fe.unshift(Ae),V(He).is(C))w.apply(He,Fe);else for(var Ve=V(He).parents(),le=0;le<Ve.length;le+=1)V(Ve[le]).is(C)&&w.apply(Ve[le],Fe)}}function R(Ae){var He=Ae&&Ae.target&&Ae.target.dom7EventData||[];He.indexOf(Ae)<0&&He.unshift(Ae),w.apply(this,He)}typeof c[1]=="function"&&(f=c[0],w=c[1],D=c[2],C=void 0),D||(D=!1);for(var H,U=f.split(" "),oe=0;oe<this.length;oe+=1){var re=this[oe];if(C)for(H=0;H<U.length;H+=1){var me=U[H];re.dom7LiveListeners||(re.dom7LiveListeners={}),re.dom7LiveListeners[me]||(re.dom7LiveListeners[me]=[]),re.dom7LiveListeners[me].push({listener:w,proxyListener:k}),re.addEventListener(me,k,D)}else for(H=0;H<U.length;H+=1){var Ce=U[H];re.dom7Listeners||(re.dom7Listeners={}),re.dom7Listeners[Ce]||(re.dom7Listeners[Ce]=[]),re.dom7Listeners[Ce].push({listener:w,proxyListener:R}),re.addEventListener(Ce,R,D)}}return this},off:function(){for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];var f=c[0],C=c[1],w=c[2],D=c[3];typeof c[1]=="function"&&(f=c[0],w=c[1],D=c[2],C=void 0),D||(D=!1);for(var k=f.split(" "),R=0;R<k.length;R+=1)for(var H=k[R],U=0;U<this.length;U+=1){var oe=this[U],re=void 0;if(!C&&oe.dom7Listeners?re=oe.dom7Listeners[H]:C&&oe.dom7LiveListeners&&(re=oe.dom7LiveListeners[H]),re&&re.length)for(var me=re.length-1;me>=0;me-=1){var Ce=re[me];w&&Ce.listener===w||w&&Ce.listener&&Ce.listener.dom7proxy&&Ce.listener.dom7proxy===w?(oe.removeEventListener(H,Ce.proxyListener,D),re.splice(me,1)):w||(oe.removeEventListener(H,Ce.proxyListener,D),re.splice(me,1))}}return this},trigger:function(){for(var o=l(),c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];for(var C=h[0].split(" "),w=h[1],D=0;D<C.length;D+=1)for(var k=C[D],R=0;R<this.length;R+=1){var H=this[R];if(o.CustomEvent){var U=new o.CustomEvent(k,{detail:w,bubbles:!0,cancelable:!0});H.dom7EventData=h.filter(function(oe,re){return re>0}),H.dispatchEvent(U),H.dom7EventData=[],delete H.dom7EventData}}return this},transitionEnd:function(o){var c=this;return o&&c.on("transitionend",function h(f){f.target===this&&(o.call(this,f),c.off("transitionend",h))}),this},outerWidth:function(o){if(this.length>0){if(o){var c=this.styles();return this[0].offsetWidth+parseFloat(c.getPropertyValue("margin-right"))+parseFloat(c.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(o){if(this.length>0){if(o){var c=this.styles();return this[0].offsetHeight+parseFloat(c.getPropertyValue("margin-top"))+parseFloat(c.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var o=l();return this[0]?o.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var o=l(),c=n(),h=this[0],f=h.getBoundingClientRect(),C=c.body,w=h.clientTop||C.clientTop||0,D=h.clientLeft||C.clientLeft||0,k=h===o?o.scrollY:h.scrollTop,R=h===o?o.scrollX:h.scrollLeft;return{top:f.top+k-w,left:f.left+R-D}}return null},css:function(o,c){var h,f=l();if(arguments.length===1){if(typeof o!="string"){for(h=0;h<this.length;h+=1)for(var C in o)this[h].style[C]=o[C];return this}if(this[0])return f.getComputedStyle(this[0],null).getPropertyValue(o)}if(arguments.length===2&&typeof o=="string"){for(h=0;h<this.length;h+=1)this[h].style[o]=c;return this}return this},each:function(o){return o?(this.forEach(function(c,h){o.apply(c,[c,h])}),this):this},html:function(o){if(o===void 0)return this[0]?this[0].innerHTML:null;for(var c=0;c<this.length;c+=1)this[c].innerHTML=o;return this},text:function(o){if(o===void 0)return this[0]?this[0].textContent.trim():null;for(var c=0;c<this.length;c+=1)this[c].textContent=o;return this},is:function(o){var c,h,f=l(),C=n(),w=this[0];if(!w||o===void 0)return!1;if(typeof o=="string"){if(w.matches)return w.matches(o);if(w.webkitMatchesSelector)return w.webkitMatchesSelector(o);if(w.msMatchesSelector)return w.msMatchesSelector(o);for(c=V(o),h=0;h<c.length;h+=1)if(c[h]===w)return!0;return!1}if(o===C)return w===C;if(o===f)return w===f;if(o.nodeType||o instanceof F){for(c=o.nodeType?[o]:o,h=0;h<c.length;h+=1)if(c[h]===w)return!0;return!1}return!1},index:function(){var o,c=this[0];if(c){for(o=0;(c=c.previousSibling)!==null;)c.nodeType===1&&(o+=1);return o}},eq:function(o){if(o===void 0)return this;var c=this.length;if(o>c-1)return V([]);if(o<0){var h=c+o;return V(h<0?[]:[this[h]])}return V([this[o]])},append:function(){for(var o,c=n(),h=0;h<arguments.length;h+=1){o=h<0||arguments.length<=h?void 0:arguments[h];for(var f=0;f<this.length;f+=1)if(typeof o=="string"){var C=c.createElement("div");for(C.innerHTML=o;C.firstChild;)this[f].appendChild(C.firstChild)}else if(o instanceof F)for(var w=0;w<o.length;w+=1)this[f].appendChild(o[w]);else this[f].appendChild(o)}return this},prepend:function(o){var c,h,f=n();for(c=0;c<this.length;c+=1)if(typeof o=="string"){var C=f.createElement("div");for(C.innerHTML=o,h=C.childNodes.length-1;h>=0;h-=1)this[c].insertBefore(C.childNodes[h],this[c].childNodes[0])}else if(o instanceof F)for(h=0;h<o.length;h+=1)this[c].insertBefore(o[h],this[c].childNodes[0]);else this[c].insertBefore(o,this[c].childNodes[0]);return this},next:function(o){return this.length>0?o?this[0].nextElementSibling&&V(this[0].nextElementSibling).is(o)?V([this[0].nextElementSibling]):V([]):this[0].nextElementSibling?V([this[0].nextElementSibling]):V([]):V([])},nextAll:function(o){var c=[],h=this[0];if(!h)return V([]);for(;h.nextElementSibling;){var f=h.nextElementSibling;o?V(f).is(o)&&c.push(f):c.push(f),h=f}return V(c)},prev:function(o){if(this.length>0){var c=this[0];return o?c.previousElementSibling&&V(c.previousElementSibling).is(o)?V([c.previousElementSibling]):V([]):c.previousElementSibling?V([c.previousElementSibling]):V([])}return V([])},prevAll:function(o){var c=[],h=this[0];if(!h)return V([]);for(;h.previousElementSibling;){var f=h.previousElementSibling;o?V(f).is(o)&&c.push(f):c.push(f),h=f}return V(c)},parent:function(o){for(var c=[],h=0;h<this.length;h+=1)this[h].parentNode!==null&&(o?V(this[h].parentNode).is(o)&&c.push(this[h].parentNode):c.push(this[h].parentNode));return V(c)},parents:function(o){for(var c=[],h=0;h<this.length;h+=1)for(var f=this[h].parentNode;f;)o?V(f).is(o)&&c.push(f):c.push(f),f=f.parentNode;return V(c)},closest:function(o){var c=this;return o===void 0?V([]):(c.is(o)||(c=c.parents(o).eq(0)),c)},find:function(o){for(var c=[],h=0;h<this.length;h+=1)for(var f=this[h].querySelectorAll(o),C=0;C<f.length;C+=1)c.push(f[C]);return V(c)},children:function(o){for(var c=[],h=0;h<this.length;h+=1)for(var f=this[h].children,C=0;C<f.length;C+=1)o&&!V(f[C]).is(o)||c.push(f[C]);return V(c)},filter:function(o){return V(X(this,o))},remove:function(){for(var o=0;o<this.length;o+=1)this[o].parentNode&&this[o].parentNode.removeChild(this[o]);return this}};function b(o,c){return c===void 0&&(c=0),setTimeout(o,c)}function de(){return Date.now()}function it(o,c){c===void 0&&(c="x");var h,f,C,w=l(),D=w.getComputedStyle(o,null);return w.WebKitCSSMatrix?((f=D.transform||D.webkitTransform).split(",").length>6&&(f=f.split(", ").map(function(k){return k.replace(",",".")}).join(", ")),C=new w.WebKitCSSMatrix(f==="none"?"":f)):h=(C=D.MozTransform||D.OTransform||D.MsTransform||D.msTransform||D.transform||D.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),c==="x"&&(f=w.WebKitCSSMatrix?C.m41:h.length===16?parseFloat(h[12]):parseFloat(h[4])),c==="y"&&(f=w.WebKitCSSMatrix?C.m42:h.length===16?parseFloat(h[13]):parseFloat(h[5])),f||0}function ze(o){return typeof o=="object"&&o!==null&&o.constructor&&o.constructor===Object}function fe(){for(var o=Object(arguments.length<=0?void 0:arguments[0]),c=1;c<arguments.length;c+=1){var h=c<0||arguments.length<=c?void 0:arguments[c];if(h!=null)for(var f=Object.keys(Object(h)),C=0,w=f.length;C<w;C+=1){var D=f[C],k=Object.getOwnPropertyDescriptor(h,D);k!==void 0&&k.enumerable&&(ze(o[D])&&ze(h[D])?fe(o[D],h[D]):!ze(o[D])&&ze(h[D])?(o[D]={},fe(o[D],h[D])):o[D]=h[D])}}return o}function We(o,c){Object.keys(c).forEach(function(h){ze(c[h])&&Object.keys(c[h]).forEach(function(f){typeof c[h][f]=="function"&&(c[h][f]=c[h][f].bind(o))}),o[h]=c[h]})}function Ne(){return be||(be=function(){var o=l(),c=n();return{touch:!!("ontouchstart"in o||o.DocumentTouch&&c instanceof o.DocumentTouch),pointerEvents:!!o.PointerEvent&&"maxTouchPoints"in o.navigator&&o.navigator.maxTouchPoints>=0,observer:"MutationObserver"in o||"WebkitMutationObserver"in o,passiveListener:function(){var h=!1;try{var f=Object.defineProperty({},"passive",{get:function(){h=!0}});o.addEventListener("testPassiveListener",null,f)}catch{}return h}(),gestures:"ongesturestart"in o}}()),be}function Le(o){return o===void 0&&(o={}),Oe||(Oe=function(c){var h=(c===void 0?{}:c).userAgent,f=Ne(),C=l(),w=C.navigator.platform,D=h||C.navigator.userAgent,k={ios:!1,android:!1},R=C.screen.width,H=C.screen.height,U=D.match(/(Android);?[\s\/]+([\d.]+)?/),oe=D.match(/(iPad).*OS\s([\d_]+)/),re=D.match(/(iPod)(.*OS\s([\d_]+))?/),me=!oe&&D.match(/(iPhone\sOS|iOS)\s([\d_]+)/),Ce=w==="Win32",Ae=w==="MacIntel";return!oe&&Ae&&f.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(R+"x"+H)>=0&&((oe=D.match(/(Version)\/([\d.]+)/))||(oe=[0,1,"13_0_0"]),Ae=!1),U&&!Ce&&(k.os="android",k.android=!0),(oe||me||re)&&(k.os="ios",k.ios=!0),k}(o)),Oe}function Je(){return he||(he=function(){var o,c=l();return{isEdge:!!c.navigator.userAgent.match(/Edge/g),isSafari:(o=c.navigator.userAgent.toLowerCase(),o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(c.navigator.userAgent)}}()),he}Object.keys($e).forEach(function(o){V.fn[o]=$e[o]});var Pe={name:"resize",create:function(){var o=this;fe(o,{resize:{resizeHandler:function(){o&&!o.destroyed&&o.initialized&&(o.emit("beforeResize"),o.emit("resize"))},orientationChangeHandler:function(){o&&!o.destroyed&&o.initialized&&o.emit("orientationchange")}}})},on:{init:function(o){var c=l();c.addEventListener("resize",o.resize.resizeHandler),c.addEventListener("orientationchange",o.resize.orientationChangeHandler)},destroy:function(o){var c=l();c.removeEventListener("resize",o.resize.resizeHandler),c.removeEventListener("orientationchange",o.resize.orientationChangeHandler)}}},ge={attach:function(o,c){c===void 0&&(c={});var h=l(),f=this,C=new(h.MutationObserver||h.WebkitMutationObserver)(function(w){if(w.length!==1){var D=function(){f.emit("observerUpdate",w[0])};h.requestAnimationFrame?h.requestAnimationFrame(D):h.setTimeout(D,0)}else f.emit("observerUpdate",w[0])});C.observe(o,{attributes:c.attributes===void 0||c.attributes,childList:c.childList===void 0||c.childList,characterData:c.characterData===void 0||c.characterData}),f.observer.observers.push(C)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var o=this.$el.parents(),c=0;c<o.length;c+=1)this.observer.attach(o[c]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(o){o.disconnect()}),this.observer.observers=[]}},ce={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){We(this,{observer:i(i({},ge),{},{observers:[]})})},on:{init:function(o){o.observer.init()},destroy:function(o){o.observer.destroy()}}};function Me(o){var c=n(),h=l(),f=this.touchEventsData,C=this.params,w=this.touches;if(!this.animating||!C.preventInteractionOnTransition){var D=o;D.originalEvent&&(D=D.originalEvent);var k=V(D.target);if((C.touchEventsTarget!=="wrapper"||k.closest(this.wrapperEl).length)&&(f.isTouchEvent=D.type==="touchstart",(f.isTouchEvent||!("which"in D)||D.which!==3)&&!(!f.isTouchEvent&&"button"in D&&D.button>0)&&(!f.isTouched||!f.isMoved))){if(C.noSwipingClass&&C.noSwipingClass!==""&&D.target&&D.target.shadowRoot&&o.path&&o.path[0]&&(k=V(o.path[0])),C.noSwiping&&k.closest(C.noSwipingSelector?C.noSwipingSelector:"."+C.noSwipingClass)[0])this.allowClick=!0;else if(!C.swipeHandler||k.closest(C.swipeHandler)[0]){w.currentX=D.type==="touchstart"?D.targetTouches[0].pageX:D.pageX,w.currentY=D.type==="touchstart"?D.targetTouches[0].pageY:D.pageY;var R=w.currentX,H=w.currentY,U=C.edgeSwipeDetection||C.iOSEdgeSwipeDetection,oe=C.edgeSwipeThreshold||C.iOSEdgeSwipeThreshold;if(!U||!(R<=oe||R>=h.screen.width-oe)){if(fe(f,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),w.startX=R,w.startY=H,f.touchStartTime=de(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,C.threshold>0&&(f.allowThresholdMove=!1),D.type!=="touchstart"){var re=!0;k.is(f.formElements)&&(re=!1),c.activeElement&&V(c.activeElement).is(f.formElements)&&c.activeElement!==k[0]&&c.activeElement.blur();var me=re&&this.allowTouchMove&&C.touchStartPreventDefault;(C.touchStartForcePreventDefault||me)&&D.preventDefault()}this.emit("touchStart",D)}}}}}function ve(o){var c=n(),h=this.touchEventsData,f=this.params,C=this.touches,w=this.rtlTranslate,D=o;if(D.originalEvent&&(D=D.originalEvent),h.isTouched){if(!h.isTouchEvent||D.type==="touchmove"){var k=D.type==="touchmove"&&D.targetTouches&&(D.targetTouches[0]||D.changedTouches[0]),R=D.type==="touchmove"?k.pageX:D.pageX,H=D.type==="touchmove"?k.pageY:D.pageY;if(D.preventedByNestedSwiper)return C.startX=R,void(C.startY=H);if(!this.allowTouchMove)return this.allowClick=!1,void(h.isTouched&&(fe(C,{startX:R,startY:H,currentX:R,currentY:H}),h.touchStartTime=de()));if(h.isTouchEvent&&f.touchReleaseOnEdges&&!f.loop){if(this.isVertical()){if(H<C.startY&&this.translate<=this.maxTranslate()||H>C.startY&&this.translate>=this.minTranslate())return h.isTouched=!1,void(h.isMoved=!1)}else if(R<C.startX&&this.translate<=this.maxTranslate()||R>C.startX&&this.translate>=this.minTranslate())return}if(h.isTouchEvent&&c.activeElement&&D.target===c.activeElement&&V(D.target).is(h.formElements))return h.isMoved=!0,void(this.allowClick=!1);if(h.allowTouchCallbacks&&this.emit("touchMove",D),!(D.targetTouches&&D.targetTouches.length>1)){C.currentX=R,C.currentY=H;var U=C.currentX-C.startX,oe=C.currentY-C.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(U,2)+Math.pow(oe,2))<this.params.threshold)){var re;if(h.isScrolling===void 0&&(this.isHorizontal()&&C.currentY===C.startY||this.isVertical()&&C.currentX===C.startX?h.isScrolling=!1:U*U+oe*oe>=25&&(re=180*Math.atan2(Math.abs(oe),Math.abs(U))/Math.PI,h.isScrolling=this.isHorizontal()?re>f.touchAngle:90-re>f.touchAngle)),h.isScrolling&&this.emit("touchMoveOpposite",D),h.startMoving===void 0&&(C.currentX===C.startX&&C.currentY===C.startY||(h.startMoving=!0)),h.isScrolling)h.isTouched=!1;else if(h.startMoving){this.allowClick=!1,!f.cssMode&&D.cancelable&&D.preventDefault(),f.touchMoveStopPropagation&&!f.nested&&D.stopPropagation(),h.isMoved||(f.loop&&this.loopFix(),h.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),h.allowMomentumBounce=!1,!f.grabCursor||this.allowSlideNext!==!0&&this.allowSlidePrev!==!0||this.setGrabCursor(!0),this.emit("sliderFirstMove",D)),this.emit("sliderMove",D),h.isMoved=!0;var me=this.isHorizontal()?U:oe;C.diff=me,me*=f.touchRatio,w&&(me=-me),this.swipeDirection=me>0?"prev":"next",h.currentTranslate=me+h.startTranslate;var Ce=!0,Ae=f.resistanceRatio;if(f.touchReleaseOnEdges&&(Ae=0),me>0&&h.currentTranslate>this.minTranslate()?(Ce=!1,f.resistance&&(h.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+h.startTranslate+me,Ae))):me<0&&h.currentTranslate<this.maxTranslate()&&(Ce=!1,f.resistance&&(h.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-h.startTranslate-me,Ae))),Ce&&(D.preventedByNestedSwiper=!0),!this.allowSlideNext&&this.swipeDirection==="next"&&h.currentTranslate<h.startTranslate&&(h.currentTranslate=h.startTranslate),!this.allowSlidePrev&&this.swipeDirection==="prev"&&h.currentTranslate>h.startTranslate&&(h.currentTranslate=h.startTranslate),f.threshold>0){if(!(Math.abs(me)>f.threshold||h.allowThresholdMove))return void(h.currentTranslate=h.startTranslate);if(!h.allowThresholdMove)return h.allowThresholdMove=!0,C.startX=C.currentX,C.startY=C.currentY,h.currentTranslate=h.startTranslate,void(C.diff=this.isHorizontal()?C.currentX-C.startX:C.currentY-C.startY)}f.followFinger&&!f.cssMode&&((f.freeMode||f.watchSlidesProgress||f.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),f.freeMode&&(h.velocities.length===0&&h.velocities.push({position:C[this.isHorizontal()?"startX":"startY"],time:h.touchStartTime}),h.velocities.push({position:C[this.isHorizontal()?"currentX":"currentY"],time:de()})),this.updateProgress(h.currentTranslate),this.setTranslate(h.currentTranslate))}}}}}else h.startMoving&&h.isScrolling&&this.emit("touchMoveOpposite",D)}function _e(o){var c=this,h=c.touchEventsData,f=c.params,C=c.touches,w=c.rtlTranslate,D=c.$wrapperEl,k=c.slidesGrid,R=c.snapGrid,H=o;if(H.originalEvent&&(H=H.originalEvent),h.allowTouchCallbacks&&c.emit("touchEnd",H),h.allowTouchCallbacks=!1,!h.isTouched)return h.isMoved&&f.grabCursor&&c.setGrabCursor(!1),h.isMoved=!1,void(h.startMoving=!1);f.grabCursor&&h.isMoved&&h.isTouched&&(c.allowSlideNext===!0||c.allowSlidePrev===!0)&&c.setGrabCursor(!1);var U,oe=de(),re=oe-h.touchStartTime;if(c.allowClick&&(c.updateClickedSlide(H),c.emit("tap click",H),re<300&&oe-h.lastClickTime<300&&c.emit("doubleTap doubleClick",H)),h.lastClickTime=de(),b(function(){c.destroyed||(c.allowClick=!0)}),!h.isTouched||!h.isMoved||!c.swipeDirection||C.diff===0||h.currentTranslate===h.startTranslate)return h.isTouched=!1,h.isMoved=!1,void(h.startMoving=!1);if(h.isTouched=!1,h.isMoved=!1,h.startMoving=!1,U=f.followFinger?w?c.translate:-c.translate:-h.currentTranslate,!f.cssMode)if(f.freeMode){if(U<-c.minTranslate())return void c.slideTo(c.activeIndex);if(U>-c.maxTranslate())return void(c.slides.length<R.length?c.slideTo(R.length-1):c.slideTo(c.slides.length-1));if(f.freeModeMomentum){if(h.velocities.length>1){var me=h.velocities.pop(),Ce=h.velocities.pop(),Ae=me.position-Ce.position,He=me.time-Ce.time;c.velocity=Ae/He,c.velocity/=2,Math.abs(c.velocity)<f.freeModeMinimumVelocity&&(c.velocity=0),(He>150||de()-me.time>300)&&(c.velocity=0)}else c.velocity=0;c.velocity*=f.freeModeMomentumVelocityRatio,h.velocities.length=0;var Fe=1e3*f.freeModeMomentumRatio,Ve=c.velocity*Fe,le=c.translate+Ve;w&&(le=-le);var Ze,ft,Tt=!1,Qe=20*Math.abs(c.velocity)*f.freeModeMomentumBounceRatio;if(le<c.maxTranslate())f.freeModeMomentumBounce?(le+c.maxTranslate()<-Qe&&(le=c.maxTranslate()-Qe),Ze=c.maxTranslate(),Tt=!0,h.allowMomentumBounce=!0):le=c.maxTranslate(),f.loop&&f.centeredSlides&&(ft=!0);else if(le>c.minTranslate())f.freeModeMomentumBounce?(le-c.minTranslate()>Qe&&(le=c.minTranslate()+Qe),Ze=c.minTranslate(),Tt=!0,h.allowMomentumBounce=!0):le=c.minTranslate(),f.loop&&f.centeredSlides&&(ft=!0);else if(f.freeModeSticky){for(var vt,Dt=0;Dt<R.length;Dt+=1)if(R[Dt]>-le){vt=Dt;break}le=-(le=Math.abs(R[vt]-le)<Math.abs(R[vt-1]-le)||c.swipeDirection==="next"?R[vt]:R[vt-1])}if(ft&&c.once("transitionEnd",function(){c.loopFix()}),c.velocity!==0){if(Fe=Math.abs(w?(-le-c.translate)/c.velocity:(le-c.translate)/c.velocity),f.freeModeSticky){var Wt=Math.abs((w?-le:le)-c.translate),qt=c.slidesSizesGrid[c.activeIndex];Fe=Wt<qt?f.speed:Wt<2*qt?1.5*f.speed:2.5*f.speed}}else if(f.freeModeSticky)return void c.slideToClosest();f.freeModeMomentumBounce&&Tt?(c.updateProgress(Ze),c.setTransition(Fe),c.setTranslate(le),c.transitionStart(!0,c.swipeDirection),c.animating=!0,D.transitionEnd(function(){c&&!c.destroyed&&h.allowMomentumBounce&&(c.emit("momentumBounce"),c.setTransition(f.speed),setTimeout(function(){c.setTranslate(Ze),D.transitionEnd(function(){c&&!c.destroyed&&c.transitionEnd()})},0))})):c.velocity?(c.updateProgress(le),c.setTransition(Fe),c.setTranslate(le),c.transitionStart(!0,c.swipeDirection),c.animating||(c.animating=!0,D.transitionEnd(function(){c&&!c.destroyed&&c.transitionEnd()}))):c.updateProgress(le),c.updateActiveIndex(),c.updateSlidesClasses()}else if(f.freeModeSticky)return void c.slideToClosest();(!f.freeModeMomentum||re>=f.longSwipesMs)&&(c.updateProgress(),c.updateActiveIndex(),c.updateSlidesClasses())}else{for(var nt=0,xt=c.slidesSizesGrid[0],Ot=0;Ot<k.length;Ot+=Ot<f.slidesPerGroupSkip?1:f.slidesPerGroup){var Xt=Ot<f.slidesPerGroupSkip-1?1:f.slidesPerGroup;k[Ot+Xt]!==void 0?U>=k[Ot]&&U<k[Ot+Xt]&&(nt=Ot,xt=k[Ot+Xt]-k[Ot]):U>=k[Ot]&&(nt=Ot,xt=k[k.length-1]-k[k.length-2])}var ei=(U-k[nt])/xt,di=nt<f.slidesPerGroupSkip-1?1:f.slidesPerGroup;if(re>f.longSwipesMs){if(!f.longSwipes)return void c.slideTo(c.activeIndex);c.swipeDirection==="next"&&(ei>=f.longSwipesRatio?c.slideTo(nt+di):c.slideTo(nt)),c.swipeDirection==="prev"&&(ei>1-f.longSwipesRatio?c.slideTo(nt+di):c.slideTo(nt))}else{if(!f.shortSwipes)return void c.slideTo(c.activeIndex);c.navigation&&(H.target===c.navigation.nextEl||H.target===c.navigation.prevEl)?H.target===c.navigation.nextEl?c.slideTo(nt+di):c.slideTo(nt):(c.swipeDirection==="next"&&c.slideTo(nt+di),c.swipeDirection==="prev"&&c.slideTo(nt))}}}function Se(){var o=this.params,c=this.el;if(!c||c.offsetWidth!==0){o.breakpoints&&this.setBreakpoint();var h=this.allowSlideNext,f=this.allowSlidePrev,C=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),(o.slidesPerView==="auto"||o.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=f,this.allowSlideNext=h,this.params.watchOverflow&&C!==this.snapGrid&&this.checkOverflow()}}function Z(o){this.allowClick||(this.params.preventClicks&&o.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(o.stopPropagation(),o.stopImmediatePropagation()))}function ae(){var o=this.wrapperEl,c=this.rtlTranslate;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=c?o.scrollWidth-o.offsetWidth-o.scrollLeft:-o.scrollLeft:this.translate=-o.scrollTop,this.translate===-0&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var h=this.maxTranslate()-this.minTranslate();(h===0?0:(this.translate-this.minTranslate())/h)!==this.progress&&this.updateProgress(c?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}var W=!1;function pe(){}var Ie={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},je={modular:{useParams:function(o){var c=this;c.modules&&Object.keys(c.modules).forEach(function(h){var f=c.modules[h];f.params&&fe(o,f.params)})},useModules:function(o){o===void 0&&(o={});var c=this;c.modules&&Object.keys(c.modules).forEach(function(h){var f=c.modules[h],C=o[h]||{};f.on&&c.on&&Object.keys(f.on).forEach(function(w){c.on(w,f.on[w])}),f.create&&f.create.bind(c)(C)})}},eventsEmitter:{on:function(o,c,h){var f=this;if(typeof c!="function")return f;var C=h?"unshift":"push";return o.split(" ").forEach(function(w){f.eventsListeners[w]||(f.eventsListeners[w]=[]),f.eventsListeners[w][C](c)}),f},once:function(o,c,h){var f=this;if(typeof c!="function")return f;function C(){f.off(o,C),C.__emitterProxy&&delete C.__emitterProxy;for(var w=arguments.length,D=new Array(w),k=0;k<w;k++)D[k]=arguments[k];c.apply(f,D)}return C.__emitterProxy=c,f.on(o,C,h)},onAny:function(o,c){if(typeof o!="function")return this;var h=c?"unshift":"push";return this.eventsAnyListeners.indexOf(o)<0&&this.eventsAnyListeners[h](o),this},offAny:function(o){if(!this.eventsAnyListeners)return this;var c=this.eventsAnyListeners.indexOf(o);return c>=0&&this.eventsAnyListeners.splice(c,1),this},off:function(o,c){var h=this;return h.eventsListeners&&o.split(" ").forEach(function(f){c===void 0?h.eventsListeners[f]=[]:h.eventsListeners[f]&&h.eventsListeners[f].forEach(function(C,w){(C===c||C.__emitterProxy&&C.__emitterProxy===c)&&h.eventsListeners[f].splice(w,1)})}),h},emit:function(){var o,c,h,f=this;if(!f.eventsListeners)return f;for(var C=arguments.length,w=new Array(C),D=0;D<C;D++)w[D]=arguments[D];typeof w[0]=="string"||Array.isArray(w[0])?(o=w[0],c=w.slice(1,w.length),h=f):(o=w[0].events,c=w[0].data,h=w[0].context||f),c.unshift(h);var k=Array.isArray(o)?o:o.split(" ");return k.forEach(function(R){if(f.eventsAnyListeners&&f.eventsAnyListeners.length&&f.eventsAnyListeners.forEach(function(U){U.apply(h,[R].concat(c))}),f.eventsListeners&&f.eventsListeners[R]){var H=[];f.eventsListeners[R].forEach(function(U){H.push(U)}),H.forEach(function(U){U.apply(h,c)})}}),f}},update:{updateSize:function(){var o,c,h=this.$el;o=this.params.width!==void 0&&this.params.width!==null?this.params.width:h[0].clientWidth,c=this.params.height!==void 0&&this.params.width!==null?this.params.height:h[0].clientHeight,o===0&&this.isHorizontal()||c===0&&this.isVertical()||(o=o-parseInt(h.css("padding-left")||0,10)-parseInt(h.css("padding-right")||0,10),c=c-parseInt(h.css("padding-top")||0,10)-parseInt(h.css("padding-bottom")||0,10),Number.isNaN(o)&&(o=0),Number.isNaN(c)&&(c=0),fe(this,{width:o,height:c,size:this.isHorizontal()?o:c}))},updateSlides:function(){var o=l(),c=this.params,h=this.$wrapperEl,f=this.size,C=this.rtlTranslate,w=this.wrongRTL,D=this.virtual&&c.virtual.enabled,k=D?this.virtual.slides.length:this.slides.length,R=h.children("."+this.params.slideClass),H=D?this.virtual.slides.length:R.length,U=[],oe=[],re=[];function me(oi,ji){return!c.cssMode||ji!==R.length-1}var Ce=c.slidesOffsetBefore;typeof Ce=="function"&&(Ce=c.slidesOffsetBefore.call(this));var Ae=c.slidesOffsetAfter;typeof Ae=="function"&&(Ae=c.slidesOffsetAfter.call(this));var He=this.snapGrid.length,Fe=this.snapGrid.length,Ve=c.spaceBetween,le=-Ce,Ze=0,ft=0;if(f!==void 0){var Tt,Qe;typeof Ve=="string"&&Ve.indexOf("%")>=0&&(Ve=parseFloat(Ve.replace("%",""))/100*f),this.virtualSize=-Ve,C?R.css({marginLeft:"",marginTop:""}):R.css({marginRight:"",marginBottom:""}),c.slidesPerColumn>1&&(Tt=Math.floor(H/c.slidesPerColumn)===H/this.params.slidesPerColumn?H:Math.ceil(H/c.slidesPerColumn)*c.slidesPerColumn,c.slidesPerView!=="auto"&&c.slidesPerColumnFill==="row"&&(Tt=Math.max(Tt,c.slidesPerView*c.slidesPerColumn)));for(var vt,Dt=c.slidesPerColumn,Wt=Tt/Dt,qt=Math.floor(H/c.slidesPerColumn),nt=0;nt<H;nt+=1){Qe=0;var xt=R.eq(nt);if(c.slidesPerColumn>1){var Ot=void 0,Xt=void 0,ei=void 0;if(c.slidesPerColumnFill==="row"&&c.slidesPerGroup>1){var di=Math.floor(nt/(c.slidesPerGroup*c.slidesPerColumn)),qi=nt-c.slidesPerColumn*c.slidesPerGroup*di,Pi=di===0?c.slidesPerGroup:Math.min(Math.ceil((H-di*Dt*c.slidesPerGroup)/Dt),c.slidesPerGroup);Ot=(Xt=qi-(ei=Math.floor(qi/Pi))*Pi+di*c.slidesPerGroup)+ei*Tt/Dt,xt.css({"-webkit-box-ordinal-group":Ot,"-moz-box-ordinal-group":Ot,"-ms-flex-order":Ot,"-webkit-order":Ot,order:Ot})}else c.slidesPerColumnFill==="column"?(ei=nt-(Xt=Math.floor(nt/Dt))*Dt,(Xt>qt||Xt===qt&&ei===Dt-1)&&(ei+=1)>=Dt&&(ei=0,Xt+=1)):Xt=nt-(ei=Math.floor(nt/Wt))*Wt;xt.css("margin-"+(this.isHorizontal()?"top":"left"),ei!==0&&c.spaceBetween&&c.spaceBetween+"px")}if(xt.css("display")!=="none"){if(c.slidesPerView==="auto"){var q=o.getComputedStyle(xt[0],null),v=xt[0].style.transform,T=xt[0].style.webkitTransform;if(v&&(xt[0].style.transform="none"),T&&(xt[0].style.webkitTransform="none"),c.roundLengths)Qe=this.isHorizontal()?xt.outerWidth(!0):xt.outerHeight(!0);else if(this.isHorizontal()){var B=parseFloat(q.getPropertyValue("width")||0),K=parseFloat(q.getPropertyValue("padding-left")||0),Ee=parseFloat(q.getPropertyValue("padding-right")||0),De=parseFloat(q.getPropertyValue("margin-left")||0),at=parseFloat(q.getPropertyValue("margin-right")||0),gt=q.getPropertyValue("box-sizing");if(gt&&gt==="border-box")Qe=B+De+at;else{var Vt=xt[0],Rt=Vt.clientWidth;Qe=B+K+Ee+De+at+(Vt.offsetWidth-Rt)}}else{var St=parseFloat(q.getPropertyValue("height")||0),Ht=parseFloat(q.getPropertyValue("padding-top")||0),Bt=parseFloat(q.getPropertyValue("padding-bottom")||0),Nt=parseFloat(q.getPropertyValue("margin-top")||0),ti=parseFloat(q.getPropertyValue("margin-bottom")||0),ai=q.getPropertyValue("box-sizing");if(ai&&ai==="border-box")Qe=St+Nt+ti;else{var Ci=xt[0],Ri=Ci.clientHeight;Qe=St+Ht+Bt+Nt+ti+(Ci.offsetHeight-Ri)}}v&&(xt[0].style.transform=v),T&&(xt[0].style.webkitTransform=T),c.roundLengths&&(Qe=Math.floor(Qe))}else Qe=(f-(c.slidesPerView-1)*Ve)/c.slidesPerView,c.roundLengths&&(Qe=Math.floor(Qe)),R[nt]&&(this.isHorizontal()?R[nt].style.width=Qe+"px":R[nt].style.height=Qe+"px");R[nt]&&(R[nt].swiperSlideSize=Qe),re.push(Qe),c.centeredSlides?(le=le+Qe/2+Ze/2+Ve,Ze===0&&nt!==0&&(le=le-f/2-Ve),nt===0&&(le=le-f/2-Ve),Math.abs(le)<.001&&(le=0),c.roundLengths&&(le=Math.floor(le)),ft%c.slidesPerGroup==0&&U.push(le),oe.push(le)):(c.roundLengths&&(le=Math.floor(le)),(ft-Math.min(this.params.slidesPerGroupSkip,ft))%this.params.slidesPerGroup==0&&U.push(le),oe.push(le),le=le+Qe+Ve),this.virtualSize+=Qe+Ve,Ze=Qe,ft+=1}}if(this.virtualSize=Math.max(this.virtualSize,f)+Ae,C&&w&&(c.effect==="slide"||c.effect==="coverflow")&&h.css({width:this.virtualSize+c.spaceBetween+"px"}),c.setWrapperSize&&(this.isHorizontal()?h.css({width:this.virtualSize+c.spaceBetween+"px"}):h.css({height:this.virtualSize+c.spaceBetween+"px"})),c.slidesPerColumn>1&&(this.virtualSize=(Qe+c.spaceBetween)*Tt,this.virtualSize=Math.ceil(this.virtualSize/c.slidesPerColumn)-c.spaceBetween,this.isHorizontal()?h.css({width:this.virtualSize+c.spaceBetween+"px"}):h.css({height:this.virtualSize+c.spaceBetween+"px"}),c.centeredSlides)){vt=[];for(var Qt=0;Qt<U.length;Qt+=1){var ui=U[Qt];c.roundLengths&&(ui=Math.floor(ui)),U[Qt]<this.virtualSize+U[0]&&vt.push(ui)}U=vt}if(!c.centeredSlides){vt=[];for(var Ui=0;Ui<U.length;Ui+=1){var rn=U[Ui];c.roundLengths&&(rn=Math.floor(rn)),U[Ui]<=this.virtualSize-f&&vt.push(rn)}U=vt,Math.floor(this.virtualSize-f)-Math.floor(U[U.length-1])>1&&U.push(this.virtualSize-f)}if(U.length===0&&(U=[0]),c.spaceBetween!==0&&(this.isHorizontal()?C?R.filter(me).css({marginLeft:Ve+"px"}):R.filter(me).css({marginRight:Ve+"px"}):R.filter(me).css({marginBottom:Ve+"px"})),c.centeredSlides&&c.centeredSlidesBounds){var an=0;re.forEach(function(oi){an+=oi+(c.spaceBetween?c.spaceBetween:0)});var on=(an-=c.spaceBetween)-f;U=U.map(function(oi){return oi<0?-Ce:oi>on?on+Ae:oi})}if(c.centerInsufficientSlides){var Hi=0;if(re.forEach(function(oi){Hi+=oi+(c.spaceBetween?c.spaceBetween:0)}),(Hi-=c.spaceBetween)<f){var cn=(f-Hi)/2;U.forEach(function(oi,ji){U[ji]=oi-cn}),oe.forEach(function(oi,ji){oe[ji]=oi+cn})}}fe(this,{slides:R,snapGrid:U,slidesGrid:oe,slidesSizesGrid:re}),H!==k&&this.emit("slidesLengthChange"),U.length!==He&&(this.params.watchOverflow&&this.checkOverflow(),this.emit("snapGridLengthChange")),oe.length!==Fe&&this.emit("slidesGridLengthChange"),(c.watchSlidesProgress||c.watchSlidesVisibility)&&this.updateSlidesOffset()}},updateAutoHeight:function(o){var c,h=[],f=0;if(typeof o=="number"?this.setTransition(o):o===!0&&this.setTransition(this.params.speed),this.params.slidesPerView!=="auto"&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each(function(D){h.push(D)});else for(c=0;c<Math.ceil(this.params.slidesPerView);c+=1){var C=this.activeIndex+c;if(C>this.slides.length)break;h.push(this.slides.eq(C)[0])}else h.push(this.slides.eq(this.activeIndex)[0]);for(c=0;c<h.length;c+=1)if(h[c]!==void 0){var w=h[c].offsetHeight;f=w>f?w:f}f&&this.$wrapperEl.css("height",f+"px")},updateSlidesOffset:function(){for(var o=this.slides,c=0;c<o.length;c+=1)o[c].swiperSlideOffset=this.isHorizontal()?o[c].offsetLeft:o[c].offsetTop},updateSlidesProgress:function(o){o===void 0&&(o=this&&this.translate||0);var c=this.params,h=this.slides,f=this.rtlTranslate;if(h.length!==0){h[0].swiperSlideOffset===void 0&&this.updateSlidesOffset();var C=-o;f&&(C=o),h.removeClass(c.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var w=0;w<h.length;w+=1){var D=h[w],k=(C+(c.centeredSlides?this.minTranslate():0)-D.swiperSlideOffset)/(D.swiperSlideSize+c.spaceBetween);if(c.watchSlidesVisibility||c.centeredSlides&&c.autoHeight){var R=-(C-D.swiperSlideOffset),H=R+this.slidesSizesGrid[w];(R>=0&&R<this.size-1||H>1&&H<=this.size||R<=0&&H>=this.size)&&(this.visibleSlides.push(D),this.visibleSlidesIndexes.push(w),h.eq(w).addClass(c.slideVisibleClass))}D.progress=f?-k:k}this.visibleSlides=V(this.visibleSlides)}},updateProgress:function(o){if(o===void 0){var c=this.rtlTranslate?-1:1;o=this&&this.translate&&this.translate*c||0}var h=this.params,f=this.maxTranslate()-this.minTranslate(),C=this.progress,w=this.isBeginning,D=this.isEnd,k=w,R=D;f===0?(C=0,w=!0,D=!0):(w=(C=(o-this.minTranslate())/f)<=0,D=C>=1),fe(this,{progress:C,isBeginning:w,isEnd:D}),(h.watchSlidesProgress||h.watchSlidesVisibility||h.centeredSlides&&h.autoHeight)&&this.updateSlidesProgress(o),w&&!k&&this.emit("reachBeginning toEdge"),D&&!R&&this.emit("reachEnd toEdge"),(k&&!w||R&&!D)&&this.emit("fromEdge"),this.emit("progress",C)},updateSlidesClasses:function(){var o,c=this.slides,h=this.params,f=this.$wrapperEl,C=this.activeIndex,w=this.realIndex,D=this.virtual&&h.virtual.enabled;c.removeClass(h.slideActiveClass+" "+h.slideNextClass+" "+h.slidePrevClass+" "+h.slideDuplicateActiveClass+" "+h.slideDuplicateNextClass+" "+h.slideDuplicatePrevClass),(o=D?this.$wrapperEl.find("."+h.slideClass+'[data-swiper-slide-index="'+C+'"]'):c.eq(C)).addClass(h.slideActiveClass),h.loop&&(o.hasClass(h.slideDuplicateClass)?f.children("."+h.slideClass+":not(."+h.slideDuplicateClass+')[data-swiper-slide-index="'+w+'"]').addClass(h.slideDuplicateActiveClass):f.children("."+h.slideClass+"."+h.slideDuplicateClass+'[data-swiper-slide-index="'+w+'"]').addClass(h.slideDuplicateActiveClass));var k=o.nextAll("."+h.slideClass).eq(0).addClass(h.slideNextClass);h.loop&&k.length===0&&(k=c.eq(0)).addClass(h.slideNextClass);var R=o.prevAll("."+h.slideClass).eq(0).addClass(h.slidePrevClass);h.loop&&R.length===0&&(R=c.eq(-1)).addClass(h.slidePrevClass),h.loop&&(k.hasClass(h.slideDuplicateClass)?f.children("."+h.slideClass+":not(."+h.slideDuplicateClass+')[data-swiper-slide-index="'+k.attr("data-swiper-slide-index")+'"]').addClass(h.slideDuplicateNextClass):f.children("."+h.slideClass+"."+h.slideDuplicateClass+'[data-swiper-slide-index="'+k.attr("data-swiper-slide-index")+'"]').addClass(h.slideDuplicateNextClass),R.hasClass(h.slideDuplicateClass)?f.children("."+h.slideClass+":not(."+h.slideDuplicateClass+')[data-swiper-slide-index="'+R.attr("data-swiper-slide-index")+'"]').addClass(h.slideDuplicatePrevClass):f.children("."+h.slideClass+"."+h.slideDuplicateClass+'[data-swiper-slide-index="'+R.attr("data-swiper-slide-index")+'"]').addClass(h.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(o){var c,h=this.rtlTranslate?this.translate:-this.translate,f=this.slidesGrid,C=this.snapGrid,w=this.params,D=this.activeIndex,k=this.realIndex,R=this.snapIndex,H=o;if(H===void 0){for(var U=0;U<f.length;U+=1)f[U+1]!==void 0?h>=f[U]&&h<f[U+1]-(f[U+1]-f[U])/2?H=U:h>=f[U]&&h<f[U+1]&&(H=U+1):h>=f[U]&&(H=U);w.normalizeSlideIndex&&(H<0||H===void 0)&&(H=0)}if(C.indexOf(h)>=0)c=C.indexOf(h);else{var oe=Math.min(w.slidesPerGroupSkip,H);c=oe+Math.floor((H-oe)/w.slidesPerGroup)}if(c>=C.length&&(c=C.length-1),H!==D){var re=parseInt(this.slides.eq(H).attr("data-swiper-slide-index")||H,10);fe(this,{snapIndex:c,realIndex:re,previousIndex:D,activeIndex:H}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),k!==re&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else c!==R&&(this.snapIndex=c,this.emit("snapIndexChange"))},updateClickedSlide:function(o){var c=this.params,h=V(o.target).closest("."+c.slideClass)[0],f=!1;if(h)for(var C=0;C<this.slides.length;C+=1)this.slides[C]===h&&(f=!0);if(!h||!f)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=h,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(V(h).attr("data-swiper-slide-index"),10):this.clickedIndex=V(h).index(),c.slideToClickedSlide&&this.clickedIndex!==void 0&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(o){o===void 0&&(o=this.isHorizontal()?"x":"y");var c=this.params,h=this.rtlTranslate,f=this.translate,C=this.$wrapperEl;if(c.virtualTranslate)return h?-f:f;if(c.cssMode)return f;var w=it(C[0],o);return h&&(w=-w),w||0},setTranslate:function(o,c){var h=this.rtlTranslate,f=this.params,C=this.$wrapperEl,w=this.wrapperEl,D=this.progress,k=0,R=0;this.isHorizontal()?k=h?-o:o:R=o,f.roundLengths&&(k=Math.floor(k),R=Math.floor(R)),f.cssMode?w[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-k:-R:f.virtualTranslate||C.transform("translate3d("+k+"px, "+R+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?k:R;var H=this.maxTranslate()-this.minTranslate();(H===0?0:(o-this.minTranslate())/H)!==D&&this.updateProgress(o),this.emit("setTranslate",this.translate,c)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(o,c,h,f,C){o===void 0&&(o=0),c===void 0&&(c=this.params.speed),h===void 0&&(h=!0),f===void 0&&(f=!0);var w=this,D=w.params,k=w.wrapperEl;if(w.animating&&D.preventInteractionOnTransition)return!1;var R,H=w.minTranslate(),U=w.maxTranslate();if(R=f&&o>H?H:f&&o<U?U:o,w.updateProgress(R),D.cssMode){var oe,re=w.isHorizontal();return c===0?k[re?"scrollLeft":"scrollTop"]=-R:k.scrollTo?k.scrollTo(((oe={})[re?"left":"top"]=-R,oe.behavior="smooth",oe)):k[re?"scrollLeft":"scrollTop"]=-R,!0}return c===0?(w.setTransition(0),w.setTranslate(R),h&&(w.emit("beforeTransitionStart",c,C),w.emit("transitionEnd"))):(w.setTransition(c),w.setTranslate(R),h&&(w.emit("beforeTransitionStart",c,C),w.emit("transitionStart")),w.animating||(w.animating=!0,w.onTranslateToWrapperTransitionEnd||(w.onTranslateToWrapperTransitionEnd=function(me){w&&!w.destroyed&&me.target===this&&(w.$wrapperEl[0].removeEventListener("transitionend",w.onTranslateToWrapperTransitionEnd),w.$wrapperEl[0].removeEventListener("webkitTransitionEnd",w.onTranslateToWrapperTransitionEnd),w.onTranslateToWrapperTransitionEnd=null,delete w.onTranslateToWrapperTransitionEnd,h&&w.emit("transitionEnd"))}),w.$wrapperEl[0].addEventListener("transitionend",w.onTranslateToWrapperTransitionEnd),w.$wrapperEl[0].addEventListener("webkitTransitionEnd",w.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(o,c){this.params.cssMode||this.$wrapperEl.transition(o),this.emit("setTransition",o,c)},transitionStart:function(o,c){o===void 0&&(o=!0);var h=this.activeIndex,f=this.params,C=this.previousIndex;if(!f.cssMode){f.autoHeight&&this.updateAutoHeight();var w=c;if(w||(w=h>C?"next":h<C?"prev":"reset"),this.emit("transitionStart"),o&&h!==C){if(w==="reset")return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),w==="next"?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(o,c){o===void 0&&(o=!0);var h=this.activeIndex,f=this.previousIndex,C=this.params;if(this.animating=!1,!C.cssMode){this.setTransition(0);var w=c;if(w||(w=h>f?"next":h<f?"prev":"reset"),this.emit("transitionEnd"),o&&h!==f){if(w==="reset")return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),w==="next"?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(o,c,h,f){if(o===void 0&&(o=0),c===void 0&&(c=this.params.speed),h===void 0&&(h=!0),typeof o!="number"&&typeof o!="string")throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof o+"] given.");if(typeof o=="string"){var C=parseInt(o,10);if(!isFinite(C))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+o+"] given.");o=C}var w=this,D=o;D<0&&(D=0);var k=w.params,R=w.snapGrid,H=w.slidesGrid,U=w.previousIndex,oe=w.activeIndex,re=w.rtlTranslate,me=w.wrapperEl;if(w.animating&&k.preventInteractionOnTransition)return!1;var Ce=Math.min(w.params.slidesPerGroupSkip,D),Ae=Ce+Math.floor((D-Ce)/w.params.slidesPerGroup);Ae>=R.length&&(Ae=R.length-1),(oe||k.initialSlide||0)===(U||0)&&h&&w.emit("beforeSlideChangeStart");var He,Fe=-R[Ae];if(w.updateProgress(Fe),k.normalizeSlideIndex)for(var Ve=0;Ve<H.length;Ve+=1)-Math.floor(100*Fe)>=Math.floor(100*H[Ve])&&(D=Ve);if(w.initialized&&D!==oe&&(!w.allowSlideNext&&Fe<w.translate&&Fe<w.minTranslate()||!w.allowSlidePrev&&Fe>w.translate&&Fe>w.maxTranslate()&&(oe||0)!==D))return!1;if(He=D>oe?"next":D<oe?"prev":"reset",re&&-Fe===w.translate||!re&&Fe===w.translate)return w.updateActiveIndex(D),k.autoHeight&&w.updateAutoHeight(),w.updateSlidesClasses(),k.effect!=="slide"&&w.setTranslate(Fe),He!=="reset"&&(w.transitionStart(h,He),w.transitionEnd(h,He)),!1;if(k.cssMode){var le,Ze=w.isHorizontal(),ft=-Fe;return re&&(ft=me.scrollWidth-me.offsetWidth-ft),c===0?me[Ze?"scrollLeft":"scrollTop"]=ft:me.scrollTo?me.scrollTo(((le={})[Ze?"left":"top"]=ft,le.behavior="smooth",le)):me[Ze?"scrollLeft":"scrollTop"]=ft,!0}return c===0?(w.setTransition(0),w.setTranslate(Fe),w.updateActiveIndex(D),w.updateSlidesClasses(),w.emit("beforeTransitionStart",c,f),w.transitionStart(h,He),w.transitionEnd(h,He)):(w.setTransition(c),w.setTranslate(Fe),w.updateActiveIndex(D),w.updateSlidesClasses(),w.emit("beforeTransitionStart",c,f),w.transitionStart(h,He),w.animating||(w.animating=!0,w.onSlideToWrapperTransitionEnd||(w.onSlideToWrapperTransitionEnd=function(Tt){w&&!w.destroyed&&Tt.target===this&&(w.$wrapperEl[0].removeEventListener("transitionend",w.onSlideToWrapperTransitionEnd),w.$wrapperEl[0].removeEventListener("webkitTransitionEnd",w.onSlideToWrapperTransitionEnd),w.onSlideToWrapperTransitionEnd=null,delete w.onSlideToWrapperTransitionEnd,w.transitionEnd(h,He))}),w.$wrapperEl[0].addEventListener("transitionend",w.onSlideToWrapperTransitionEnd),w.$wrapperEl[0].addEventListener("webkitTransitionEnd",w.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(o,c,h,f){o===void 0&&(o=0),c===void 0&&(c=this.params.speed),h===void 0&&(h=!0);var C=o;return this.params.loop&&(C+=this.loopedSlides),this.slideTo(C,c,h,f)},slideNext:function(o,c,h){o===void 0&&(o=this.params.speed),c===void 0&&(c=!0);var f=this.params,C=this.animating,w=this.activeIndex<f.slidesPerGroupSkip?1:f.slidesPerGroup;if(f.loop){if(C&&f.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+w,o,c,h)},slidePrev:function(o,c,h){o===void 0&&(o=this.params.speed),c===void 0&&(c=!0);var f=this.params,C=this.animating,w=this.snapGrid,D=this.slidesGrid,k=this.rtlTranslate;if(f.loop){if(C&&f.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function R(me){return me<0?-Math.floor(Math.abs(me)):Math.floor(me)}var H,U=R(k?this.translate:-this.translate),oe=w.map(function(me){return R(me)}),re=(w[oe.indexOf(U)],w[oe.indexOf(U)-1]);return re===void 0&&f.cssMode&&w.forEach(function(me){!re&&U>=me&&(re=me)}),re!==void 0&&(H=D.indexOf(re))<0&&(H=this.activeIndex-1),this.slideTo(H,o,c,h)},slideReset:function(o,c,h){return o===void 0&&(o=this.params.speed),c===void 0&&(c=!0),this.slideTo(this.activeIndex,o,c,h)},slideToClosest:function(o,c,h,f){o===void 0&&(o=this.params.speed),c===void 0&&(c=!0),f===void 0&&(f=.5);var C=this.activeIndex,w=Math.min(this.params.slidesPerGroupSkip,C),D=w+Math.floor((C-w)/this.params.slidesPerGroup),k=this.rtlTranslate?this.translate:-this.translate;if(k>=this.snapGrid[D]){var R=this.snapGrid[D];k-R>(this.snapGrid[D+1]-R)*f&&(C+=this.params.slidesPerGroup)}else{var H=this.snapGrid[D-1];k-H<=(this.snapGrid[D]-H)*f&&(C-=this.params.slidesPerGroup)}return C=Math.max(C,0),C=Math.min(C,this.slidesGrid.length-1),this.slideTo(C,o,c,h)},slideToClickedSlide:function(){var o,c=this,h=c.params,f=c.$wrapperEl,C=h.slidesPerView==="auto"?c.slidesPerViewDynamic():h.slidesPerView,w=c.clickedIndex;if(h.loop){if(c.animating)return;o=parseInt(V(c.clickedSlide).attr("data-swiper-slide-index"),10),h.centeredSlides?w<c.loopedSlides-C/2||w>c.slides.length-c.loopedSlides+C/2?(c.loopFix(),w=f.children("."+h.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+h.slideDuplicateClass+")").eq(0).index(),b(function(){c.slideTo(w)})):c.slideTo(w):w>c.slides.length-C?(c.loopFix(),w=f.children("."+h.slideClass+'[data-swiper-slide-index="'+o+'"]:not(.'+h.slideDuplicateClass+")").eq(0).index(),b(function(){c.slideTo(w)})):c.slideTo(w)}else c.slideTo(w)}},loop:{loopCreate:function(){var o=this,c=n(),h=o.params,f=o.$wrapperEl;f.children("."+h.slideClass+"."+h.slideDuplicateClass).remove();var C=f.children("."+h.slideClass);if(h.loopFillGroupWithBlank){var w=h.slidesPerGroup-C.length%h.slidesPerGroup;if(w!==h.slidesPerGroup){for(var D=0;D<w;D+=1){var k=V(c.createElement("div")).addClass(h.slideClass+" "+h.slideBlankClass);f.append(k)}C=f.children("."+h.slideClass)}}h.slidesPerView!=="auto"||h.loopedSlides||(h.loopedSlides=C.length),o.loopedSlides=Math.ceil(parseFloat(h.loopedSlides||h.slidesPerView,10)),o.loopedSlides+=h.loopAdditionalSlides,o.loopedSlides>C.length&&(o.loopedSlides=C.length);var R=[],H=[];C.each(function(re,me){var Ce=V(re);me<o.loopedSlides&&H.push(re),me<C.length&&me>=C.length-o.loopedSlides&&R.push(re),Ce.attr("data-swiper-slide-index",me)});for(var U=0;U<H.length;U+=1)f.append(V(H[U].cloneNode(!0)).addClass(h.slideDuplicateClass));for(var oe=R.length-1;oe>=0;oe-=1)f.prepend(V(R[oe].cloneNode(!0)).addClass(h.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var o,c=this.activeIndex,h=this.slides,f=this.loopedSlides,C=this.allowSlidePrev,w=this.allowSlideNext,D=this.snapGrid,k=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var R=-D[c]-this.getTranslate();c<f?(o=h.length-3*f+c,o+=f,this.slideTo(o,0,!1,!0)&&R!==0&&this.setTranslate((k?-this.translate:this.translate)-R)):c>=h.length-f&&(o=-h.length+c+f,o+=f,this.slideTo(o,0,!1,!0)&&R!==0&&this.setTranslate((k?-this.translate:this.translate)-R)),this.allowSlidePrev=C,this.allowSlideNext=w,this.emit("loopFix")},loopDestroy:function(){var o=this.$wrapperEl,c=this.params,h=this.slides;o.children("."+c.slideClass+"."+c.slideDuplicateClass+",."+c.slideClass+"."+c.slideBlankClass).remove(),h.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(o){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var c=this.el;c.style.cursor="move",c.style.cursor=o?"-webkit-grabbing":"-webkit-grab",c.style.cursor=o?"-moz-grabbin":"-moz-grab",c.style.cursor=o?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(o){var c=this.$wrapperEl,h=this.params;if(h.loop&&this.loopDestroy(),typeof o=="object"&&"length"in o)for(var f=0;f<o.length;f+=1)o[f]&&c.append(o[f]);else c.append(o);h.loop&&this.loopCreate(),h.observer&&this.support.observer||this.update()},prependSlide:function(o){var c=this.params,h=this.$wrapperEl,f=this.activeIndex;c.loop&&this.loopDestroy();var C=f+1;if(typeof o=="object"&&"length"in o){for(var w=0;w<o.length;w+=1)o[w]&&h.prepend(o[w]);C=f+o.length}else h.prepend(o);c.loop&&this.loopCreate(),c.observer&&this.support.observer||this.update(),this.slideTo(C,0,!1)},addSlide:function(o,c){var h=this.$wrapperEl,f=this.params,C=this.activeIndex;f.loop&&(C-=this.loopedSlides,this.loopDestroy(),this.slides=h.children("."+f.slideClass));var w=this.slides.length;if(o<=0)this.prependSlide(c);else if(o>=w)this.appendSlide(c);else{for(var D=C>o?C+1:C,k=[],R=w-1;R>=o;R-=1){var H=this.slides.eq(R);H.remove(),k.unshift(H)}if(typeof c=="object"&&"length"in c){for(var U=0;U<c.length;U+=1)c[U]&&h.append(c[U]);D=C>o?C+c.length:C}else h.append(c);for(var oe=0;oe<k.length;oe+=1)h.append(k[oe]);f.loop&&this.loopCreate(),f.observer&&this.support.observer||this.update(),f.loop?this.slideTo(D+this.loopedSlides,0,!1):this.slideTo(D,0,!1)}},removeSlide:function(o){var c=this.params,h=this.$wrapperEl,f=this.activeIndex;c.loop&&(f-=this.loopedSlides,this.loopDestroy(),this.slides=h.children("."+c.slideClass));var C,w=f;if(typeof o=="object"&&"length"in o){for(var D=0;D<o.length;D+=1)C=o[D],this.slides[C]&&this.slides.eq(C).remove(),C<w&&(w-=1);w=Math.max(w,0)}else C=o,this.slides[C]&&this.slides.eq(C).remove(),C<w&&(w-=1),w=Math.max(w,0);c.loop&&this.loopCreate(),c.observer&&this.support.observer||this.update(),c.loop?this.slideTo(w+this.loopedSlides,0,!1):this.slideTo(w,0,!1)},removeAllSlides:function(){for(var o=[],c=0;c<this.slides.length;c+=1)o.push(c);this.removeSlide(o)}},events:{attachEvents:function(){var o=n(),c=this.params,h=this.touchEvents,f=this.el,C=this.wrapperEl,w=this.device,D=this.support;this.onTouchStart=Me.bind(this),this.onTouchMove=ve.bind(this),this.onTouchEnd=_e.bind(this),c.cssMode&&(this.onScroll=ae.bind(this)),this.onClick=Z.bind(this);var k=!!c.nested;if(!D.touch&&D.pointerEvents)f.addEventListener(h.start,this.onTouchStart,!1),o.addEventListener(h.move,this.onTouchMove,k),o.addEventListener(h.end,this.onTouchEnd,!1);else{if(D.touch){var R=!(h.start!=="touchstart"||!D.passiveListener||!c.passiveListeners)&&{passive:!0,capture:!1};f.addEventListener(h.start,this.onTouchStart,R),f.addEventListener(h.move,this.onTouchMove,D.passiveListener?{passive:!1,capture:k}:k),f.addEventListener(h.end,this.onTouchEnd,R),h.cancel&&f.addEventListener(h.cancel,this.onTouchEnd,R),W||(o.addEventListener("touchstart",pe),W=!0)}(c.simulateTouch&&!w.ios&&!w.android||c.simulateTouch&&!D.touch&&w.ios)&&(f.addEventListener("mousedown",this.onTouchStart,!1),o.addEventListener("mousemove",this.onTouchMove,k),o.addEventListener("mouseup",this.onTouchEnd,!1))}(c.preventClicks||c.preventClicksPropagation)&&f.addEventListener("click",this.onClick,!0),c.cssMode&&C.addEventListener("scroll",this.onScroll),c.updateOnWindowResize?this.on(w.ios||w.android?"resize orientationchange observerUpdate":"resize observerUpdate",Se,!0):this.on("observerUpdate",Se,!0)},detachEvents:function(){var o=n(),c=this.params,h=this.touchEvents,f=this.el,C=this.wrapperEl,w=this.device,D=this.support,k=!!c.nested;if(!D.touch&&D.pointerEvents)f.removeEventListener(h.start,this.onTouchStart,!1),o.removeEventListener(h.move,this.onTouchMove,k),o.removeEventListener(h.end,this.onTouchEnd,!1);else{if(D.touch){var R=!(h.start!=="onTouchStart"||!D.passiveListener||!c.passiveListeners)&&{passive:!0,capture:!1};f.removeEventListener(h.start,this.onTouchStart,R),f.removeEventListener(h.move,this.onTouchMove,k),f.removeEventListener(h.end,this.onTouchEnd,R),h.cancel&&f.removeEventListener(h.cancel,this.onTouchEnd,R)}(c.simulateTouch&&!w.ios&&!w.android||c.simulateTouch&&!D.touch&&w.ios)&&(f.removeEventListener("mousedown",this.onTouchStart,!1),o.removeEventListener("mousemove",this.onTouchMove,k),o.removeEventListener("mouseup",this.onTouchEnd,!1))}(c.preventClicks||c.preventClicksPropagation)&&f.removeEventListener("click",this.onClick,!0),c.cssMode&&C.removeEventListener("scroll",this.onScroll),this.off(w.ios||w.android?"resize orientationchange observerUpdate":"resize observerUpdate",Se)}},breakpoints:{setBreakpoint:function(){var o=this.activeIndex,c=this.initialized,h=this.loopedSlides,f=h===void 0?0:h,C=this.params,w=this.$el,D=C.breakpoints;if(D&&(!D||Object.keys(D).length!==0)){var k=this.getBreakpoint(D);if(k&&this.currentBreakpoint!==k){var R=k in D?D[k]:void 0;R&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(Ce){var Ae=R[Ce];Ae!==void 0&&(R[Ce]=Ce!=="slidesPerView"||Ae!=="AUTO"&&Ae!=="auto"?Ce==="slidesPerView"?parseFloat(Ae):parseInt(Ae,10):"auto")});var H=R||this.originalParams,U=C.slidesPerColumn>1,oe=H.slidesPerColumn>1;U&&!oe?(w.removeClass(C.containerModifierClass+"multirow "+C.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!U&&oe&&(w.addClass(C.containerModifierClass+"multirow"),H.slidesPerColumnFill==="column"&&w.addClass(C.containerModifierClass+"multirow-column"),this.emitContainerClasses());var re=H.direction&&H.direction!==C.direction,me=C.loop&&(H.slidesPerView!==C.slidesPerView||re);re&&c&&this.changeDirection(),fe(this.params,H),fe(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=k,this.emit("_beforeBreakpoint",H),me&&c&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(o-f+this.loopedSlides,0,!1)),this.emit("breakpoint",H)}}},getBreakpoint:function(o){var c=l();if(o){var h=!1,f=Object.keys(o).map(function(k){if(typeof k=="string"&&k.indexOf("@")===0){var R=parseFloat(k.substr(1));return{value:c.innerHeight*R,point:k}}return{value:k,point:k}});f.sort(function(k,R){return parseInt(k.value,10)-parseInt(R.value,10)});for(var C=0;C<f.length;C+=1){var w=f[C],D=w.point;w.value<=c.innerWidth&&(h=D)}return h||"max"}}},checkOverflow:{checkOverflow:function(){var o=this.params,c=this.isLocked,h=this.slides.length>0&&o.slidesOffsetBefore+o.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;o.slidesOffsetBefore&&o.slidesOffsetAfter&&h?this.isLocked=h<=this.size:this.isLocked=this.snapGrid.length===1,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,c!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),c&&c!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var o=this.classNames,c=this.params,h=this.rtl,f=this.$el,C=this.device,w=[];w.push("initialized"),w.push(c.direction),c.freeMode&&w.push("free-mode"),c.autoHeight&&w.push("autoheight"),h&&w.push("rtl"),c.slidesPerColumn>1&&(w.push("multirow"),c.slidesPerColumnFill==="column"&&w.push("multirow-column")),C.android&&w.push("android"),C.ios&&w.push("ios"),c.cssMode&&w.push("css-mode"),w.forEach(function(D){o.push(c.containerModifierClass+D)}),f.addClass(o.join(" ")),this.emitContainerClasses()},removeClasses:function(){var o=this.$el,c=this.classNames;o.removeClass(c.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(o,c,h,f,C,w){var D,k=l();function R(){w&&w()}V(o).parent("picture")[0]||o.complete&&C?R():c?((D=new k.Image).onload=R,D.onerror=R,f&&(D.sizes=f),h&&(D.srcset=h),c&&(D.src=c)):R()},preloadImages:function(){var o=this;function c(){o!=null&&o&&!o.destroyed&&(o.imagesLoaded!==void 0&&(o.imagesLoaded+=1),o.imagesLoaded===o.imagesToLoad.length&&(o.params.updateOnImagesReady&&o.update(),o.emit("imagesReady")))}o.imagesToLoad=o.$el.find("img");for(var h=0;h<o.imagesToLoad.length;h+=1){var f=o.imagesToLoad[h];o.loadImage(f,f.currentSrc||f.getAttribute("src"),f.srcset||f.getAttribute("srcset"),f.sizes||f.getAttribute("sizes"),!0,c)}}}},mt={},yt=function(){function o(){for(var w,D,k=arguments.length,R=new Array(k),H=0;H<k;H++)R[H]=arguments[H];R.length===1&&R[0].constructor&&R[0].constructor===Object?D=R[0]:(w=R[0],D=R[1]),D||(D={}),D=fe({},D),w&&!D.el&&(D.el=w);var U=this;U.support=Ne(),U.device=Le({userAgent:D.userAgent}),U.browser=Je(),U.eventsListeners={},U.eventsAnyListeners=[],U.modules===void 0&&(U.modules={}),Object.keys(U.modules).forEach(function(Fe){var Ve=U.modules[Fe];if(Ve.params){var le=Object.keys(Ve.params)[0],Ze=Ve.params[le];if(typeof Ze!="object"||Ze===null||!(le in D)||!("enabled"in Ze))return;D[le]===!0&&(D[le]={enabled:!0}),typeof D[le]!="object"||"enabled"in D[le]||(D[le].enabled=!0),D[le]||(D[le]={enabled:!1})}});var oe=fe({},Ie);U.useParams(oe),U.params=fe({},oe,mt,D),U.originalParams=fe({},U.params),U.passedParams=fe({},D),U.params&&U.params.on&&Object.keys(U.params.on).forEach(function(Fe){U.on(Fe,U.params.on[Fe])}),U.params&&U.params.onAny&&U.onAny(U.params.onAny),U.$=V;var re=V(U.params.el);if(w=re[0]){if(re.length>1){var me=[];return re.each(function(Fe){var Ve=fe({},D,{el:Fe});me.push(new o(Ve))}),me}var Ce,Ae,He;return w.swiper=U,w&&w.shadowRoot&&w.shadowRoot.querySelector?(Ce=V(w.shadowRoot.querySelector("."+U.params.wrapperClass))).children=function(Fe){return re.children(Fe)}:Ce=re.children("."+U.params.wrapperClass),fe(U,{$el:re,el:w,$wrapperEl:Ce,wrapperEl:Ce[0],classNames:[],slides:V(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return U.params.direction==="horizontal"},isVertical:function(){return U.params.direction==="vertical"},rtl:w.dir.toLowerCase()==="rtl"||re.css("direction")==="rtl",rtlTranslate:U.params.direction==="horizontal"&&(w.dir.toLowerCase()==="rtl"||re.css("direction")==="rtl"),wrongRTL:Ce.css("display")==="-webkit-box",activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:U.params.allowSlideNext,allowSlidePrev:U.params.allowSlidePrev,touchEvents:(Ae=["touchstart","touchmove","touchend","touchcancel"],He=["mousedown","mousemove","mouseup"],U.support.pointerEvents&&(He=["pointerdown","pointermove","pointerup"]),U.touchEventsTouch={start:Ae[0],move:Ae[1],end:Ae[2],cancel:Ae[3]},U.touchEventsDesktop={start:He[0],move:He[1],end:He[2]},U.support.touch||!U.params.simulateTouch?U.touchEventsTouch:U.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:de(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:U.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),U.useModules(),U.emit("_swiper"),U.params.init&&U.init(),U}}var c,h,f,C=o.prototype;return C.emitContainerClasses=function(){var w=this;if(w.params._emitClasses&&w.el){var D=w.el.className.split(" ").filter(function(k){return k.indexOf("swiper-container")===0||k.indexOf(w.params.containerModifierClass)===0});w.emit("_containerClasses",D.join(" "))}},C.getSlideClasses=function(w){var D=this;return w.className.split(" ").filter(function(k){return k.indexOf("swiper-slide")===0||k.indexOf(D.params.slideClass)===0}).join(" ")},C.emitSlidesClasses=function(){var w=this;w.params._emitClasses&&w.el&&w.slides.each(function(D){var k=w.getSlideClasses(D);w.emit("_slideClass",D,k)})},C.slidesPerViewDynamic=function(){var w=this.params,D=this.slides,k=this.slidesGrid,R=this.size,H=this.activeIndex,U=1;if(w.centeredSlides){for(var oe,re=D[H].swiperSlideSize,me=H+1;me<D.length;me+=1)D[me]&&!oe&&(U+=1,(re+=D[me].swiperSlideSize)>R&&(oe=!0));for(var Ce=H-1;Ce>=0;Ce-=1)D[Ce]&&!oe&&(U+=1,(re+=D[Ce].swiperSlideSize)>R&&(oe=!0))}else for(var Ae=H+1;Ae<D.length;Ae+=1)k[Ae]-k[H]<R&&(U+=1);return U},C.update=function(){var w=this;if(w&&!w.destroyed){var D=w.snapGrid,k=w.params;k.breakpoints&&w.setBreakpoint(),w.updateSize(),w.updateSlides(),w.updateProgress(),w.updateSlidesClasses(),w.params.freeMode?(R(),w.params.autoHeight&&w.updateAutoHeight()):((w.params.slidesPerView==="auto"||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0))||R(),k.watchOverflow&&D!==w.snapGrid&&w.checkOverflow(),w.emit("update")}function R(){var H=w.rtlTranslate?-1*w.translate:w.translate,U=Math.min(Math.max(H,w.maxTranslate()),w.minTranslate());w.setTranslate(U),w.updateActiveIndex(),w.updateSlidesClasses()}},C.changeDirection=function(w,D){D===void 0&&(D=!0);var k=this.params.direction;return w||(w=k==="horizontal"?"vertical":"horizontal"),w===k||w!=="horizontal"&&w!=="vertical"||(this.$el.removeClass(""+this.params.containerModifierClass+k).addClass(""+this.params.containerModifierClass+w),this.emitContainerClasses(),this.params.direction=w,this.slides.each(function(R){w==="vertical"?R.style.width="":R.style.height=""}),this.emit("changeDirection"),D&&this.update()),this},C.init=function(){this.initialized||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit"))},C.destroy=function(w,D){w===void 0&&(w=!0),D===void 0&&(D=!0);var k,R=this,H=R.params,U=R.$el,oe=R.$wrapperEl,re=R.slides;return R.params===void 0||R.destroyed||(R.emit("beforeDestroy"),R.initialized=!1,R.detachEvents(),H.loop&&R.loopDestroy(),D&&(R.removeClasses(),U.removeAttr("style"),oe.removeAttr("style"),re&&re.length&&re.removeClass([H.slideVisibleClass,H.slideActiveClass,H.slideNextClass,H.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),R.emit("destroy"),Object.keys(R.eventsListeners).forEach(function(me){R.off(me)}),w!==!1&&(R.$el[0].swiper=null,k=R,Object.keys(k).forEach(function(me){try{k[me]=null}catch{}try{delete k[me]}catch{}})),R.destroyed=!0),null},o.extendDefaults=function(w){fe(mt,w)},o.installModule=function(w){o.prototype.modules||(o.prototype.modules={});var D=w.name||Object.keys(o.prototype.modules).length+"_"+de();o.prototype.modules[D]=w},o.use=function(w){return Array.isArray(w)?(w.forEach(function(D){return o.installModule(D)}),o):(o.installModule(w),o)},c=o,f=[{key:"extendedDefaults",get:function(){return mt}},{key:"defaults",get:function(){return Ie}}],(h=null)&&a(c.prototype,h),f&&a(c,f),o}();Object.keys(je).forEach(function(o){Object.keys(je[o]).forEach(function(c){yt.prototype[c]=je[o][c]})}),yt.use([Pe,ce]);var pt={update:function(o){var c=this,h=c.params,f=h.slidesPerView,C=h.slidesPerGroup,w=h.centeredSlides,D=c.params.virtual,k=D.addSlidesBefore,R=D.addSlidesAfter,H=c.virtual,U=H.from,oe=H.to,re=H.slides,me=H.slidesGrid,Ce=H.renderSlide,Ae=H.offset;c.updateActiveIndex();var He,Fe,Ve,le=c.activeIndex||0;He=c.rtlTranslate?"right":c.isHorizontal()?"left":"top",w?(Fe=Math.floor(f/2)+C+R,Ve=Math.floor(f/2)+C+k):(Fe=f+(C-1)+R,Ve=C+k);var Ze=Math.max((le||0)-Ve,0),ft=Math.min((le||0)+Fe,re.length-1),Tt=(c.slidesGrid[Ze]||0)-(c.slidesGrid[0]||0);function Qe(){c.updateSlides(),c.updateProgress(),c.updateSlidesClasses(),c.lazy&&c.params.lazy.enabled&&c.lazy.load()}if(fe(c.virtual,{from:Ze,to:ft,offset:Tt,slidesGrid:c.slidesGrid}),U===Ze&&oe===ft&&!o)return c.slidesGrid!==me&&Tt!==Ae&&c.slides.css(He,Tt+"px"),void c.updateProgress();if(c.params.virtual.renderExternal)return c.params.virtual.renderExternal.call(c,{offset:Tt,from:Ze,to:ft,slides:function(){for(var nt=[],xt=Ze;xt<=ft;xt+=1)nt.push(re[xt]);return nt}()}),void(c.params.virtual.renderExternalUpdate&&Qe());var vt=[],Dt=[];if(o)c.$wrapperEl.find("."+c.params.slideClass).remove();else for(var Wt=U;Wt<=oe;Wt+=1)(Wt<Ze||Wt>ft)&&c.$wrapperEl.find("."+c.params.slideClass+'[data-swiper-slide-index="'+Wt+'"]').remove();for(var qt=0;qt<re.length;qt+=1)qt>=Ze&&qt<=ft&&(oe===void 0||o?Dt.push(qt):(qt>oe&&Dt.push(qt),qt<U&&vt.push(qt)));Dt.forEach(function(nt){c.$wrapperEl.append(Ce(re[nt],nt))}),vt.sort(function(nt,xt){return xt-nt}).forEach(function(nt){c.$wrapperEl.prepend(Ce(re[nt],nt))}),c.$wrapperEl.children(".swiper-slide").css(He,Tt+"px"),Qe()},renderSlide:function(o,c){var h=this.params.virtual;if(h.cache&&this.virtual.cache[c])return this.virtual.cache[c];var f=h.renderSlide?V(h.renderSlide.call(this,o,c)):V('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+c+'">'+o+"</div>");return f.attr("data-swiper-slide-index")||f.attr("data-swiper-slide-index",c),h.cache&&(this.virtual.cache[c]=f),f},appendSlide:function(o){if(typeof o=="object"&&"length"in o)for(var c=0;c<o.length;c+=1)o[c]&&this.virtual.slides.push(o[c]);else this.virtual.slides.push(o);this.virtual.update(!0)},prependSlide:function(o){var c=this.activeIndex,h=c+1,f=1;if(Array.isArray(o)){for(var C=0;C<o.length;C+=1)o[C]&&this.virtual.slides.unshift(o[C]);h=c+o.length,f=o.length}else this.virtual.slides.unshift(o);if(this.params.virtual.cache){var w=this.virtual.cache,D={};Object.keys(w).forEach(function(k){var R=w[k],H=R.attr("data-swiper-slide-index");H&&R.attr("data-swiper-slide-index",parseInt(H,10)+1),D[parseInt(k,10)+f]=R}),this.virtual.cache=D}this.virtual.update(!0),this.slideTo(h,0)},removeSlide:function(o){if(o!=null){var c=this.activeIndex;if(Array.isArray(o))for(var h=o.length-1;h>=0;h-=1)this.virtual.slides.splice(o[h],1),this.params.virtual.cache&&delete this.virtual.cache[o[h]],o[h]<c&&(c-=1),c=Math.max(c,0);else this.virtual.slides.splice(o,1),this.params.virtual.cache&&delete this.virtual.cache[o],o<c&&(c-=1),c=Math.max(c,0);this.virtual.update(!0),this.slideTo(c,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},ot={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){We(this,{virtual:i(i({},pt),{},{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(o){if(o.params.virtual.enabled){o.classNames.push(o.params.containerModifierClass+"virtual");var c={watchSlidesProgress:!0};fe(o.params,c),fe(o.originalParams,c),o.params.initialSlide||o.virtual.update()}},setTranslate:function(o){o.params.virtual.enabled&&o.virtual.update()}}},L={handle:function(o){var c=l(),h=n(),f=this.rtlTranslate,C=o;C.originalEvent&&(C=C.originalEvent);var w=C.keyCode||C.charCode,D=this.params.keyboard.pageUpDown,k=D&&w===33,R=D&&w===34,H=w===37,U=w===39,oe=w===38,re=w===40;if(!this.allowSlideNext&&(this.isHorizontal()&&U||this.isVertical()&&re||R)||!this.allowSlidePrev&&(this.isHorizontal()&&H||this.isVertical()&&oe||k))return!1;if(!(C.shiftKey||C.altKey||C.ctrlKey||C.metaKey||h.activeElement&&h.activeElement.nodeName&&(h.activeElement.nodeName.toLowerCase()==="input"||h.activeElement.nodeName.toLowerCase()==="textarea"))){if(this.params.keyboard.onlyInViewport&&(k||R||H||U||oe||re)){var me=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&this.$el.parents("."+this.params.slideActiveClass).length===0)return;var Ce=c.innerWidth,Ae=c.innerHeight,He=this.$el.offset();f&&(He.left-=this.$el[0].scrollLeft);for(var Fe=[[He.left,He.top],[He.left+this.width,He.top],[He.left,He.top+this.height],[He.left+this.width,He.top+this.height]],Ve=0;Ve<Fe.length;Ve+=1){var le=Fe[Ve];le[0]>=0&&le[0]<=Ce&&le[1]>=0&&le[1]<=Ae&&(me=!0)}if(!me)return}this.isHorizontal()?((k||R||H||U)&&(C.preventDefault?C.preventDefault():C.returnValue=!1),((R||U)&&!f||(k||H)&&f)&&this.slideNext(),((k||H)&&!f||(R||U)&&f)&&this.slidePrev()):((k||R||oe||re)&&(C.preventDefault?C.preventDefault():C.returnValue=!1),(R||re)&&this.slideNext(),(k||oe)&&this.slidePrev()),this.emit("keyPress",w)}},enable:function(){var o=n();this.keyboard.enabled||(V(o).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){var o=n();this.keyboard.enabled&&(V(o).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},Y={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){We(this,{keyboard:i({enabled:!1},L)})},on:{init:function(o){o.params.keyboard.enabled&&o.keyboard.enable()},destroy:function(o){o.keyboard.enabled&&o.keyboard.disable()}}},Q={lastScrollTime:de(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return l().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var o=n(),c="onwheel"in o;if(!c){var h=o.createElement("div");h.setAttribute("onwheel","return;"),c=typeof h.onwheel=="function"}return!c&&o.implementation&&o.implementation.hasFeature&&o.implementation.hasFeature("","")!==!0&&(c=o.implementation.hasFeature("Events.wheel","3.0")),c}()?"wheel":"mousewheel"},normalize:function(o){var c=0,h=0,f=0,C=0;return"detail"in o&&(h=o.detail),"wheelDelta"in o&&(h=-o.wheelDelta/120),"wheelDeltaY"in o&&(h=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(c=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(c=h,h=0),f=10*c,C=10*h,"deltaY"in o&&(C=o.deltaY),"deltaX"in o&&(f=o.deltaX),o.shiftKey&&!f&&(f=C,C=0),(f||C)&&o.deltaMode&&(o.deltaMode===1?(f*=40,C*=40):(f*=800,C*=800)),f&&!c&&(c=f<1?-1:1),C&&!h&&(h=C<1?-1:1),{spinX:c,spinY:h,pixelX:f,pixelY:C}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(o){var c=o,h=this,f=h.params.mousewheel;h.params.cssMode&&c.preventDefault();var C=h.$el;if(h.params.mousewheel.eventsTarget!=="container"&&(C=V(h.params.mousewheel.eventsTarget)),!h.mouseEntered&&!C[0].contains(c.target)&&!f.releaseOnEdges)return!0;c.originalEvent&&(c=c.originalEvent);var w=0,D=h.rtlTranslate?-1:1,k=Q.normalize(c);if(f.forceToAxis)if(h.isHorizontal()){if(!(Math.abs(k.pixelX)>Math.abs(k.pixelY)))return!0;w=-k.pixelX*D}else{if(!(Math.abs(k.pixelY)>Math.abs(k.pixelX)))return!0;w=-k.pixelY}else w=Math.abs(k.pixelX)>Math.abs(k.pixelY)?-k.pixelX*D:-k.pixelY;if(w===0)return!0;if(f.invert&&(w=-w),h.params.freeMode){var R={time:de(),delta:Math.abs(w),direction:Math.sign(w)},H=h.mousewheel.lastEventBeforeSnap,U=H&&R.time<H.time+500&&R.delta<=H.delta&&R.direction===H.direction;if(!U){h.mousewheel.lastEventBeforeSnap=void 0,h.params.loop&&h.loopFix();var oe=h.getTranslate()+w*f.sensitivity,re=h.isBeginning,me=h.isEnd;if(oe>=h.minTranslate()&&(oe=h.minTranslate()),oe<=h.maxTranslate()&&(oe=h.maxTranslate()),h.setTransition(0),h.setTranslate(oe),h.updateProgress(),h.updateActiveIndex(),h.updateSlidesClasses(),(!re&&h.isBeginning||!me&&h.isEnd)&&h.updateSlidesClasses(),h.params.freeModeSticky){clearTimeout(h.mousewheel.timeout),h.mousewheel.timeout=void 0;var Ce=h.mousewheel.recentWheelEvents;Ce.length>=15&&Ce.shift();var Ae=Ce.length?Ce[Ce.length-1]:void 0,He=Ce[0];if(Ce.push(R),Ae&&(R.delta>Ae.delta||R.direction!==Ae.direction))Ce.splice(0);else if(Ce.length>=15&&R.time-He.time<500&&He.delta-R.delta>=1&&R.delta<=6){var Fe=w>0?.8:.2;h.mousewheel.lastEventBeforeSnap=R,Ce.splice(0),h.mousewheel.timeout=b(function(){h.slideToClosest(h.params.speed,!0,void 0,Fe)},0)}h.mousewheel.timeout||(h.mousewheel.timeout=b(function(){h.mousewheel.lastEventBeforeSnap=R,Ce.splice(0),h.slideToClosest(h.params.speed,!0,void 0,.5)},500))}if(U||h.emit("scroll",c),h.params.autoplay&&h.params.autoplayDisableOnInteraction&&h.autoplay.stop(),oe===h.minTranslate()||oe===h.maxTranslate())return!0}}else{var Ve={time:de(),delta:Math.abs(w),direction:Math.sign(w),raw:o},le=h.mousewheel.recentWheelEvents;le.length>=2&&le.shift();var Ze=le.length?le[le.length-1]:void 0;if(le.push(Ve),Ze?(Ve.direction!==Ze.direction||Ve.delta>Ze.delta||Ve.time>Ze.time+150)&&h.mousewheel.animateSlider(Ve):h.mousewheel.animateSlider(Ve),h.mousewheel.releaseScroll(Ve))return!0}return c.preventDefault?c.preventDefault():c.returnValue=!1,!1},animateSlider:function(o){var c=l();return!(this.params.mousewheel.thresholdDelta&&o.delta<this.params.mousewheel.thresholdDelta)&&!(this.params.mousewheel.thresholdTime&&de()-this.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(o.delta>=6&&de()-this.mousewheel.lastScrollTime<60||(o.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",o.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",o.raw)),this.mousewheel.lastScrollTime=new c.Date().getTime(),!1))},releaseScroll:function(o){var c=this.params.mousewheel;if(o.direction<0){if(this.isEnd&&!this.params.loop&&c.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&c.releaseOnEdges)return!0;return!1},enable:function(){var o=Q.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(o,this.mousewheel.handle),!0;if(!o||this.mousewheel.enabled)return!1;var c=this.$el;return this.params.mousewheel.eventsTarget!=="container"&&(c=V(this.params.mousewheel.eventsTarget)),c.on("mouseenter",this.mousewheel.handleMouseEnter),c.on("mouseleave",this.mousewheel.handleMouseLeave),c.on(o,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){var o=Q.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(o,this.mousewheel.handle),!0;if(!o||!this.mousewheel.enabled)return!1;var c=this.$el;return this.params.mousewheel.eventsTarget!=="container"&&(c=V(this.params.mousewheel.eventsTarget)),c.off(o,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},we={update:function(){var o=this.params.navigation;if(!this.params.loop){var c=this.navigation,h=c.$nextEl,f=c.$prevEl;f&&f.length>0&&(this.isBeginning?f.addClass(o.disabledClass):f.removeClass(o.disabledClass),f[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](o.lockClass)),h&&h.length>0&&(this.isEnd?h.addClass(o.disabledClass):h.removeClass(o.disabledClass),h[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](o.lockClass))}},onPrevClick:function(o){o.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(o){o.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var o,c,h=this.params.navigation;(h.nextEl||h.prevEl)&&(h.nextEl&&(o=V(h.nextEl),this.params.uniqueNavElements&&typeof h.nextEl=="string"&&o.length>1&&this.$el.find(h.nextEl).length===1&&(o=this.$el.find(h.nextEl))),h.prevEl&&(c=V(h.prevEl),this.params.uniqueNavElements&&typeof h.prevEl=="string"&&c.length>1&&this.$el.find(h.prevEl).length===1&&(c=this.$el.find(h.prevEl))),o&&o.length>0&&o.on("click",this.navigation.onNextClick),c&&c.length>0&&c.on("click",this.navigation.onPrevClick),fe(this.navigation,{$nextEl:o,nextEl:o&&o[0],$prevEl:c,prevEl:c&&c[0]}))},destroy:function(){var o=this.navigation,c=o.$nextEl,h=o.$prevEl;c&&c.length&&(c.off("click",this.navigation.onNextClick),c.removeClass(this.params.navigation.disabledClass)),h&&h.length&&(h.off("click",this.navigation.onPrevClick),h.removeClass(this.params.navigation.disabledClass))}},Re={update:function(){var o=this.rtl,c=this.params.pagination;if(c.el&&this.pagination.el&&this.pagination.$el&&this.pagination.$el.length!==0){var h,f=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,C=this.pagination.$el,w=this.params.loop?Math.ceil((f-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((h=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>f-1-2*this.loopedSlides&&(h-=f-2*this.loopedSlides),h>w-1&&(h-=w),h<0&&this.params.paginationType!=="bullets"&&(h=w+h)):h=this.snapIndex!==void 0?this.snapIndex:this.activeIndex||0,c.type==="bullets"&&this.pagination.bullets&&this.pagination.bullets.length>0){var D,k,R,H=this.pagination.bullets;if(c.dynamicBullets&&(this.pagination.bulletSize=H.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),C.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(c.dynamicMainBullets+4)+"px"),c.dynamicMainBullets>1&&this.previousIndex!==void 0&&(this.pagination.dynamicBulletIndex+=h-this.previousIndex,this.pagination.dynamicBulletIndex>c.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=c.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),D=h-this.pagination.dynamicBulletIndex,R=((k=D+(Math.min(H.length,c.dynamicMainBullets)-1))+D)/2),H.removeClass(c.bulletActiveClass+" "+c.bulletActiveClass+"-next "+c.bulletActiveClass+"-next-next "+c.bulletActiveClass+"-prev "+c.bulletActiveClass+"-prev-prev "+c.bulletActiveClass+"-main"),C.length>1)H.each(function(Qe){var vt=V(Qe),Dt=vt.index();Dt===h&&vt.addClass(c.bulletActiveClass),c.dynamicBullets&&(Dt>=D&&Dt<=k&&vt.addClass(c.bulletActiveClass+"-main"),Dt===D&&vt.prev().addClass(c.bulletActiveClass+"-prev").prev().addClass(c.bulletActiveClass+"-prev-prev"),Dt===k&&vt.next().addClass(c.bulletActiveClass+"-next").next().addClass(c.bulletActiveClass+"-next-next"))});else{var U=H.eq(h),oe=U.index();if(U.addClass(c.bulletActiveClass),c.dynamicBullets){for(var re=H.eq(D),me=H.eq(k),Ce=D;Ce<=k;Ce+=1)H.eq(Ce).addClass(c.bulletActiveClass+"-main");if(this.params.loop)if(oe>=H.length-c.dynamicMainBullets){for(var Ae=c.dynamicMainBullets;Ae>=0;Ae-=1)H.eq(H.length-Ae).addClass(c.bulletActiveClass+"-main");H.eq(H.length-c.dynamicMainBullets-1).addClass(c.bulletActiveClass+"-prev")}else re.prev().addClass(c.bulletActiveClass+"-prev").prev().addClass(c.bulletActiveClass+"-prev-prev"),me.next().addClass(c.bulletActiveClass+"-next").next().addClass(c.bulletActiveClass+"-next-next");else re.prev().addClass(c.bulletActiveClass+"-prev").prev().addClass(c.bulletActiveClass+"-prev-prev"),me.next().addClass(c.bulletActiveClass+"-next").next().addClass(c.bulletActiveClass+"-next-next")}}if(c.dynamicBullets){var He=Math.min(H.length,c.dynamicMainBullets+4),Fe=(this.pagination.bulletSize*He-this.pagination.bulletSize)/2-R*this.pagination.bulletSize,Ve=o?"right":"left";H.css(this.isHorizontal()?Ve:"top",Fe+"px")}}if(c.type==="fraction"&&(C.find("."+c.currentClass).text(c.formatFractionCurrent(h+1)),C.find("."+c.totalClass).text(c.formatFractionTotal(w))),c.type==="progressbar"){var le;le=c.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var Ze=(h+1)/w,ft=1,Tt=1;le==="horizontal"?ft=Ze:Tt=Ze,C.find("."+c.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+ft+") scaleY("+Tt+")").transition(this.params.speed)}c.type==="custom"&&c.renderCustom?(C.html(c.renderCustom(this,h+1,w)),this.emit("paginationRender",C[0])):this.emit("paginationUpdate",C[0]),C[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](c.lockClass)}},render:function(){var o=this.params.pagination;if(o.el&&this.pagination.el&&this.pagination.$el&&this.pagination.$el.length!==0){var c=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,h=this.pagination.$el,f="";if(o.type==="bullets"){for(var C=this.params.loop?Math.ceil((c-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length,w=0;w<C;w+=1)o.renderBullet?f+=o.renderBullet.call(this,w,o.bulletClass):f+="<"+o.bulletElement+' class="'+o.bulletClass+'"></'+o.bulletElement+">";h.html(f),this.pagination.bullets=h.find("."+o.bulletClass)}o.type==="fraction"&&(f=o.renderFraction?o.renderFraction.call(this,o.currentClass,o.totalClass):'<span class="'+o.currentClass+'"></span> / <span class="'+o.totalClass+'"></span>',h.html(f)),o.type==="progressbar"&&(f=o.renderProgressbar?o.renderProgressbar.call(this,o.progressbarFillClass):'<span class="'+o.progressbarFillClass+'"></span>',h.html(f)),o.type!=="custom"&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var o=this,c=o.params.pagination;if(c.el){var h=V(c.el);h.length!==0&&(o.params.uniqueNavElements&&typeof c.el=="string"&&h.length>1&&(h=o.$el.find(c.el)),c.type==="bullets"&&c.clickable&&h.addClass(c.clickableClass),h.addClass(c.modifierClass+c.type),c.type==="bullets"&&c.dynamicBullets&&(h.addClass(""+c.modifierClass+c.type+"-dynamic"),o.pagination.dynamicBulletIndex=0,c.dynamicMainBullets<1&&(c.dynamicMainBullets=1)),c.type==="progressbar"&&c.progressbarOpposite&&h.addClass(c.progressbarOppositeClass),c.clickable&&h.on("click","."+c.bulletClass,function(f){f.preventDefault();var C=V(this).index()*o.params.slidesPerGroup;o.params.loop&&(C+=o.loopedSlides),o.slideTo(C)}),fe(o.pagination,{$el:h,el:h[0]}))}},destroy:function(){var o=this.params.pagination;if(o.el&&this.pagination.el&&this.pagination.$el&&this.pagination.$el.length!==0){var c=this.pagination.$el;c.removeClass(o.hiddenClass),c.removeClass(o.modifierClass+o.type),this.pagination.bullets&&this.pagination.bullets.removeClass(o.bulletActiveClass),o.clickable&&c.off("click","."+o.bulletClass)}}},lt={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var o=this.scrollbar,c=this.rtlTranslate,h=this.progress,f=o.dragSize,C=o.trackSize,w=o.$dragEl,D=o.$el,k=this.params.scrollbar,R=f,H=(C-f)*h;c?(H=-H)>0?(R=f-H,H=0):-H+f>C&&(R=C+H):H<0?(R=f+H,H=0):H+f>C&&(R=C-H),this.isHorizontal()?(w.transform("translate3d("+H+"px, 0, 0)"),w[0].style.width=R+"px"):(w.transform("translate3d(0px, "+H+"px, 0)"),w[0].style.height=R+"px"),k.hide&&(clearTimeout(this.scrollbar.timeout),D[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){D[0].style.opacity=0,D.transition(400)},1e3))}},setTransition:function(o){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(o)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var o=this.scrollbar,c=o.$dragEl,h=o.$el;c[0].style.width="",c[0].style.height="";var f,C=this.isHorizontal()?h[0].offsetWidth:h[0].offsetHeight,w=this.size/this.virtualSize,D=w*(C/this.size);f=this.params.scrollbar.dragSize==="auto"?C*w:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?c[0].style.width=f+"px":c[0].style.height=f+"px",h[0].style.display=w>=1?"none":"",this.params.scrollbar.hide&&(h[0].style.opacity=0),fe(o,{trackSize:C,divider:w,moveDivider:D,dragSize:f}),o.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(o){return this.isHorizontal()?o.type==="touchstart"||o.type==="touchmove"?o.targetTouches[0].clientX:o.clientX:o.type==="touchstart"||o.type==="touchmove"?o.targetTouches[0].clientY:o.clientY},setDragPosition:function(o){var c,h=this.scrollbar,f=this.rtlTranslate,C=h.$el,w=h.dragSize,D=h.trackSize,k=h.dragStartPos;c=(h.getPointerPosition(o)-C.offset()[this.isHorizontal()?"left":"top"]-(k!==null?k:w/2))/(D-w),c=Math.max(Math.min(c,1),0),f&&(c=1-c);var R=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*c;this.updateProgress(R),this.setTranslate(R),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(o){var c=this.params.scrollbar,h=this.scrollbar,f=this.$wrapperEl,C=h.$el,w=h.$dragEl;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=o.target===w[0]||o.target===w?h.getPointerPosition(o)-o.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,o.preventDefault(),o.stopPropagation(),f.transition(100),w.transition(100),h.setDragPosition(o),clearTimeout(this.scrollbar.dragTimeout),C.transition(0),c.hide&&C.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",o)},onDragMove:function(o){var c=this.scrollbar,h=this.$wrapperEl,f=c.$el,C=c.$dragEl;this.scrollbar.isTouched&&(o.preventDefault?o.preventDefault():o.returnValue=!1,c.setDragPosition(o),h.transition(0),f.transition(0),C.transition(0),this.emit("scrollbarDragMove",o))},onDragEnd:function(o){var c=this.params.scrollbar,h=this.scrollbar,f=this.$wrapperEl,C=h.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),f.transition("")),c.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=b(function(){C.css("opacity",0),C.transition(400)},1e3)),this.emit("scrollbarDragEnd",o),c.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var o=n(),c=this.scrollbar,h=this.touchEventsTouch,f=this.touchEventsDesktop,C=this.params,w=this.support,D=c.$el[0],k=!(!w.passiveListener||!C.passiveListeners)&&{passive:!1,capture:!1},R=!(!w.passiveListener||!C.passiveListeners)&&{passive:!0,capture:!1};w.touch?(D.addEventListener(h.start,this.scrollbar.onDragStart,k),D.addEventListener(h.move,this.scrollbar.onDragMove,k),D.addEventListener(h.end,this.scrollbar.onDragEnd,R)):(D.addEventListener(f.start,this.scrollbar.onDragStart,k),o.addEventListener(f.move,this.scrollbar.onDragMove,k),o.addEventListener(f.end,this.scrollbar.onDragEnd,R))}},disableDraggable:function(){if(this.params.scrollbar.el){var o=n(),c=this.scrollbar,h=this.touchEventsTouch,f=this.touchEventsDesktop,C=this.params,w=this.support,D=c.$el[0],k=!(!w.passiveListener||!C.passiveListeners)&&{passive:!1,capture:!1},R=!(!w.passiveListener||!C.passiveListeners)&&{passive:!0,capture:!1};w.touch?(D.removeEventListener(h.start,this.scrollbar.onDragStart,k),D.removeEventListener(h.move,this.scrollbar.onDragMove,k),D.removeEventListener(h.end,this.scrollbar.onDragEnd,R)):(D.removeEventListener(f.start,this.scrollbar.onDragStart,k),o.removeEventListener(f.move,this.scrollbar.onDragMove,k),o.removeEventListener(f.end,this.scrollbar.onDragEnd,R))}},init:function(){if(this.params.scrollbar.el){var o=this.scrollbar,c=this.$el,h=this.params.scrollbar,f=V(h.el);this.params.uniqueNavElements&&typeof h.el=="string"&&f.length>1&&c.find(h.el).length===1&&(f=c.find(h.el));var C=f.find("."+this.params.scrollbar.dragClass);C.length===0&&(C=V('<div class="'+this.params.scrollbar.dragClass+'"></div>'),f.append(C)),fe(o,{$el:f,el:f[0],$dragEl:C,dragEl:C[0]}),h.draggable&&o.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},wt={setTransform:function(o,c){var h=this.rtl,f=V(o),C=h?-1:1,w=f.attr("data-swiper-parallax")||"0",D=f.attr("data-swiper-parallax-x"),k=f.attr("data-swiper-parallax-y"),R=f.attr("data-swiper-parallax-scale"),H=f.attr("data-swiper-parallax-opacity");if(D||k?(D=D||"0",k=k||"0"):this.isHorizontal()?(D=w,k="0"):(k=w,D="0"),D=D.indexOf("%")>=0?parseInt(D,10)*c*C+"%":D*c*C+"px",k=k.indexOf("%")>=0?parseInt(k,10)*c+"%":k*c+"px",H!=null){var U=H-(H-1)*(1-Math.abs(c));f[0].style.opacity=U}if(R==null)f.transform("translate3d("+D+", "+k+", 0px)");else{var oe=R-(R-1)*(1-Math.abs(c));f.transform("translate3d("+D+", "+k+", 0px) scale("+oe+")")}},setTranslate:function(){var o=this,c=o.$el,h=o.slides,f=o.progress,C=o.snapGrid;c.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(w){o.parallax.setTransform(w,f)}),h.each(function(w,D){var k=w.progress;o.params.slidesPerGroup>1&&o.params.slidesPerView!=="auto"&&(k+=Math.ceil(D/2)-f*(C.length-1)),k=Math.min(Math.max(k,-1),1),V(w).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(R){o.parallax.setTransform(R,k)})})},setTransition:function(o){o===void 0&&(o=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(c){var h=V(c),f=parseInt(h.attr("data-swiper-parallax-duration"),10)||o;o===0&&(f=0),h.transition(f)})}},bt={getDistanceBetweenTouches:function(o){if(o.targetTouches.length<2)return 1;var c=o.targetTouches[0].pageX,h=o.targetTouches[0].pageY,f=o.targetTouches[1].pageX,C=o.targetTouches[1].pageY;return Math.sqrt(Math.pow(f-c,2)+Math.pow(C-h,2))},onGestureStart:function(o){var c=this.support,h=this.params.zoom,f=this.zoom,C=f.gesture;if(f.fakeGestureTouched=!1,f.fakeGestureMoved=!1,!c.gestures){if(o.type!=="touchstart"||o.type==="touchstart"&&o.targetTouches.length<2)return;f.fakeGestureTouched=!0,C.scaleStart=bt.getDistanceBetweenTouches(o)}C.$slideEl&&C.$slideEl.length||(C.$slideEl=V(o.target).closest("."+this.params.slideClass),C.$slideEl.length===0&&(C.$slideEl=this.slides.eq(this.activeIndex)),C.$imageEl=C.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),C.$imageWrapEl=C.$imageEl.parent("."+h.containerClass),C.maxRatio=C.$imageWrapEl.attr("data-swiper-zoom")||h.maxRatio,C.$imageWrapEl.length!==0)?(C.$imageEl&&C.$imageEl.transition(0),this.zoom.isScaling=!0):C.$imageEl=void 0},onGestureChange:function(o){var c=this.support,h=this.params.zoom,f=this.zoom,C=f.gesture;if(!c.gestures){if(o.type!=="touchmove"||o.type==="touchmove"&&o.targetTouches.length<2)return;f.fakeGestureMoved=!0,C.scaleMove=bt.getDistanceBetweenTouches(o)}C.$imageEl&&C.$imageEl.length!==0?(c.gestures?f.scale=o.scale*f.currentScale:f.scale=C.scaleMove/C.scaleStart*f.currentScale,f.scale>C.maxRatio&&(f.scale=C.maxRatio-1+Math.pow(f.scale-C.maxRatio+1,.5)),f.scale<h.minRatio&&(f.scale=h.minRatio+1-Math.pow(h.minRatio-f.scale+1,.5)),C.$imageEl.transform("translate3d(0,0,0) scale("+f.scale+")")):o.type==="gesturechange"&&f.onGestureStart(o)},onGestureEnd:function(o){var c=this.device,h=this.support,f=this.params.zoom,C=this.zoom,w=C.gesture;if(!h.gestures){if(!C.fakeGestureTouched||!C.fakeGestureMoved||o.type!=="touchend"||o.type==="touchend"&&o.changedTouches.length<2&&!c.android)return;C.fakeGestureTouched=!1,C.fakeGestureMoved=!1}w.$imageEl&&w.$imageEl.length!==0&&(C.scale=Math.max(Math.min(C.scale,w.maxRatio),f.minRatio),w.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+C.scale+")"),C.currentScale=C.scale,C.isScaling=!1,C.scale===1&&(w.$slideEl=void 0))},onTouchStart:function(o){var c=this.device,h=this.zoom,f=h.gesture,C=h.image;f.$imageEl&&f.$imageEl.length!==0&&(C.isTouched||(c.android&&o.cancelable&&o.preventDefault(),C.isTouched=!0,C.touchesStart.x=o.type==="touchstart"?o.targetTouches[0].pageX:o.pageX,C.touchesStart.y=o.type==="touchstart"?o.targetTouches[0].pageY:o.pageY))},onTouchMove:function(o){var c=this.zoom,h=c.gesture,f=c.image,C=c.velocity;if(h.$imageEl&&h.$imageEl.length!==0&&(this.allowClick=!1,f.isTouched&&h.$slideEl)){f.isMoved||(f.width=h.$imageEl[0].offsetWidth,f.height=h.$imageEl[0].offsetHeight,f.startX=it(h.$imageWrapEl[0],"x")||0,f.startY=it(h.$imageWrapEl[0],"y")||0,h.slideWidth=h.$slideEl[0].offsetWidth,h.slideHeight=h.$slideEl[0].offsetHeight,h.$imageWrapEl.transition(0),this.rtl&&(f.startX=-f.startX,f.startY=-f.startY));var w=f.width*c.scale,D=f.height*c.scale;if(!(w<h.slideWidth&&D<h.slideHeight)){if(f.minX=Math.min(h.slideWidth/2-w/2,0),f.maxX=-f.minX,f.minY=Math.min(h.slideHeight/2-D/2,0),f.maxY=-f.minY,f.touchesCurrent.x=o.type==="touchmove"?o.targetTouches[0].pageX:o.pageX,f.touchesCurrent.y=o.type==="touchmove"?o.targetTouches[0].pageY:o.pageY,!f.isMoved&&!c.isScaling&&(this.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)||!this.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)))return void(f.isTouched=!1);o.cancelable&&o.preventDefault(),o.stopPropagation(),f.isMoved=!0,f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX,f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY,f.currentX<f.minX&&(f.currentX=f.minX+1-Math.pow(f.minX-f.currentX+1,.8)),f.currentX>f.maxX&&(f.currentX=f.maxX-1+Math.pow(f.currentX-f.maxX+1,.8)),f.currentY<f.minY&&(f.currentY=f.minY+1-Math.pow(f.minY-f.currentY+1,.8)),f.currentY>f.maxY&&(f.currentY=f.maxY-1+Math.pow(f.currentY-f.maxY+1,.8)),C.prevPositionX||(C.prevPositionX=f.touchesCurrent.x),C.prevPositionY||(C.prevPositionY=f.touchesCurrent.y),C.prevTime||(C.prevTime=Date.now()),C.x=(f.touchesCurrent.x-C.prevPositionX)/(Date.now()-C.prevTime)/2,C.y=(f.touchesCurrent.y-C.prevPositionY)/(Date.now()-C.prevTime)/2,Math.abs(f.touchesCurrent.x-C.prevPositionX)<2&&(C.x=0),Math.abs(f.touchesCurrent.y-C.prevPositionY)<2&&(C.y=0),C.prevPositionX=f.touchesCurrent.x,C.prevPositionY=f.touchesCurrent.y,C.prevTime=Date.now(),h.$imageWrapEl.transform("translate3d("+f.currentX+"px, "+f.currentY+"px,0)")}}},onTouchEnd:function(){var o=this.zoom,c=o.gesture,h=o.image,f=o.velocity;if(c.$imageEl&&c.$imageEl.length!==0){if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;var C=300,w=300,D=f.x*C,k=h.currentX+D,R=f.y*w,H=h.currentY+R;f.x!==0&&(C=Math.abs((k-h.currentX)/f.x)),f.y!==0&&(w=Math.abs((H-h.currentY)/f.y));var U=Math.max(C,w);h.currentX=k,h.currentY=H;var oe=h.width*o.scale,re=h.height*o.scale;h.minX=Math.min(c.slideWidth/2-oe/2,0),h.maxX=-h.minX,h.minY=Math.min(c.slideHeight/2-re/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),c.$imageWrapEl.transition(U).transform("translate3d("+h.currentX+"px, "+h.currentY+"px,0)")}},onTransitionEnd:function(){var o=this.zoom,c=o.gesture;c.$slideEl&&this.previousIndex!==this.activeIndex&&(c.$imageEl&&c.$imageEl.transform("translate3d(0,0,0) scale(1)"),c.$imageWrapEl&&c.$imageWrapEl.transform("translate3d(0,0,0)"),o.scale=1,o.currentScale=1,c.$slideEl=void 0,c.$imageEl=void 0,c.$imageWrapEl=void 0)},toggle:function(o){var c=this.zoom;c.scale&&c.scale!==1?c.out():c.in(o)},in:function(o){var c,h,f,C,w,D,k,R,H,U,oe,re,me,Ce,Ae,He,Fe=this.zoom,Ve=this.params.zoom,le=Fe.gesture,Ze=Fe.image;le.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?le.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):le.$slideEl=this.slides.eq(this.activeIndex),le.$imageEl=le.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),le.$imageWrapEl=le.$imageEl.parent("."+Ve.containerClass)),le.$imageEl&&le.$imageEl.length!==0&&(le.$slideEl.addClass(""+Ve.zoomedSlideClass),Ze.touchesStart.x===void 0&&o?(c=o.type==="touchend"?o.changedTouches[0].pageX:o.pageX,h=o.type==="touchend"?o.changedTouches[0].pageY:o.pageY):(c=Ze.touchesStart.x,h=Ze.touchesStart.y),Fe.scale=le.$imageWrapEl.attr("data-swiper-zoom")||Ve.maxRatio,Fe.currentScale=le.$imageWrapEl.attr("data-swiper-zoom")||Ve.maxRatio,o?(Ae=le.$slideEl[0].offsetWidth,He=le.$slideEl[0].offsetHeight,f=le.$slideEl.offset().left+Ae/2-c,C=le.$slideEl.offset().top+He/2-h,k=le.$imageEl[0].offsetWidth,R=le.$imageEl[0].offsetHeight,H=k*Fe.scale,U=R*Fe.scale,me=-(oe=Math.min(Ae/2-H/2,0)),Ce=-(re=Math.min(He/2-U/2,0)),(w=f*Fe.scale)<oe&&(w=oe),w>me&&(w=me),(D=C*Fe.scale)<re&&(D=re),D>Ce&&(D=Ce)):(w=0,D=0),le.$imageWrapEl.transition(300).transform("translate3d("+w+"px, "+D+"px,0)"),le.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+Fe.scale+")"))},out:function(){var o=this.zoom,c=this.params.zoom,h=o.gesture;h.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?h.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):h.$slideEl=this.slides.eq(this.activeIndex),h.$imageEl=h.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),h.$imageWrapEl=h.$imageEl.parent("."+c.containerClass)),h.$imageEl&&h.$imageEl.length!==0&&(o.scale=1,o.currentScale=1,h.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),h.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),h.$slideEl.removeClass(""+c.zoomedSlideClass),h.$slideEl=void 0)},toggleGestures:function(o){var c=this.zoom,h=c.slideSelector,f=c.passiveListener;this.$wrapperEl[o]("gesturestart",h,c.onGestureStart,f),this.$wrapperEl[o]("gesturechange",h,c.onGestureChange,f),this.$wrapperEl[o]("gestureend",h,c.onGestureEnd,f)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var o=this.support,c=this.zoom;if(!c.enabled){c.enabled=!0;var h=!(this.touchEvents.start!=="touchstart"||!o.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},f=!o.passiveListener||{passive:!1,capture:!0},C="."+this.params.slideClass;this.zoom.passiveListener=h,this.zoom.slideSelector=C,o.gestures?(this.$wrapperEl.on(this.touchEvents.start,this.zoom.enableGestures,h),this.$wrapperEl.on(this.touchEvents.end,this.zoom.disableGestures,h)):this.touchEvents.start==="touchstart"&&(this.$wrapperEl.on(this.touchEvents.start,C,c.onGestureStart,h),this.$wrapperEl.on(this.touchEvents.move,C,c.onGestureChange,f),this.$wrapperEl.on(this.touchEvents.end,C,c.onGestureEnd,h),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,C,c.onGestureEnd,h)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,c.onTouchMove,f)}},disable:function(){var o=this.zoom;if(o.enabled){var c=this.support;this.zoom.enabled=!1;var h=!(this.touchEvents.start!=="touchstart"||!c.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},f=!c.passiveListener||{passive:!1,capture:!0},C="."+this.params.slideClass;c.gestures?(this.$wrapperEl.off(this.touchEvents.start,this.zoom.enableGestures,h),this.$wrapperEl.off(this.touchEvents.end,this.zoom.disableGestures,h)):this.touchEvents.start==="touchstart"&&(this.$wrapperEl.off(this.touchEvents.start,C,o.onGestureStart,h),this.$wrapperEl.off(this.touchEvents.move,C,o.onGestureChange,f),this.$wrapperEl.off(this.touchEvents.end,C,o.onGestureEnd,h),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,C,o.onGestureEnd,h)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,o.onTouchMove,f)}}},Lt={loadInSlide:function(o,c){c===void 0&&(c=!0);var h=this,f=h.params.lazy;if(o!==void 0&&h.slides.length!==0){var C=h.virtual&&h.params.virtual.enabled?h.$wrapperEl.children("."+h.params.slideClass+'[data-swiper-slide-index="'+o+'"]'):h.slides.eq(o),w=C.find("."+f.elementClass+":not(."+f.loadedClass+"):not(."+f.loadingClass+")");!C.hasClass(f.elementClass)||C.hasClass(f.loadedClass)||C.hasClass(f.loadingClass)||w.push(C[0]),w.length!==0&&w.each(function(D){var k=V(D);k.addClass(f.loadingClass);var R=k.attr("data-background"),H=k.attr("data-src"),U=k.attr("data-srcset"),oe=k.attr("data-sizes"),re=k.parent("picture");h.loadImage(k[0],H||R,U,oe,!1,function(){if(h!=null&&h&&(!h||h.params)&&!h.destroyed){if(R?(k.css("background-image",'url("'+R+'")'),k.removeAttr("data-background")):(U&&(k.attr("srcset",U),k.removeAttr("data-srcset")),oe&&(k.attr("sizes",oe),k.removeAttr("data-sizes")),re.length&&re.children("source").each(function(He){var Fe=V(He);Fe.attr("data-srcset")&&(Fe.attr("srcset",Fe.attr("data-srcset")),Fe.removeAttr("data-srcset"))}),H&&(k.attr("src",H),k.removeAttr("data-src"))),k.addClass(f.loadedClass).removeClass(f.loadingClass),C.find("."+f.preloaderClass).remove(),h.params.loop&&c){var me=C.attr("data-swiper-slide-index");if(C.hasClass(h.params.slideDuplicateClass)){var Ce=h.$wrapperEl.children('[data-swiper-slide-index="'+me+'"]:not(.'+h.params.slideDuplicateClass+")");h.lazy.loadInSlide(Ce.index(),!1)}else{var Ae=h.$wrapperEl.children("."+h.params.slideDuplicateClass+'[data-swiper-slide-index="'+me+'"]');h.lazy.loadInSlide(Ae.index(),!1)}}h.emit("lazyImageReady",C[0],k[0]),h.params.autoHeight&&h.updateAutoHeight()}}),h.emit("lazyImageLoad",C[0],k[0])})}},load:function(){var o=this,c=o.$wrapperEl,h=o.params,f=o.slides,C=o.activeIndex,w=o.virtual&&h.virtual.enabled,D=h.lazy,k=h.slidesPerView;function R(le){if(w){if(c.children("."+h.slideClass+'[data-swiper-slide-index="'+le+'"]').length)return!0}else if(f[le])return!0;return!1}function H(le){return w?V(le).attr("data-swiper-slide-index"):V(le).index()}if(k==="auto"&&(k=0),o.lazy.initialImageLoaded||(o.lazy.initialImageLoaded=!0),o.params.watchSlidesVisibility)c.children("."+h.slideVisibleClass).each(function(le){var Ze=w?V(le).attr("data-swiper-slide-index"):V(le).index();o.lazy.loadInSlide(Ze)});else if(k>1)for(var U=C;U<C+k;U+=1)R(U)&&o.lazy.loadInSlide(U);else o.lazy.loadInSlide(C);if(D.loadPrevNext)if(k>1||D.loadPrevNextAmount&&D.loadPrevNextAmount>1){for(var oe=D.loadPrevNextAmount,re=k,me=Math.min(C+re+Math.max(oe,re),f.length),Ce=Math.max(C-Math.max(re,oe),0),Ae=C+k;Ae<me;Ae+=1)R(Ae)&&o.lazy.loadInSlide(Ae);for(var He=Ce;He<C;He+=1)R(He)&&o.lazy.loadInSlide(He)}else{var Fe=c.children("."+h.slideNextClass);Fe.length>0&&o.lazy.loadInSlide(H(Fe));var Ve=c.children("."+h.slidePrevClass);Ve.length>0&&o.lazy.loadInSlide(H(Ve))}}},Ue={LinearSpline:function(o,c){var h,f,C,w,D,k=function(R,H){for(f=-1,h=R.length;h-f>1;)R[C=h+f>>1]<=H?f=C:h=C;return h};return this.x=o,this.y=c,this.lastIndex=o.length-1,this.interpolate=function(R){return R?(D=k(this.x,R),w=D-1,(R-this.x[w])*(this.y[D]-this.y[w])/(this.x[D]-this.x[w])+this.y[w]):0},this},getInterpolateFunction:function(o){this.controller.spline||(this.controller.spline=this.params.loop?new Ue.LinearSpline(this.slidesGrid,o.slidesGrid):new Ue.LinearSpline(this.snapGrid,o.snapGrid))},setTranslate:function(o,c){var h,f,C=this,w=C.controller.control,D=C.constructor;function k(H){var U=C.rtlTranslate?-C.translate:C.translate;C.params.controller.by==="slide"&&(C.controller.getInterpolateFunction(H),f=-C.controller.spline.interpolate(-U)),f&&C.params.controller.by!=="container"||(h=(H.maxTranslate()-H.minTranslate())/(C.maxTranslate()-C.minTranslate()),f=(U-C.minTranslate())*h+H.minTranslate()),C.params.controller.inverse&&(f=H.maxTranslate()-f),H.updateProgress(f),H.setTranslate(f,C),H.updateActiveIndex(),H.updateSlidesClasses()}if(Array.isArray(w))for(var R=0;R<w.length;R+=1)w[R]!==c&&w[R]instanceof D&&k(w[R]);else w instanceof D&&c!==w&&k(w)},setTransition:function(o,c){var h,f=this,C=f.constructor,w=f.controller.control;function D(k){k.setTransition(o,f),o!==0&&(k.transitionStart(),k.params.autoHeight&&b(function(){k.updateAutoHeight()}),k.$wrapperEl.transitionEnd(function(){w&&(k.params.loop&&f.params.controller.by==="slide"&&k.loopFix(),k.transitionEnd())}))}if(Array.isArray(w))for(h=0;h<w.length;h+=1)w[h]!==c&&w[h]instanceof C&&D(w[h]);else w instanceof C&&c!==w&&D(w)}},Xe={getRandomNumber:function(o){return o===void 0&&(o=16),"x".repeat(o).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(o){return o.attr("tabIndex","0"),o},makeElNotFocusable:function(o){return o.attr("tabIndex","-1"),o},addElRole:function(o,c){return o.attr("role",c),o},addElRoleDescription:function(o,c){return o.attr("aria-role-description",c),o},addElControls:function(o,c){return o.attr("aria-controls",c),o},addElLabel:function(o,c){return o.attr("aria-label",c),o},addElId:function(o,c){return o.attr("id",c),o},addElLive:function(o,c){return o.attr("aria-live",c),o},disableEl:function(o){return o.attr("aria-disabled",!0),o},enableEl:function(o){return o.attr("aria-disabled",!1),o},onEnterKey:function(o){var c=this.params.a11y;if(o.keyCode===13){var h=V(o.target);this.navigation&&this.navigation.$nextEl&&h.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(c.lastSlideMessage):this.a11y.notify(c.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&h.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(c.firstSlideMessage):this.a11y.notify(c.prevSlideMessage)),this.pagination&&h.is("."+this.params.pagination.bulletClass)&&h[0].click()}},notify:function(o){var c=this.a11y.liveRegion;c.length!==0&&(c.html(""),c.html(o))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var o=this.navigation,c=o.$nextEl,h=o.$prevEl;h&&h.length>0&&(this.isBeginning?(this.a11y.disableEl(h),this.a11y.makeElNotFocusable(h)):(this.a11y.enableEl(h),this.a11y.makeElFocusable(h))),c&&c.length>0&&(this.isEnd?(this.a11y.disableEl(c),this.a11y.makeElNotFocusable(c)):(this.a11y.enableEl(c),this.a11y.makeElFocusable(c)))}},updatePagination:function(){var o=this,c=o.params.a11y;o.pagination&&o.params.pagination.clickable&&o.pagination.bullets&&o.pagination.bullets.length&&o.pagination.bullets.each(function(h){var f=V(h);o.a11y.makeElFocusable(f),o.params.pagination.renderBullet||(o.a11y.addElRole(f,"button"),o.a11y.addElLabel(f,c.paginationBulletMessage.replace(/\{\{index\}\}/,f.index()+1)))})},init:function(){var o=this,c=o.params.a11y;o.$el.append(o.a11y.liveRegion);var h=o.$el;c.containerRoleDescriptionMessage&&o.a11y.addElRoleDescription(h,c.containerRoleDescriptionMessage),c.containerMessage&&o.a11y.addElLabel(h,c.containerMessage);var f,C,w,D=o.$wrapperEl,k=D.attr("id")||"swiper-wrapper-"+o.a11y.getRandomNumber(16);o.a11y.addElId(D,k),f=o.params.autoplay&&o.params.autoplay.enabled?"off":"polite",o.a11y.addElLive(D,f),c.itemRoleDescriptionMessage&&o.a11y.addElRoleDescription(V(o.slides),c.itemRoleDescriptionMessage),o.a11y.addElRole(V(o.slides),"group"),o.slides.each(function(R){var H=V(R);o.a11y.addElLabel(H,H.index()+1+" / "+o.slides.length)}),o.navigation&&o.navigation.$nextEl&&(C=o.navigation.$nextEl),o.navigation&&o.navigation.$prevEl&&(w=o.navigation.$prevEl),C&&C.length&&(o.a11y.makeElFocusable(C),C[0].tagName!=="BUTTON"&&(o.a11y.addElRole(C,"button"),C.on("keydown",o.a11y.onEnterKey)),o.a11y.addElLabel(C,c.nextSlideMessage),o.a11y.addElControls(C,k)),w&&w.length&&(o.a11y.makeElFocusable(w),w[0].tagName!=="BUTTON"&&(o.a11y.addElRole(w,"button"),w.on("keydown",o.a11y.onEnterKey)),o.a11y.addElLabel(w,c.prevSlideMessage),o.a11y.addElControls(w,k)),o.pagination&&o.params.pagination.clickable&&o.pagination.bullets&&o.pagination.bullets.length&&o.pagination.$el.on("keydown","."+o.params.pagination.bulletClass,o.a11y.onEnterKey)},destroy:function(){var o,c;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(o=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(c=this.navigation.$prevEl),o&&o.off("keydown",this.a11y.onEnterKey),c&&c.off("keydown",this.a11y.onEnterKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass,this.a11y.onEnterKey)}},et={init:function(){var o=l();if(this.params.history){if(!o.history||!o.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var c=this.history;c.initialized=!0,c.paths=et.getPathValues(this.params.url),(c.paths.key||c.paths.value)&&(c.scrollToSlide(0,c.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||o.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){var o=l();this.params.history.replaceState||o.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=et.getPathValues(this.params.url),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(o){var c=l(),h=(o?new URL(o):c.location).pathname.slice(1).split("/").filter(function(C){return C!==""}),f=h.length;return{key:h[f-2],value:h[f-1]}},setHistory:function(o,c){var h=l();if(this.history.initialized&&this.params.history.enabled){var f;f=this.params.url?new URL(this.params.url):h.location;var C=this.slides.eq(c),w=et.slugify(C.attr("data-history"));f.pathname.includes(o)||(w=o+"/"+w);var D=h.history.state;D&&D.value===w||(this.params.history.replaceState?h.history.replaceState({value:w},null,w):h.history.pushState({value:w},null,w))}},slugify:function(o){return o.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(o,c,h){if(c)for(var f=0,C=this.slides.length;f<C;f+=1){var w=this.slides.eq(f);if(et.slugify(w.attr("data-history"))===c&&!w.hasClass(this.params.slideDuplicateClass)){var D=w.index();this.slideTo(D,o,h)}}else this.slideTo(0,o,h)}},Pt={onHashCange:function(){var o=n();this.emit("hashChange");var c=o.location.hash.replace("#","");if(c!==this.slides.eq(this.activeIndex).attr("data-hash")){var h=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+c+'"]').index();if(h===void 0)return;this.slideTo(h)}},setHash:function(){var o=l(),c=n();if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&o.history&&o.history.replaceState)o.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||""),this.emit("hashSet");else{var h=this.slides.eq(this.activeIndex),f=h.attr("data-hash")||h.attr("data-history");c.location.hash=f||"",this.emit("hashSet")}},init:function(){var o=n(),c=l();if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var h=o.location.hash.replace("#","");if(h)for(var f=0,C=this.slides.length;f<C;f+=1){var w=this.slides.eq(f);if((w.attr("data-hash")||w.attr("data-history"))===h&&!w.hasClass(this.params.slideDuplicateClass)){var D=w.index();this.slideTo(D,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&V(c).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){var o=l();this.params.hashNavigation.watchState&&V(o).off("hashchange",this.hashNavigation.onHashCange)}},mi={run:function(){var o=this,c=o.slides.eq(o.activeIndex),h=o.params.autoplay.delay;c.attr("data-swiper-autoplay")&&(h=c.attr("data-swiper-autoplay")||o.params.autoplay.delay),clearTimeout(o.autoplay.timeout),o.autoplay.timeout=b(function(){var f;o.params.autoplay.reverseDirection?o.params.loop?(o.loopFix(),f=o.slidePrev(o.params.speed,!0,!0),o.emit("autoplay")):o.isBeginning?o.params.autoplay.stopOnLastSlide?o.autoplay.stop():(f=o.slideTo(o.slides.length-1,o.params.speed,!0,!0),o.emit("autoplay")):(f=o.slidePrev(o.params.speed,!0,!0),o.emit("autoplay")):o.params.loop?(o.loopFix(),f=o.slideNext(o.params.speed,!0,!0),o.emit("autoplay")):o.isEnd?o.params.autoplay.stopOnLastSlide?o.autoplay.stop():(f=o.slideTo(0,o.params.speed,!0,!0),o.emit("autoplay")):(f=o.slideNext(o.params.speed,!0,!0),o.emit("autoplay")),(o.params.cssMode&&o.autoplay.running||f===!1)&&o.autoplay.run()},h)},start:function(){return this.autoplay.timeout===void 0&&!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0)},stop:function(){return!!this.autoplay.running&&this.autoplay.timeout!==void 0&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0)},pause:function(o){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,o!==0&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))},onVisibilityChange:function(){var o=n();o.visibilityState==="hidden"&&this.autoplay.running&&this.autoplay.pause(),o.visibilityState==="visible"&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(o){this&&!this.destroyed&&this.$wrapperEl&&o.target===this.$wrapperEl[0]&&(this.$wrapperEl[0].removeEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].removeEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd),this.autoplay.paused=!1,this.autoplay.running?this.autoplay.run():this.autoplay.stop())}},Gi={setTranslate:function(){for(var o=this.slides,c=0;c<o.length;c+=1){var h=this.slides.eq(c),f=-h[0].swiperSlideOffset;this.params.virtualTranslate||(f-=this.translate);var C=0;this.isHorizontal()||(C=f,f=0);var w=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(h[0].progress),0):1+Math.min(Math.max(h[0].progress,-1),0);h.css({opacity:w}).transform("translate3d("+f+"px, "+C+"px, 0px)")}},setTransition:function(o){var c=this,h=c.slides,f=c.$wrapperEl;if(h.transition(o),c.params.virtualTranslate&&o!==0){var C=!1;h.transitionEnd(function(){if(!C&&c&&!c.destroyed){C=!0,c.animating=!1;for(var w=["webkitTransitionEnd","transitionend"],D=0;D<w.length;D+=1)f.trigger(w[D])}})}}},Ji={setTranslate:function(){var o,c=this.$el,h=this.$wrapperEl,f=this.slides,C=this.width,w=this.height,D=this.rtlTranslate,k=this.size,R=this.browser,H=this.params.cubeEffect,U=this.isHorizontal(),oe=this.virtual&&this.params.virtual.enabled,re=0;H.shadow&&(U?((o=h.find(".swiper-cube-shadow")).length===0&&(o=V('<div class="swiper-cube-shadow"></div>'),h.append(o)),o.css({height:C+"px"})):(o=c.find(".swiper-cube-shadow")).length===0&&(o=V('<div class="swiper-cube-shadow"></div>'),c.append(o)));for(var me=0;me<f.length;me+=1){var Ce=f.eq(me),Ae=me;oe&&(Ae=parseInt(Ce.attr("data-swiper-slide-index"),10));var He=90*Ae,Fe=Math.floor(He/360);D&&(He=-He,Fe=Math.floor(-He/360));var Ve=Math.max(Math.min(Ce[0].progress,1),-1),le=0,Ze=0,ft=0;Ae%4==0?(le=4*-Fe*k,ft=0):(Ae-1)%4==0?(le=0,ft=4*-Fe*k):(Ae-2)%4==0?(le=k+4*Fe*k,ft=k):(Ae-3)%4==0&&(le=-k,ft=3*k+4*k*Fe),D&&(le=-le),U||(Ze=le,le=0);var Tt="rotateX("+(U?0:-He)+"deg) rotateY("+(U?He:0)+"deg) translate3d("+le+"px, "+Ze+"px, "+ft+"px)";if(Ve<=1&&Ve>-1&&(re=90*Ae+90*Ve,D&&(re=90*-Ae-90*Ve)),Ce.transform(Tt),H.slideShadows){var Qe=U?Ce.find(".swiper-slide-shadow-left"):Ce.find(".swiper-slide-shadow-top"),vt=U?Ce.find(".swiper-slide-shadow-right"):Ce.find(".swiper-slide-shadow-bottom");Qe.length===0&&(Qe=V('<div class="swiper-slide-shadow-'+(U?"left":"top")+'"></div>'),Ce.append(Qe)),vt.length===0&&(vt=V('<div class="swiper-slide-shadow-'+(U?"right":"bottom")+'"></div>'),Ce.append(vt)),Qe.length&&(Qe[0].style.opacity=Math.max(-Ve,0)),vt.length&&(vt[0].style.opacity=Math.max(Ve,0))}}if(h.css({"-webkit-transform-origin":"50% 50% -"+k/2+"px","-moz-transform-origin":"50% 50% -"+k/2+"px","-ms-transform-origin":"50% 50% -"+k/2+"px","transform-origin":"50% 50% -"+k/2+"px"}),H.shadow)if(U)o.transform("translate3d(0px, "+(C/2+H.shadowOffset)+"px, "+-C/2+"px) rotateX(90deg) rotateZ(0deg) scale("+H.shadowScale+")");else{var Dt=Math.abs(re)-90*Math.floor(Math.abs(re)/90),Wt=1.5-(Math.sin(2*Dt*Math.PI/360)/2+Math.cos(2*Dt*Math.PI/360)/2),qt=H.shadowScale,nt=H.shadowScale/Wt,xt=H.shadowOffset;o.transform("scale3d("+qt+", 1, "+nt+") translate3d(0px, "+(w/2+xt)+"px, "+-w/2/nt+"px) rotateX(-90deg)")}var Ot=R.isSafari||R.isWebView?-k/2:0;h.transform("translate3d(0px,0,"+Ot+"px) rotateX("+(this.isHorizontal()?0:re)+"deg) rotateY("+(this.isHorizontal()?-re:0)+"deg)")},setTransition:function(o){var c=this.$el;this.slides.transition(o).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(o),this.params.cubeEffect.shadow&&!this.isHorizontal()&&c.find(".swiper-cube-shadow").transition(o)}},Ai={setTranslate:function(){for(var o=this.slides,c=this.rtlTranslate,h=0;h<o.length;h+=1){var f=o.eq(h),C=f[0].progress;this.params.flipEffect.limitRotation&&(C=Math.max(Math.min(f[0].progress,1),-1));var w=-180*C,D=0,k=-f[0].swiperSlideOffset,R=0;if(this.isHorizontal()?c&&(w=-w):(R=k,k=0,D=-w,w=0),f[0].style.zIndex=-Math.abs(Math.round(C))+o.length,this.params.flipEffect.slideShadows){var H=this.isHorizontal()?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),U=this.isHorizontal()?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");H.length===0&&(H=V('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),f.append(H)),U.length===0&&(U=V('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),f.append(U)),H.length&&(H[0].style.opacity=Math.max(-C,0)),U.length&&(U[0].style.opacity=Math.max(C,0))}f.transform("translate3d("+k+"px, "+R+"px, 0px) rotateX("+D+"deg) rotateY("+w+"deg)")}},setTransition:function(o){var c=this,h=c.slides,f=c.activeIndex,C=c.$wrapperEl;if(h.transition(o).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(o),c.params.virtualTranslate&&o!==0){var w=!1;h.eq(f).transitionEnd(function(){if(!w&&c&&!c.destroyed){w=!0,c.animating=!1;for(var D=["webkitTransitionEnd","transitionend"],k=0;k<D.length;k+=1)C.trigger(D[k])}})}}},_i={setTranslate:function(){for(var o=this.width,c=this.height,h=this.slides,f=this.slidesSizesGrid,C=this.params.coverflowEffect,w=this.isHorizontal(),D=this.translate,k=w?o/2-D:c/2-D,R=w?C.rotate:-C.rotate,H=C.depth,U=0,oe=h.length;U<oe;U+=1){var re=h.eq(U),me=f[U],Ce=(k-re[0].swiperSlideOffset-me/2)/me*C.modifier,Ae=w?R*Ce:0,He=w?0:R*Ce,Fe=-H*Math.abs(Ce),Ve=C.stretch;typeof Ve=="string"&&Ve.indexOf("%")!==-1&&(Ve=parseFloat(C.stretch)/100*me);var le=w?0:Ve*Ce,Ze=w?Ve*Ce:0,ft=1-(1-C.scale)*Math.abs(Ce);Math.abs(Ze)<.001&&(Ze=0),Math.abs(le)<.001&&(le=0),Math.abs(Fe)<.001&&(Fe=0),Math.abs(Ae)<.001&&(Ae=0),Math.abs(He)<.001&&(He=0),Math.abs(ft)<.001&&(ft=0);var Tt="translate3d("+Ze+"px,"+le+"px,"+Fe+"px)  rotateX("+He+"deg) rotateY("+Ae+"deg) scale("+ft+")";if(re.transform(Tt),re[0].style.zIndex=1-Math.abs(Math.round(Ce)),C.slideShadows){var Qe=w?re.find(".swiper-slide-shadow-left"):re.find(".swiper-slide-shadow-top"),vt=w?re.find(".swiper-slide-shadow-right"):re.find(".swiper-slide-shadow-bottom");Qe.length===0&&(Qe=V('<div class="swiper-slide-shadow-'+(w?"left":"top")+'"></div>'),re.append(Qe)),vt.length===0&&(vt=V('<div class="swiper-slide-shadow-'+(w?"right":"bottom")+'"></div>'),re.append(vt)),Qe.length&&(Qe[0].style.opacity=Ce>0?Ce:0),vt.length&&(vt[0].style.opacity=-Ce>0?-Ce:0)}}},setTransition:function(o){this.slides.transition(o).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(o)}},zi={init:function(){var o=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var c=this.constructor;return o.swiper instanceof c?(this.thumbs.swiper=o.swiper,fe(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),fe(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):ze(o.swiper)&&(this.thumbs.swiper=new c(fe({},o.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var o=this.thumbs.swiper;if(o){var c=o.clickedIndex,h=o.clickedSlide;if(!(h&&V(h).hasClass(this.params.thumbs.slideThumbActiveClass)||c==null)){var f;if(f=o.params.loop?parseInt(V(o.clickedSlide).attr("data-swiper-slide-index"),10):c,this.params.loop){var C=this.activeIndex;this.slides.eq(C).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,C=this.activeIndex);var w=this.slides.eq(C).prevAll('[data-swiper-slide-index="'+f+'"]').eq(0).index(),D=this.slides.eq(C).nextAll('[data-swiper-slide-index="'+f+'"]').eq(0).index();f=w===void 0?D:D===void 0?w:D-C<C-w?D:w}this.slideTo(f)}}},update:function(o){var c=this.thumbs.swiper;if(c){var h=c.params.slidesPerView==="auto"?c.slidesPerViewDynamic():c.params.slidesPerView,f=this.params.thumbs.autoScrollOffset,C=f&&!c.params.loop;if(this.realIndex!==c.realIndex||C){var w,D,k=c.activeIndex;if(c.params.loop){c.slides.eq(k).hasClass(c.params.slideDuplicateClass)&&(c.loopFix(),c._clientLeft=c.$wrapperEl[0].clientLeft,k=c.activeIndex);var R=c.slides.eq(k).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),H=c.slides.eq(k).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();w=R===void 0?H:H===void 0?R:H-k==k-R?k:H-k<k-R?H:R,D=this.activeIndex>this.previousIndex?"next":"prev"}else D=(w=this.realIndex)>this.previousIndex?"next":"prev";C&&(w+=D==="next"?f:-1*f),c.visibleSlidesIndexes&&c.visibleSlidesIndexes.indexOf(w)<0&&(c.params.centeredSlides?w=w>k?w-Math.floor(h/2)+1:w+Math.floor(h/2)-1:w>k&&(w=w-h+1),c.slideTo(w,o?0:void 0))}var U=1,oe=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(U=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(U=1),U=Math.floor(U),c.slides.removeClass(oe),c.params.loop||c.params.virtual&&c.params.virtual.enabled)for(var re=0;re<U;re+=1)c.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+re)+'"]').addClass(oe);else for(var me=0;me<U;me+=1)c.slides.eq(this.realIndex+me).addClass(oe)}}},Oi=[ot,Y,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){We(this,{mousewheel:{enabled:!1,lastScrollTime:de(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:Q.enable,disable:Q.disable,handle:Q.handle,handleMouseEnter:Q.handleMouseEnter,handleMouseLeave:Q.handleMouseLeave,animateSlider:Q.animateSlider,releaseScroll:Q.releaseScroll}})},on:{init:function(o){!o.params.mousewheel.enabled&&o.params.cssMode&&o.mousewheel.disable(),o.params.mousewheel.enabled&&o.mousewheel.enable()},destroy:function(o){o.params.cssMode&&o.mousewheel.enable(),o.mousewheel.enabled&&o.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){We(this,{navigation:i({},we)})},on:{init:function(o){o.navigation.init(),o.navigation.update()},toEdge:function(o){o.navigation.update()},fromEdge:function(o){o.navigation.update()},destroy:function(o){o.navigation.destroy()},click:function(o,c){var h,f=o.navigation,C=f.$nextEl,w=f.$prevEl;!o.params.navigation.hideOnClick||V(c.target).is(w)||V(c.target).is(C)||(C?h=C.hasClass(o.params.navigation.hiddenClass):w&&(h=w.hasClass(o.params.navigation.hiddenClass)),h===!0?o.emit("navigationShow"):o.emit("navigationHide"),C&&C.toggleClass(o.params.navigation.hiddenClass),w&&w.toggleClass(o.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(o){return o},formatFractionTotal:function(o){return o},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){We(this,{pagination:i({dynamicBulletIndex:0},Re)})},on:{init:function(o){o.pagination.init(),o.pagination.render(),o.pagination.update()},activeIndexChange:function(o){(o.params.loop||o.snapIndex===void 0)&&o.pagination.update()},snapIndexChange:function(o){o.params.loop||o.pagination.update()},slidesLengthChange:function(o){o.params.loop&&(o.pagination.render(),o.pagination.update())},snapGridLengthChange:function(o){o.params.loop||(o.pagination.render(),o.pagination.update())},destroy:function(o){o.pagination.destroy()},click:function(o,c){o.params.pagination.el&&o.params.pagination.hideOnClick&&o.pagination.$el.length>0&&!V(c.target).hasClass(o.params.pagination.bulletClass)&&(o.pagination.$el.hasClass(o.params.pagination.hiddenClass)===!0?o.emit("paginationShow"):o.emit("paginationHide"),o.pagination.$el.toggleClass(o.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){We(this,{scrollbar:i({isTouched:!1,timeout:null,dragTimeout:null},lt)})},on:{init:function(o){o.scrollbar.init(),o.scrollbar.updateSize(),o.scrollbar.setTranslate()},update:function(o){o.scrollbar.updateSize()},resize:function(o){o.scrollbar.updateSize()},observerUpdate:function(o){o.scrollbar.updateSize()},setTranslate:function(o){o.scrollbar.setTranslate()},setTransition:function(o,c){o.scrollbar.setTransition(c)},destroy:function(o){o.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){We(this,{parallax:i({},wt)})},on:{beforeInit:function(o){o.params.parallax.enabled&&(o.params.watchSlidesProgress=!0,o.originalParams.watchSlidesProgress=!0)},init:function(o){o.params.parallax.enabled&&o.parallax.setTranslate()},setTranslate:function(o){o.params.parallax.enabled&&o.parallax.setTranslate()},setTransition:function(o,c){o.params.parallax.enabled&&o.parallax.setTransition(c)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var o=this;We(o,{zoom:i({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},bt)});var c=1;Object.defineProperty(o.zoom,"scale",{get:function(){return c},set:function(h){if(c!==h){var f=o.zoom.gesture.$imageEl?o.zoom.gesture.$imageEl[0]:void 0,C=o.zoom.gesture.$slideEl?o.zoom.gesture.$slideEl[0]:void 0;o.emit("zoomChange",h,f,C)}c=h}})},on:{init:function(o){o.params.zoom.enabled&&o.zoom.enable()},destroy:function(o){o.zoom.disable()},touchStart:function(o,c){o.zoom.enabled&&o.zoom.onTouchStart(c)},touchEnd:function(o,c){o.zoom.enabled&&o.zoom.onTouchEnd(c)},doubleTap:function(o,c){o.params.zoom.enabled&&o.zoom.enabled&&o.params.zoom.toggle&&o.zoom.toggle(c)},transitionEnd:function(o){o.zoom.enabled&&o.params.zoom.enabled&&o.zoom.onTransitionEnd()},slideChange:function(o){o.zoom.enabled&&o.params.zoom.enabled&&o.params.cssMode&&o.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){We(this,{lazy:i({initialImageLoaded:!1},Lt)})},on:{beforeInit:function(o){o.params.lazy.enabled&&o.params.preloadImages&&(o.params.preloadImages=!1)},init:function(o){o.params.lazy.enabled&&!o.params.loop&&o.params.initialSlide===0&&o.lazy.load()},scroll:function(o){o.params.freeMode&&!o.params.freeModeSticky&&o.lazy.load()},resize:function(o){o.params.lazy.enabled&&o.lazy.load()},scrollbarDragMove:function(o){o.params.lazy.enabled&&o.lazy.load()},transitionStart:function(o){o.params.lazy.enabled&&(o.params.lazy.loadOnTransitionStart||!o.params.lazy.loadOnTransitionStart&&!o.lazy.initialImageLoaded)&&o.lazy.load()},transitionEnd:function(o){o.params.lazy.enabled&&!o.params.lazy.loadOnTransitionStart&&o.lazy.load()},slideChange:function(o){o.params.lazy.enabled&&o.params.cssMode&&o.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){We(this,{controller:i({control:this.params.controller.control},Ue)})},on:{update:function(o){o.controller.control&&o.controller.spline&&(o.controller.spline=void 0,delete o.controller.spline)},resize:function(o){o.controller.control&&o.controller.spline&&(o.controller.spline=void 0,delete o.controller.spline)},observerUpdate:function(o){o.controller.control&&o.controller.spline&&(o.controller.spline=void 0,delete o.controller.spline)},setTranslate:function(o,c,h){o.controller.control&&o.controller.setTranslate(c,h)},setTransition:function(o,c,h){o.controller.control&&o.controller.setTransition(c,h)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null}},create:function(){We(this,{a11y:i(i({},Xe),{},{liveRegion:V('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(o){o.params.a11y.enabled&&(o.a11y.init(),o.a11y.updateNavigation())},toEdge:function(o){o.params.a11y.enabled&&o.a11y.updateNavigation()},fromEdge:function(o){o.params.a11y.enabled&&o.a11y.updateNavigation()},paginationUpdate:function(o){o.params.a11y.enabled&&o.a11y.updatePagination()},destroy:function(o){o.params.a11y.enabled&&o.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){We(this,{history:i({},et)})},on:{init:function(o){o.params.history.enabled&&o.history.init()},destroy:function(o){o.params.history.enabled&&o.history.destroy()},transitionEnd:function(o){o.history.initialized&&o.history.setHistory(o.params.history.key,o.activeIndex)},slideChange:function(o){o.history.initialized&&o.params.cssMode&&o.history.setHistory(o.params.history.key,o.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){We(this,{hashNavigation:i({initialized:!1},Pt)})},on:{init:function(o){o.params.hashNavigation.enabled&&o.hashNavigation.init()},destroy:function(o){o.params.hashNavigation.enabled&&o.hashNavigation.destroy()},transitionEnd:function(o){o.hashNavigation.initialized&&o.hashNavigation.setHash()},slideChange:function(o){o.hashNavigation.initialized&&o.params.cssMode&&o.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){We(this,{autoplay:i(i({},mi),{},{running:!1,paused:!1})})},on:{init:function(o){o.params.autoplay.enabled&&(o.autoplay.start(),n().addEventListener("visibilitychange",o.autoplay.onVisibilityChange))},beforeTransitionStart:function(o,c,h){o.autoplay.running&&(h||!o.params.autoplay.disableOnInteraction?o.autoplay.pause(c):o.autoplay.stop())},sliderFirstMove:function(o){o.autoplay.running&&(o.params.autoplay.disableOnInteraction?o.autoplay.stop():o.autoplay.pause())},touchEnd:function(o){o.params.cssMode&&o.autoplay.paused&&!o.params.autoplay.disableOnInteraction&&o.autoplay.run()},destroy:function(o){o.autoplay.running&&o.autoplay.stop(),n().removeEventListener("visibilitychange",o.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){We(this,{fadeEffect:i({},Gi)})},on:{beforeInit:function(o){if(o.params.effect==="fade"){o.classNames.push(o.params.containerModifierClass+"fade");var c={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};fe(o.params,c),fe(o.originalParams,c)}},setTranslate:function(o){o.params.effect==="fade"&&o.fadeEffect.setTranslate()},setTransition:function(o,c){o.params.effect==="fade"&&o.fadeEffect.setTransition(c)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){We(this,{cubeEffect:i({},Ji)})},on:{beforeInit:function(o){if(o.params.effect==="cube"){o.classNames.push(o.params.containerModifierClass+"cube"),o.classNames.push(o.params.containerModifierClass+"3d");var c={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};fe(o.params,c),fe(o.originalParams,c)}},setTranslate:function(o){o.params.effect==="cube"&&o.cubeEffect.setTranslate()},setTransition:function(o,c){o.params.effect==="cube"&&o.cubeEffect.setTransition(c)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){We(this,{flipEffect:i({},Ai)})},on:{beforeInit:function(o){if(o.params.effect==="flip"){o.classNames.push(o.params.containerModifierClass+"flip"),o.classNames.push(o.params.containerModifierClass+"3d");var c={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};fe(o.params,c),fe(o.originalParams,c)}},setTranslate:function(o){o.params.effect==="flip"&&o.flipEffect.setTranslate()},setTransition:function(o,c){o.params.effect==="flip"&&o.flipEffect.setTransition(c)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){We(this,{coverflowEffect:i({},_i)})},on:{beforeInit:function(o){o.params.effect==="coverflow"&&(o.classNames.push(o.params.containerModifierClass+"coverflow"),o.classNames.push(o.params.containerModifierClass+"3d"),o.params.watchSlidesProgress=!0,o.originalParams.watchSlidesProgress=!0)},setTranslate:function(o){o.params.effect==="coverflow"&&o.coverflowEffect.setTranslate()},setTransition:function(o,c){o.params.effect==="coverflow"&&o.coverflowEffect.setTransition(c)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){We(this,{thumbs:i({swiper:null,initialized:!1},zi)})},on:{beforeInit:function(o){var c=o.params.thumbs;c&&c.swiper&&(o.thumbs.init(),o.thumbs.update(!0))},slideChange:function(o){o.thumbs.swiper&&o.thumbs.update()},update:function(o){o.thumbs.swiper&&o.thumbs.update()},resize:function(o){o.thumbs.swiper&&o.thumbs.update()},observerUpdate:function(o){o.thumbs.swiper&&o.thumbs.update()},setTransition:function(o,c){var h=o.thumbs.swiper;h&&h.setTransition(c)},beforeDestroy:function(o){var c=o.thumbs.swiper;c&&o.thumbs.swiperCreated&&c&&c.destroy()}}}];return yt.use(Oi),yt});function hexToRgb(a){var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(i,function(t,s,n,r){return s+s+n+n+r+r});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function clamp(a,i,e){return Math.min(Math.max(a,i),e)}function isInArray(a,i){return i.indexOf(a)>-1}var pJS=function(a,i){var e=document.querySelector("#"+a+" > .particles-js-canvas-el");this.pJS={canvas:{el:e,w:e.offsetWidth,h:e.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var t=this.pJS;i&&Object.deepExtend(t,i),t.tmp.obj={size_value:t.particles.size.value,size_anim_speed:t.particles.size.anim.speed,move_speed:t.particles.move.speed,line_linked_distance:t.particles.line_linked.distance,line_linked_width:t.particles.line_linked.width,mode_grab_distance:t.interactivity.modes.grab.distance,mode_bubble_distance:t.interactivity.modes.bubble.distance,mode_bubble_size:t.interactivity.modes.bubble.size,mode_repulse_distance:t.interactivity.modes.repulse.distance},t.fn.retinaInit=function(){t.retina_detect&&window.devicePixelRatio>1?(t.canvas.pxratio=window.devicePixelRatio,t.tmp.retina=!0):(t.canvas.pxratio=1,t.tmp.retina=!1),t.canvas.w=t.canvas.el.offsetWidth*t.canvas.pxratio,t.canvas.h=t.canvas.el.offsetHeight*t.canvas.pxratio,t.particles.size.value=t.tmp.obj.size_value*t.canvas.pxratio,t.particles.size.anim.speed=t.tmp.obj.size_anim_speed*t.canvas.pxratio,t.particles.move.speed=t.tmp.obj.move_speed*t.canvas.pxratio,t.particles.line_linked.distance=t.tmp.obj.line_linked_distance*t.canvas.pxratio,t.interactivity.modes.grab.distance=t.tmp.obj.mode_grab_distance*t.canvas.pxratio,t.interactivity.modes.bubble.distance=t.tmp.obj.mode_bubble_distance*t.canvas.pxratio,t.particles.line_linked.width=t.tmp.obj.line_linked_width*t.canvas.pxratio,t.interactivity.modes.bubble.size=t.tmp.obj.mode_bubble_size*t.canvas.pxratio,t.interactivity.modes.repulse.distance=t.tmp.obj.mode_repulse_distance*t.canvas.pxratio},t.fn.canvasInit=function(){t.canvas.ctx=t.canvas.el.getContext("2d")},t.fn.canvasSize=function(){t.canvas.el.width=t.canvas.w,t.canvas.el.height=t.canvas.h,t&&t.interactivity.events.resize&&window.addEventListener("resize",function(){t.canvas.w=t.canvas.el.offsetWidth,t.canvas.h=t.canvas.el.offsetHeight,t.tmp.retina&&(t.canvas.w*=t.canvas.pxratio,t.canvas.h*=t.canvas.pxratio),t.canvas.el.width=t.canvas.w,t.canvas.el.height=t.canvas.h,t.particles.move.enable||(t.fn.particlesEmpty(),t.fn.particlesCreate(),t.fn.particlesDraw(),t.fn.vendors.densityAutoParticles()),t.fn.vendors.densityAutoParticles()})},t.fn.canvasPaint=function(){t.canvas.ctx.fillRect(0,0,t.canvas.w,t.canvas.h)},t.fn.canvasClear=function(){t.canvas.ctx.clearRect(0,0,t.canvas.w,t.canvas.h)},t.fn.particle=function(s,n,r){if(this.radius=(t.particles.size.random?Math.random():1)*t.particles.size.value,t.particles.size.anim.enable&&(this.size_status=!1,this.vs=t.particles.size.anim.speed/100,t.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=r?r.x:Math.random()*t.canvas.w,this.y=r?r.y:Math.random()*t.canvas.h,this.x>t.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>t.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),t.particles.move.bounce&&t.fn.vendors.checkOverlap(this,r),this.color={},typeof s.value=="object")if(s.value instanceof Array){var l=s.value[Math.floor(Math.random()*t.particles.color.value.length)];this.color.rgb=hexToRgb(l)}else s.value.r!=null&&s.value.g!=null&&s.value.b!=null&&(this.color.rgb={r:s.value.r,g:s.value.g,b:s.value.b}),s.value.h!=null&&s.value.s!=null&&s.value.l!=null&&(this.color.hsl={h:s.value.h,s:s.value.s,l:s.value.l});else s.value=="random"?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:typeof s.value=="string"&&(this.color=s,this.color.rgb=hexToRgb(this.color.value));this.opacity=(t.particles.opacity.random?Math.random():1)*t.particles.opacity.value,t.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=t.particles.opacity.anim.speed/100,t.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var u={};switch(t.particles.move.direction){case"top":u={x:0,y:-1};break;case"top-right":u={x:.5,y:-.5};break;case"right":u={x:1,y:-0};break;case"bottom-right":u={x:.5,y:.5};break;case"bottom":u={x:0,y:1};break;case"bottom-left":u={x:-.5,y:1};break;case"left":u={x:-1,y:0};break;case"top-left":u={x:-.5,y:-.5};break;default:u={x:0,y:0}}t.particles.move.straight?(this.vx=u.x,this.vy=u.y,t.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=u.x+Math.random()-.5,this.vy=u.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var p=t.particles.shape.type;if(typeof p=="object"){if(p instanceof Array){var g=p[Math.floor(Math.random()*p.length)];this.shape=g}}else this.shape=p;if(this.shape=="image"){var S=t.particles.shape;this.img={src:S.image.src,ratio:S.image.width/S.image.height},this.img.ratio||(this.img.ratio=1),t.tmp.img_type=="svg"&&t.tmp.source_svg!=null&&(t.fn.vendors.createSvgImg(this),t.tmp.pushing&&(this.img.loaded=!1))}},t.fn.particle.prototype.draw=function(){function s(){t.canvas.ctx.drawImage(p,n.x-r,n.y-r,2*r,2*r/n.img.ratio)}var n=this;if(n.radius_bubble!=null)var r=n.radius_bubble;else var r=n.radius;if(n.opacity_bubble!=null)var l=n.opacity_bubble;else var l=n.opacity;if(n.color.rgb)var u="rgba("+n.color.rgb.r+","+n.color.rgb.g+","+n.color.rgb.b+","+l+")";else var u="hsla("+n.color.hsl.h+","+n.color.hsl.s+"%,"+n.color.hsl.l+"%,"+l+")";switch(t.canvas.ctx.fillStyle=u,t.canvas.ctx.beginPath(),n.shape){case"circle":t.canvas.ctx.arc(n.x,n.y,r,0,2*Math.PI,!1);break;case"edge":t.canvas.ctx.rect(n.x-r,n.y-r,2*r,2*r);break;case"triangle":t.fn.vendors.drawShape(t.canvas.ctx,n.x-r,n.y+r/1.66,2*r,3,2);break;case"polygon":t.fn.vendors.drawShape(t.canvas.ctx,n.x-r/(t.particles.shape.polygon.nb_sides/3.5),n.y-r/.76,2.66*r/(t.particles.shape.polygon.nb_sides/3),t.particles.shape.polygon.nb_sides,1);break;case"star":t.fn.vendors.drawShape(t.canvas.ctx,n.x-2*r/(t.particles.shape.polygon.nb_sides/4),n.y-r/1.52,2*r*2.66/(t.particles.shape.polygon.nb_sides/3),t.particles.shape.polygon.nb_sides,2);break;case"image":if(t.tmp.img_type=="svg")var p=n.img.obj;else var p=t.tmp.img_obj;p&&s()}t.canvas.ctx.closePath(),t.particles.shape.stroke.width>0&&(t.canvas.ctx.strokeStyle=t.particles.shape.stroke.color,t.canvas.ctx.lineWidth=t.particles.shape.stroke.width,t.canvas.ctx.stroke()),t.canvas.ctx.fill()},t.fn.particlesCreate=function(){for(var s=0;s<t.particles.number.value;s++)t.particles.array.push(new t.fn.particle(t.particles.color,t.particles.opacity.value))},t.fn.particlesUpdate=function(){for(var s=0;s<t.particles.array.length;s++){var n=t.particles.array[s];if(t.particles.move.enable){var r=t.particles.move.speed/2;n.x+=n.vx*r,n.y+=n.vy*r}if(t.particles.opacity.anim.enable&&(n.opacity_status==1?(n.opacity>=t.particles.opacity.value&&(n.opacity_status=!1),n.opacity+=n.vo):(n.opacity<=t.particles.opacity.anim.opacity_min&&(n.opacity_status=!0),n.opacity-=n.vo),n.opacity<0&&(n.opacity=0)),t.particles.size.anim.enable&&(n.size_status==1?(n.radius>=t.particles.size.value&&(n.size_status=!1),n.radius+=n.vs):(n.radius<=t.particles.size.anim.size_min&&(n.size_status=!0),n.radius-=n.vs),n.radius<0&&(n.radius=0)),t.particles.move.out_mode=="bounce")var l={x_left:n.radius,x_right:t.canvas.w,y_top:n.radius,y_bottom:t.canvas.h};else var l={x_left:-n.radius,x_right:t.canvas.w+n.radius,y_top:-n.radius,y_bottom:t.canvas.h+n.radius};switch(n.x-n.radius>t.canvas.w?(n.x=l.x_left,n.y=Math.random()*t.canvas.h):n.x+n.radius<0&&(n.x=l.x_right,n.y=Math.random()*t.canvas.h),n.y-n.radius>t.canvas.h?(n.y=l.y_top,n.x=Math.random()*t.canvas.w):n.y+n.radius<0&&(n.y=l.y_bottom,n.x=Math.random()*t.canvas.w),t.particles.move.out_mode){case"bounce":(n.x+n.radius>t.canvas.w||n.x-n.radius<0)&&(n.vx=-n.vx),(n.y+n.radius>t.canvas.h||n.y-n.radius<0)&&(n.vy=-n.vy)}if(isInArray("grab",t.interactivity.events.onhover.mode)&&t.fn.modes.grabParticle(n),(isInArray("bubble",t.interactivity.events.onhover.mode)||isInArray("bubble",t.interactivity.events.onclick.mode))&&t.fn.modes.bubbleParticle(n),(isInArray("repulse",t.interactivity.events.onhover.mode)||isInArray("repulse",t.interactivity.events.onclick.mode))&&t.fn.modes.repulseParticle(n),t.particles.line_linked.enable||t.particles.move.attract.enable)for(var u=s+1;u<t.particles.array.length;u++){var p=t.particles.array[u];t.particles.line_linked.enable&&t.fn.interact.linkParticles(n,p),t.particles.move.attract.enable&&t.fn.interact.attractParticles(n,p),t.particles.move.bounce&&t.fn.interact.bounceParticles(n,p)}}},t.fn.particlesDraw=function(){t.canvas.ctx.clearRect(0,0,t.canvas.w,t.canvas.h),t.fn.particlesUpdate();for(var s=0;s<t.particles.array.length;s++){var n=t.particles.array[s];n.draw()}},t.fn.particlesEmpty=function(){t.particles.array=[]},t.fn.particlesRefresh=function(){cancelRequestAnimFrame(t.fn.checkAnimFrame),cancelRequestAnimFrame(t.fn.drawAnimFrame),t.tmp.source_svg=void 0,t.tmp.img_obj=void 0,t.tmp.count_svg=0,t.fn.particlesEmpty(),t.fn.canvasClear(),t.fn.vendors.start()},t.fn.interact.linkParticles=function(s,n){var r=s.x-n.x,l=s.y-n.y,u=Math.sqrt(r*r+l*l);if(u<=t.particles.line_linked.distance){var p=t.particles.line_linked.opacity-u/(1/t.particles.line_linked.opacity)/t.particles.line_linked.distance;if(p>0){var g=t.particles.line_linked.color_rgb_line;t.canvas.ctx.strokeStyle="rgba("+g.r+","+g.g+","+g.b+","+p+")",t.canvas.ctx.lineWidth=t.particles.line_linked.width,t.canvas.ctx.beginPath(),t.canvas.ctx.moveTo(s.x,s.y),t.canvas.ctx.lineTo(n.x,n.y),t.canvas.ctx.stroke(),t.canvas.ctx.closePath()}}},t.fn.interact.attractParticles=function(s,n){var r=s.x-n.x,l=s.y-n.y,u=Math.sqrt(r*r+l*l);if(u<=t.particles.line_linked.distance){var p=r/(1e3*t.particles.move.attract.rotateX),g=l/(1e3*t.particles.move.attract.rotateY);s.vx-=p,s.vy-=g,n.vx+=p,n.vy+=g}},t.fn.interact.bounceParticles=function(s,n){var r=s.x-n.x,l=s.y-n.y,u=Math.sqrt(r*r+l*l),p=s.radius+n.radius;p>=u&&(s.vx=-s.vx,s.vy=-s.vy,n.vx=-n.vx,n.vy=-n.vy)},t.fn.modes.pushParticles=function(s,n){t.tmp.pushing=!0;for(var r=0;s>r;r++)t.particles.array.push(new t.fn.particle(t.particles.color,t.particles.opacity.value,{x:n?n.pos_x:Math.random()*t.canvas.w,y:n?n.pos_y:Math.random()*t.canvas.h})),r==s-1&&(t.particles.move.enable||t.fn.particlesDraw(),t.tmp.pushing=!1)},t.fn.modes.removeParticles=function(s){t.particles.array.splice(0,s),t.particles.move.enable||t.fn.particlesDraw()},t.fn.modes.bubbleParticle=function(s){function n(){s.opacity_bubble=s.opacity,s.radius_bubble=s.radius}function r(X,V,be,Oe,he){if(X!=V)if(t.tmp.bubble_duration_end){if(be!=null){var $e=Oe-O*(Oe-X)/t.interactivity.modes.bubble.duration,b=X-$e;it=X+b,he=="size"&&(s.radius_bubble=it),he=="opacity"&&(s.opacity_bubble=it)}}else if(p<=t.interactivity.modes.bubble.distance){if(be!=null)var de=be;else var de=Oe;if(de!=X){var it=Oe-O*(Oe-X)/t.interactivity.modes.bubble.duration;he=="size"&&(s.radius_bubble=it),he=="opacity"&&(s.opacity_bubble=it)}}else he=="size"&&(s.radius_bubble=void 0),he=="opacity"&&(s.opacity_bubble=void 0)}if(t.interactivity.events.onhover.enable&&isInArray("bubble",t.interactivity.events.onhover.mode)){var l=s.x-t.interactivity.mouse.pos_x,u=s.y-t.interactivity.mouse.pos_y,p=Math.sqrt(l*l+u*u),g=1-p/t.interactivity.modes.bubble.distance;if(p<=t.interactivity.modes.bubble.distance){if(g>=0&&t.interactivity.status=="mousemove"){if(t.interactivity.modes.bubble.size!=t.particles.size.value)if(t.interactivity.modes.bubble.size>t.particles.size.value){var S=s.radius+t.interactivity.modes.bubble.size*g;S>=0&&(s.radius_bubble=S)}else{var I=s.radius-t.interactivity.modes.bubble.size,S=s.radius-I*g;S>0?s.radius_bubble=S:s.radius_bubble=0}if(t.interactivity.modes.bubble.opacity!=t.particles.opacity.value)if(t.interactivity.modes.bubble.opacity>t.particles.opacity.value){var F=t.interactivity.modes.bubble.opacity*g;F>s.opacity&&F<=t.interactivity.modes.bubble.opacity&&(s.opacity_bubble=F)}else{var F=s.opacity-(t.particles.opacity.value-t.interactivity.modes.bubble.opacity)*g;F<s.opacity&&F>=t.interactivity.modes.bubble.opacity&&(s.opacity_bubble=F)}}}else n();t.interactivity.status=="mouseleave"&&n()}else if(t.interactivity.events.onclick.enable&&isInArray("bubble",t.interactivity.events.onclick.mode)){if(t.tmp.bubble_clicking){var l=s.x-t.interactivity.mouse.click_pos_x,u=s.y-t.interactivity.mouse.click_pos_y,p=Math.sqrt(l*l+u*u),O=(new Date().getTime()-t.interactivity.mouse.click_time)/1e3;O>t.interactivity.modes.bubble.duration&&(t.tmp.bubble_duration_end=!0),O>2*t.interactivity.modes.bubble.duration&&(t.tmp.bubble_clicking=!1,t.tmp.bubble_duration_end=!1)}t.tmp.bubble_clicking&&(r(t.interactivity.modes.bubble.size,t.particles.size.value,s.radius_bubble,s.radius,"size"),r(t.interactivity.modes.bubble.opacity,t.particles.opacity.value,s.opacity_bubble,s.opacity,"opacity"))}},t.fn.modes.repulseParticle=function(s){function n(){var Oe=Math.atan2(X,O);if(s.vx=be*Math.cos(Oe),s.vy=be*Math.sin(Oe),t.particles.move.out_mode=="bounce"){var he={x:s.x+s.vx,y:s.y+s.vy};(he.x+s.radius>t.canvas.w||he.x-s.radius<0)&&(s.vx=-s.vx),(he.y+s.radius>t.canvas.h||he.y-s.radius<0)&&(s.vy=-s.vy)}}if(t.interactivity.events.onhover.enable&&isInArray("repulse",t.interactivity.events.onhover.mode)&&t.interactivity.status=="mousemove"){var r=s.x-t.interactivity.mouse.pos_x,l=s.y-t.interactivity.mouse.pos_y,u=Math.sqrt(r*r+l*l),p={x:r/u,y:l/u},g=t.interactivity.modes.repulse.distance,S=100,I=clamp(1/g*(-1*Math.pow(u/g,2)+1)*g*S,0,50),F={x:s.x+p.x*I,y:s.y+p.y*I};t.particles.move.out_mode=="bounce"?(F.x-s.radius>0&&F.x+s.radius<t.canvas.w&&(s.x=F.x),F.y-s.radius>0&&F.y+s.radius<t.canvas.h&&(s.y=F.y)):(s.x=F.x,s.y=F.y)}else if(t.interactivity.events.onclick.enable&&isInArray("repulse",t.interactivity.events.onclick.mode))if(t.tmp.repulse_finish||(t.tmp.repulse_count++,t.tmp.repulse_count==t.particles.array.length&&(t.tmp.repulse_finish=!0)),t.tmp.repulse_clicking){var g=Math.pow(t.interactivity.modes.repulse.distance/6,3),O=t.interactivity.mouse.click_pos_x-s.x,X=t.interactivity.mouse.click_pos_y-s.y,V=O*O+X*X,be=-g/V*1;g>=V&&n()}else t.tmp.repulse_clicking==0&&(s.vx=s.vx_i,s.vy=s.vy_i)},t.fn.modes.grabParticle=function(s){if(t.interactivity.events.onhover.enable&&t.interactivity.status=="mousemove"){var n=s.x-t.interactivity.mouse.pos_x,r=s.y-t.interactivity.mouse.pos_y,l=Math.sqrt(n*n+r*r);if(l<=t.interactivity.modes.grab.distance){var u=t.interactivity.modes.grab.line_linked.opacity-l/(1/t.interactivity.modes.grab.line_linked.opacity)/t.interactivity.modes.grab.distance;if(u>0){var p=t.particles.line_linked.color_rgb_line;t.canvas.ctx.strokeStyle="rgba("+p.r+","+p.g+","+p.b+","+u+")",t.canvas.ctx.lineWidth=t.particles.line_linked.width,t.canvas.ctx.beginPath(),t.canvas.ctx.moveTo(s.x,s.y),t.canvas.ctx.lineTo(t.interactivity.mouse.pos_x,t.interactivity.mouse.pos_y),t.canvas.ctx.stroke(),t.canvas.ctx.closePath()}}}},t.fn.vendors.eventsListeners=function(){t.interactivity.detect_on=="window"?t.interactivity.el=window:t.interactivity.el=t.canvas.el,(t.interactivity.events.onhover.enable||t.interactivity.events.onclick.enable)&&(t.interactivity.el.addEventListener("mousemove",function(s){if(t.interactivity.el==window)var n=s.clientX,r=s.clientY;else var n=s.offsetX||s.clientX,r=s.offsetY||s.clientY;t.interactivity.mouse.pos_x=n,t.interactivity.mouse.pos_y=r,t.tmp.retina&&(t.interactivity.mouse.pos_x*=t.canvas.pxratio,t.interactivity.mouse.pos_y*=t.canvas.pxratio),t.interactivity.status="mousemove"}),t.interactivity.el.addEventListener("mouseleave",function(s){t.interactivity.mouse.pos_x=null,t.interactivity.mouse.pos_y=null,t.interactivity.status="mouseleave"})),t.interactivity.events.onclick.enable&&t.interactivity.el.addEventListener("click",function(){if(t.interactivity.mouse.click_pos_x=t.interactivity.mouse.pos_x,t.interactivity.mouse.click_pos_y=t.interactivity.mouse.pos_y,t.interactivity.mouse.click_time=new Date().getTime(),t.interactivity.events.onclick.enable)switch(t.interactivity.events.onclick.mode){case"push":t.particles.move.enable||t.interactivity.modes.push.particles_nb==1?t.fn.modes.pushParticles(t.interactivity.modes.push.particles_nb,t.interactivity.mouse):t.interactivity.modes.push.particles_nb>1&&t.fn.modes.pushParticles(t.interactivity.modes.push.particles_nb);break;case"remove":t.fn.modes.removeParticles(t.interactivity.modes.remove.particles_nb);break;case"bubble":t.tmp.bubble_clicking=!0;break;case"repulse":t.tmp.repulse_clicking=!0,t.tmp.repulse_count=0,t.tmp.repulse_finish=!1,setTimeout(function(){t.tmp.repulse_clicking=!1},1e3*t.interactivity.modes.repulse.duration)}})},t.fn.vendors.densityAutoParticles=function(){if(t.particles.number.density.enable){var s=t.canvas.el.width*t.canvas.el.height/1e3;t.tmp.retina&&(s/=2*t.canvas.pxratio);var n=s*t.particles.number.value/t.particles.number.density.value_area,r=t.particles.array.length-n;0>r?t.fn.modes.pushParticles(Math.abs(r)):t.fn.modes.removeParticles(r)}},t.fn.vendors.checkOverlap=function(s,n){for(var r=0;r<t.particles.array.length;r++){var l=t.particles.array[r],u=s.x-l.x,p=s.y-l.y,g=Math.sqrt(u*u+p*p);g<=s.radius+l.radius&&(s.x=n?n.x:Math.random()*t.canvas.w,s.y=n?n.y:Math.random()*t.canvas.h,t.fn.vendors.checkOverlap(s))}},t.fn.vendors.createSvgImg=function(s){var n=t.tmp.source_svg,r=/#([0-9A-F]{3,6})/gi,l=n.replace(r,function(I,F,O,X){if(s.color.rgb)var V="rgba("+s.color.rgb.r+","+s.color.rgb.g+","+s.color.rgb.b+","+s.opacity+")";else var V="hsla("+s.color.hsl.h+","+s.color.hsl.s+"%,"+s.color.hsl.l+"%,"+s.opacity+")";return V}),u=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),p=window.URL||window.webkitURL||window,g=p.createObjectURL(u),S=new Image;S.addEventListener("load",function(){s.img.obj=S,s.img.loaded=!0,p.revokeObjectURL(g),t.tmp.count_svg++}),S.src=g},t.fn.vendors.destroypJS=function(){cancelAnimationFrame(t.fn.drawAnimFrame),e.remove(),pJSDom=null},t.fn.vendors.drawShape=function(s,n,r,l,u,p){var g=u*p,S=u/p,I=180*(S-2)/S,F=Math.PI-Math.PI*I/180;s.save(),s.beginPath(),s.translate(n,r),s.moveTo(0,0);for(var O=0;g>O;O++)s.lineTo(l,0),s.translate(l,0),s.rotate(F);s.fill(),s.restore()},t.fn.vendors.exportImg=function(){window.open(t.canvas.el.toDataURL("image/png"),"_blank")},t.fn.vendors.loadImg=function(s){if(t.tmp.img_error=void 0,t.particles.shape.image.src!="")if(s=="svg"){var n=new XMLHttpRequest;n.open("GET",t.particles.shape.image.src),n.onreadystatechange=function(l){n.readyState==4&&(n.status==200?(t.tmp.source_svg=l.currentTarget.response,t.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),t.tmp.img_error=!0))},n.send()}else{var r=new Image;r.addEventListener("load",function(){t.tmp.img_obj=r,t.fn.vendors.checkBeforeDraw()}),r.src=t.particles.shape.image.src}else console.log("Error pJS - No image.src"),t.tmp.img_error=!0},t.fn.vendors.draw=function(){t.particles.shape.type=="image"?t.tmp.img_type=="svg"?t.tmp.count_svg>=t.particles.number.value?(t.fn.particlesDraw(),t.particles.move.enable?t.fn.drawAnimFrame=requestAnimFrame(t.fn.vendors.draw):cancelRequestAnimFrame(t.fn.drawAnimFrame)):t.tmp.img_error||(t.fn.drawAnimFrame=requestAnimFrame(t.fn.vendors.draw)):t.tmp.img_obj!=null?(t.fn.particlesDraw(),t.particles.move.enable?t.fn.drawAnimFrame=requestAnimFrame(t.fn.vendors.draw):cancelRequestAnimFrame(t.fn.drawAnimFrame)):t.tmp.img_error||(t.fn.drawAnimFrame=requestAnimFrame(t.fn.vendors.draw)):(t.fn.particlesDraw(),t.particles.move.enable?t.fn.drawAnimFrame=requestAnimFrame(t.fn.vendors.draw):cancelRequestAnimFrame(t.fn.drawAnimFrame))},t.fn.vendors.checkBeforeDraw=function(){t.particles.shape.type=="image"?t.tmp.img_type=="svg"&&t.tmp.source_svg==null?t.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(t.tmp.checkAnimFrame),t.tmp.img_error||(t.fn.vendors.init(),t.fn.vendors.draw())):(t.fn.vendors.init(),t.fn.vendors.draw())},t.fn.vendors.init=function(){t.fn.retinaInit(),t.fn.canvasInit(),t.fn.canvasSize(),t.fn.canvasPaint(),t.fn.particlesCreate(),t.fn.vendors.densityAutoParticles(),t.particles.line_linked.color_rgb_line=hexToRgb(t.particles.line_linked.color)},t.fn.vendors.start=function(){isInArray("image",t.particles.shape.type)?(t.tmp.img_type=t.particles.shape.image.src.substr(t.particles.shape.image.src.length-3),t.fn.vendors.loadImg(t.tmp.img_type)):t.fn.vendors.checkBeforeDraw()},t.fn.vendors.eventsListeners(),t.fn.vendors.start()};Object.deepExtend=function(a,i){for(var e in i)i[e]&&i[e].constructor&&i[e].constructor===Object?(a[e]=a[e]||{},arguments.callee(a[e],i[e])):a[e]=i[e];return a},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),window.pJSDom=[],window.particlesJS=function(a,i){typeof a!="string"&&(i=a,a="particles-js"),a||(a="particles-js");var e=document.getElementById(a),t="particles-js-canvas-el",s=e.getElementsByClassName(t);if(s.length)for(;s.length>0;)e.removeChild(s[0]);var n=document.createElement("canvas");n.className=t,n.style.width="100%",n.style.height="100%";var r=document.getElementById(a).appendChild(n);r!=null&&pJSDom.push(new pJS(a,i))},window.particlesJS.load=function(a,i,e){var t=new XMLHttpRequest;t.open("GET",i),t.onreadystatechange=function(s){if(t.readyState==4)if(t.status==200){var n=JSON.parse(s.currentTarget.response);window.particlesJS(a,n),e&&e()}else console.log("Error pJS - XMLHttpRequest status: "+t.status),console.log("Error pJS - File config not found")},t.send()};/*! Magnific Popup - v1.1.0 - 2016-02-20
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2016 Dmitry Semenov; */(function(a){typeof define=="function"&&define.amd?define(["jquery"],a):a(typeof exports=="object"?require("jquery"):window.jQuery||window.Zepto)})(function(a){var i,e,t,s,n,r,l="Close",u="BeforeClose",p="AfterClose",g="BeforeAppend",S="MarkupParse",I="Open",F="Change",O="mfp",X="."+O,V="mfp-ready",be="mfp-removing",Oe="mfp-prevent-close",he=function(){},$e=!!window.jQuery,b=a(window),de=function(L,Y){i.ev.on(O+L+X,Y)},it=function(L,Y,Q,we){var Re=document.createElement("div");return Re.className="mfp-"+L,Q&&(Re.innerHTML=Q),Re=a(Re),Y&&Re.appendTo(Y),Re},ze=function(L,Y){i.ev.triggerHandler(O+L,Y),i.st.callbacks&&(L=L.charAt(0).toLowerCase()+L.slice(1),i.st.callbacks[L]&&i.st.callbacks[L].apply(i,a.isArray(Y)?Y:[Y]))},fe=function(L){return L===r&&i.currTemplate.closeBtn||(i.currTemplate.closeBtn=a(i.st.closeMarkup.replace("%title%",i.st.tClose)),r=L),i.currTemplate.closeBtn},We=function(){a.magnificPopup.instance||(i=new he,i.init(),a.magnificPopup.instance=i)},Ne=function(){var L=document.createElement("p").style,Y=["ms","O","Moz","Webkit"];if(L.transition!==void 0)return!0;for(;Y.length;)if(Y.pop()+"Transition"in L)return!0;return!1};he.prototype={constructor:he,init:function(){var L=navigator.appVersion;i.isLowIE=i.isIE8=document.all&&!document.addEventListener,i.isAndroid=/android/gi.test(L),i.isIOS=/iphone|ipad|ipod/gi.test(L),i.supportsTransition=Ne(),i.probablyMobile=i.isAndroid||i.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),t=a(document),i.popupsCache={}},open:function(L){var Y;if(L.isObj===!1){i.items=L.items.toArray(),i.index=0;var Q,we=L.items;for(Y=0;Y<we.length;Y++)if(Q=we[Y],Q.parsed&&(Q=Q.el[0]),Q===L.el[0]){i.index=Y;break}}else i.items=a.isArray(L.items)?L.items:[L.items],i.index=L.index||0;if(i.isOpen)return void i.updateItemHTML();i.types=[],n="",L.mainEl&&L.mainEl.length?i.ev=L.mainEl.eq(0):i.ev=t,L.key?(i.popupsCache[L.key]||(i.popupsCache[L.key]={}),i.currTemplate=i.popupsCache[L.key]):i.currTemplate={},i.st=a.extend(!0,{},a.magnificPopup.defaults,L),i.fixedContentPos=i.st.fixedContentPos==="auto"?!i.probablyMobile:i.st.fixedContentPos,i.st.modal&&(i.st.closeOnContentClick=!1,i.st.closeOnBgClick=!1,i.st.showCloseBtn=!1,i.st.enableEscapeKey=!1),i.bgOverlay||(i.bgOverlay=it("bg").on("click"+X,function(){i.close()}),i.wrap=it("wrap").attr("tabindex",-1).on("click"+X,function(Xe){i._checkIfClose(Xe.target)&&i.close()}),i.container=it("container",i.wrap)),i.contentContainer=it("content"),i.st.preloader&&(i.preloader=it("preloader",i.container,i.st.tLoading));var Re=a.magnificPopup.modules;for(Y=0;Y<Re.length;Y++){var lt=Re[Y];lt=lt.charAt(0).toUpperCase()+lt.slice(1),i["init"+lt].call(i)}ze("BeforeOpen"),i.st.showCloseBtn&&(i.st.closeBtnInside?(de(S,function(Xe,et,Pt,mi){Pt.close_replaceWith=fe(mi.type)}),n+=" mfp-close-btn-in"):i.wrap.append(fe())),i.st.alignTop&&(n+=" mfp-align-top"),i.fixedContentPos?i.wrap.css({overflow:i.st.overflowY,overflowX:"hidden",overflowY:i.st.overflowY}):i.wrap.css({top:b.scrollTop(),position:"absolute"}),(i.st.fixedBgPos===!1||i.st.fixedBgPos==="auto"&&!i.fixedContentPos)&&i.bgOverlay.css({height:t.height(),position:"absolute"}),i.st.enableEscapeKey&&t.on("keyup"+X,function(Xe){Xe.keyCode===27&&i.close()}),b.on("resize"+X,function(){i.updateSize()}),i.st.closeOnContentClick||(n+=" mfp-auto-cursor"),n&&i.wrap.addClass(n);var wt=i.wH=b.height(),bt={};if(i.fixedContentPos&&i._hasScrollBar(wt)){var Lt=i._getScrollbarSize();Lt&&(bt.marginRight=Lt)}i.fixedContentPos&&(i.isIE7?a("body, html").css("overflow","hidden"):bt.overflow="hidden");var Ue=i.st.mainClass;return i.isIE7&&(Ue+=" mfp-ie7"),Ue&&i._addClassToMFP(Ue),i.updateItemHTML(),ze("BuildControls"),a("html").css(bt),i.bgOverlay.add(i.wrap).prependTo(i.st.prependTo||a(document.body)),i._lastFocusedEl=document.activeElement,setTimeout(function(){i.content?(i._addClassToMFP(V),i._setFocus()):i.bgOverlay.addClass(V),t.on("focusin"+X,i._onFocusIn)},16),i.isOpen=!0,i.updateSize(wt),ze(I),L},close:function(){i.isOpen&&(ze(u),i.isOpen=!1,i.st.removalDelay&&!i.isLowIE&&i.supportsTransition?(i._addClassToMFP(be),setTimeout(function(){i._close()},i.st.removalDelay)):i._close())},_close:function(){ze(l);var L=be+" "+V+" ";if(i.bgOverlay.detach(),i.wrap.detach(),i.container.empty(),i.st.mainClass&&(L+=i.st.mainClass+" "),i._removeClassFromMFP(L),i.fixedContentPos){var Y={marginRight:""};i.isIE7?a("body, html").css("overflow",""):Y.overflow="",a("html").css(Y)}t.off("keyup"+X+" focusin"+X),i.ev.off(X),i.wrap.attr("class","mfp-wrap").removeAttr("style"),i.bgOverlay.attr("class","mfp-bg"),i.container.attr("class","mfp-container"),!i.st.showCloseBtn||i.st.closeBtnInside&&i.currTemplate[i.currItem.type]!==!0||i.currTemplate.closeBtn&&i.currTemplate.closeBtn.detach(),i.st.autoFocusLast&&i._lastFocusedEl&&a(i._lastFocusedEl).focus(),i.currItem=null,i.content=null,i.currTemplate=null,i.prevHeight=0,ze(p)},updateSize:function(L){if(i.isIOS){var Y=document.documentElement.clientWidth/window.innerWidth,Q=window.innerHeight*Y;i.wrap.css("height",Q),i.wH=Q}else i.wH=L||b.height();i.fixedContentPos||i.wrap.css("height",i.wH),ze("Resize")},updateItemHTML:function(){var L=i.items[i.index];i.contentContainer.detach(),i.content&&i.content.detach(),L.parsed||(L=i.parseEl(i.index));var Y=L.type;if(ze("BeforeChange",[i.currItem?i.currItem.type:"",Y]),i.currItem=L,!i.currTemplate[Y]){var Q=i.st[Y]?i.st[Y].markup:!1;ze("FirstMarkupParse",Q),Q?i.currTemplate[Y]=a(Q):i.currTemplate[Y]=!0}s&&s!==L.type&&i.container.removeClass("mfp-"+s+"-holder");var we=i["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](L,i.currTemplate[Y]);i.appendContent(we,Y),L.preloaded=!0,ze(F,L),s=L.type,i.container.prepend(i.contentContainer),ze("AfterChange")},appendContent:function(L,Y){i.content=L,L?i.st.showCloseBtn&&i.st.closeBtnInside&&i.currTemplate[Y]===!0?i.content.find(".mfp-close").length||i.content.append(fe()):i.content=L:i.content="",ze(g),i.container.addClass("mfp-"+Y+"-holder"),i.contentContainer.append(i.content)},parseEl:function(L){var Y,Q=i.items[L];if(Q.tagName?Q={el:a(Q)}:(Y=Q.type,Q={data:Q,src:Q.src}),Q.el){for(var we=i.types,Re=0;Re<we.length;Re++)if(Q.el.hasClass("mfp-"+we[Re])){Y=we[Re];break}Q.src=Q.el.attr("data-mfp-src"),Q.src||(Q.src=Q.el.attr("href"))}return Q.type=Y||i.st.type||"inline",Q.index=L,Q.parsed=!0,i.items[L]=Q,ze("ElementParse",Q),i.items[L]},addGroup:function(L,Y){var Q=function(Re){Re.mfpEl=this,i._openClick(Re,L,Y)};Y||(Y={});var we="click.magnificPopup";Y.mainEl=L,Y.items?(Y.isObj=!0,L.off(we).on(we,Q)):(Y.isObj=!1,Y.delegate?L.off(we).on(we,Y.delegate,Q):(Y.items=L,L.off(we).on(we,Q)))},_openClick:function(L,Y,Q){var we=Q.midClick!==void 0?Q.midClick:a.magnificPopup.defaults.midClick;if(we||!(L.which===2||L.ctrlKey||L.metaKey||L.altKey||L.shiftKey)){var Re=Q.disableOn!==void 0?Q.disableOn:a.magnificPopup.defaults.disableOn;if(Re){if(a.isFunction(Re)){if(!Re.call(i))return!0}else if(b.width()<Re)return!0}L.type&&(L.preventDefault(),i.isOpen&&L.stopPropagation()),Q.el=a(L.mfpEl),Q.delegate&&(Q.items=Y.find(Q.delegate)),i.open(Q)}},updateStatus:function(L,Y){if(i.preloader){e!==L&&i.container.removeClass("mfp-s-"+e),Y||L!=="loading"||(Y=i.st.tLoading);var Q={status:L,text:Y};ze("UpdateStatus",Q),L=Q.status,Y=Q.text,i.preloader.html(Y),i.preloader.find("a").on("click",function(we){we.stopImmediatePropagation()}),i.container.addClass("mfp-s-"+L),e=L}},_checkIfClose:function(L){if(!a(L).hasClass(Oe)){var Y=i.st.closeOnContentClick,Q=i.st.closeOnBgClick;if(Y&&Q||!i.content||a(L).hasClass("mfp-close")||i.preloader&&L===i.preloader[0])return!0;if(L===i.content[0]||a.contains(i.content[0],L)){if(Y)return!0}else if(Q&&a.contains(document,L))return!0;return!1}},_addClassToMFP:function(L){i.bgOverlay.addClass(L),i.wrap.addClass(L)},_removeClassFromMFP:function(L){this.bgOverlay.removeClass(L),i.wrap.removeClass(L)},_hasScrollBar:function(L){return(i.isIE7?t.height():document.body.scrollHeight)>(L||b.height())},_setFocus:function(){(i.st.focus?i.content.find(i.st.focus).eq(0):i.wrap).focus()},_onFocusIn:function(L){return L.target===i.wrap[0]||a.contains(i.wrap[0],L.target)?void 0:(i._setFocus(),!1)},_parseMarkup:function(L,Y,Q){var we;Q.data&&(Y=a.extend(Q.data,Y)),ze(S,[L,Y,Q]),a.each(Y,function(Re,lt){if(lt===void 0||lt===!1)return!0;if(we=Re.split("_"),we.length>1){var wt=L.find(X+"-"+we[0]);if(wt.length>0){var bt=we[1];bt==="replaceWith"?wt[0]!==lt[0]&&wt.replaceWith(lt):bt==="img"?wt.is("img")?wt.attr("src",lt):wt.replaceWith(a("<img>").attr("src",lt).attr("class",wt.attr("class"))):wt.attr(we[1],lt)}}else L.find(X+"-"+Re).html(lt)})},_getScrollbarSize:function(){if(i.scrollbarSize===void 0){var L=document.createElement("div");L.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(L),i.scrollbarSize=L.offsetWidth-L.clientWidth,document.body.removeChild(L)}return i.scrollbarSize}},a.magnificPopup={instance:null,proto:he.prototype,modules:[],open:function(L,Y){return We(),L=L?a.extend(!0,{},L):{},L.isObj=!0,L.index=Y||0,this.instance.open(L)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(L,Y){Y.options&&(a.magnificPopup.defaults[L]=Y.options),a.extend(this.proto,Y.proto),this.modules.push(L)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},a.fn.magnificPopup=function(L){We();var Y=a(this);if(typeof L=="string")if(L==="open"){var Q,we=$e?Y.data("magnificPopup"):Y[0].magnificPopup,Re=parseInt(arguments[1],10)||0;we.items?Q=we.items[Re]:(Q=Y,we.delegate&&(Q=Q.find(we.delegate)),Q=Q.eq(Re)),i._openClick({mfpEl:Q},Y,we)}else i.isOpen&&i[L].apply(i,Array.prototype.slice.call(arguments,1));else L=a.extend(!0,{},L),$e?Y.data("magnificPopup",L):Y[0].magnificPopup=L,i.addGroup(Y,L);return Y};var Le,Je,Pe,ge="inline",ce=function(){Pe&&(Je.after(Pe.addClass(Le)).detach(),Pe=null)};a.magnificPopup.registerModule(ge,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){i.types.push(ge),de(l+"."+ge,function(){ce()})},getInline:function(L,Y){if(ce(),L.src){var Q=i.st.inline,we=a(L.src);if(we.length){var Re=we[0].parentNode;Re&&Re.tagName&&(Je||(Le=Q.hiddenClass,Je=it(Le),Le="mfp-"+Le),Pe=we.after(Je).detach().removeClass(Le)),i.updateStatus("ready")}else i.updateStatus("error",Q.tNotFound),we=a("<div>");return L.inlineElement=we,we}return i.updateStatus("ready"),i._parseMarkup(Y,{},L),Y}}});var Me,ve="ajax",_e=function(){Me&&a(document.body).removeClass(Me)},Se=function(){_e(),i.req&&i.req.abort()};a.magnificPopup.registerModule(ve,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){i.types.push(ve),Me=i.st.ajax.cursor,de(l+"."+ve,Se),de("BeforeChange."+ve,Se)},getAjax:function(L){Me&&a(document.body).addClass(Me),i.updateStatus("loading");var Y=a.extend({url:L.src,success:function(Q,we,Re){var lt={data:Q,xhr:Re};ze("ParseAjax",lt),i.appendContent(a(lt.data),ve),L.finished=!0,_e(),i._setFocus(),setTimeout(function(){i.wrap.addClass(V)},16),i.updateStatus("ready"),ze("AjaxContentAdded")},error:function(){_e(),L.finished=L.loadError=!0,i.updateStatus("error",i.st.ajax.tError.replace("%url%",L.src))}},i.st.ajax.settings);return i.req=a.ajax(Y),""}}});var Z,ae=function(L){if(L.data&&L.data.title!==void 0)return L.data.title;var Y=i.st.image.titleSrc;if(Y){if(a.isFunction(Y))return Y.call(i,L);if(L.el)return L.el.attr(Y)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var L=i.st.image,Y=".image";i.types.push("image"),de(I+Y,function(){i.currItem.type==="image"&&L.cursor&&a(document.body).addClass(L.cursor)}),de(l+Y,function(){L.cursor&&a(document.body).removeClass(L.cursor),b.off("resize"+X)}),de("Resize"+Y,i.resizeImage),i.isLowIE&&de("AfterChange",i.resizeImage)},resizeImage:function(){var L=i.currItem;if(L&&L.img&&i.st.image.verticalFit){var Y=0;i.isLowIE&&(Y=parseInt(L.img.css("padding-top"),10)+parseInt(L.img.css("padding-bottom"),10)),L.img.css("max-height",i.wH-Y)}},_onImageHasSize:function(L){L.img&&(L.hasSize=!0,Z&&clearInterval(Z),L.isCheckingImgSize=!1,ze("ImageHasSize",L),L.imgHidden&&(i.content&&i.content.removeClass("mfp-loading"),L.imgHidden=!1))},findImageSize:function(L){var Y=0,Q=L.img[0],we=function(Re){Z&&clearInterval(Z),Z=setInterval(function(){return Q.naturalWidth>0?void i._onImageHasSize(L):(Y>200&&clearInterval(Z),Y++,void(Y===3?we(10):Y===40?we(50):Y===100&&we(500)))},Re)};we(1)},getImage:function(L,Y){var Q=0,we=function(){L&&(L.img[0].complete?(L.img.off(".mfploader"),L===i.currItem&&(i._onImageHasSize(L),i.updateStatus("ready")),L.hasSize=!0,L.loaded=!0,ze("ImageLoadComplete")):(Q++,200>Q?setTimeout(we,100):Re()))},Re=function(){L&&(L.img.off(".mfploader"),L===i.currItem&&(i._onImageHasSize(L),i.updateStatus("error",lt.tError.replace("%url%",L.src))),L.hasSize=!0,L.loaded=!0,L.loadError=!0)},lt=i.st.image,wt=Y.find(".mfp-img");if(wt.length){var bt=document.createElement("img");bt.className="mfp-img",L.el&&L.el.find("img").length&&(bt.alt=L.el.find("img").attr("alt")),L.img=a(bt).on("load.mfploader",we).on("error.mfploader",Re),bt.src=L.src,wt.is("img")&&(L.img=L.img.clone()),bt=L.img[0],bt.naturalWidth>0?L.hasSize=!0:bt.width||(L.hasSize=!1)}return i._parseMarkup(Y,{title:ae(L),img_replaceWith:L.img},L),i.resizeImage(),L.hasSize?(Z&&clearInterval(Z),L.loadError?(Y.addClass("mfp-loading"),i.updateStatus("error",lt.tError.replace("%url%",L.src))):(Y.removeClass("mfp-loading"),i.updateStatus("ready")),Y):(i.updateStatus("loading"),L.loading=!0,L.hasSize||(L.imgHidden=!0,Y.addClass("mfp-loading"),i.findImageSize(L)),Y)}}});var W,pe=function(){return W===void 0&&(W=document.createElement("p").style.MozTransform!==void 0),W};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(L){return L.is("img")?L:L.find("img")}},proto:{initZoom:function(){var L,Y=i.st.zoom,Q=".zoom";if(Y.enabled&&i.supportsTransition){var we,Re,lt=Y.duration,wt=function(Lt){var Ue=Lt.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),Xe="all "+Y.duration/1e3+"s "+Y.easing,et={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},Pt="transition";return et["-webkit-"+Pt]=et["-moz-"+Pt]=et["-o-"+Pt]=et[Pt]=Xe,Ue.css(et),Ue},bt=function(){i.content.css("visibility","visible")};de("BuildControls"+Q,function(){if(i._allowZoom()){if(clearTimeout(we),i.content.css("visibility","hidden"),L=i._getItemToZoom(),!L)return void bt();Re=wt(L),Re.css(i._getOffset()),i.wrap.append(Re),we=setTimeout(function(){Re.css(i._getOffset(!0)),we=setTimeout(function(){bt(),setTimeout(function(){Re.remove(),L=Re=null,ze("ZoomAnimationEnded")},16)},lt)},16)}}),de(u+Q,function(){if(i._allowZoom()){if(clearTimeout(we),i.st.removalDelay=lt,!L){if(L=i._getItemToZoom(),!L)return;Re=wt(L)}Re.css(i._getOffset(!0)),i.wrap.append(Re),i.content.css("visibility","hidden"),setTimeout(function(){Re.css(i._getOffset())},16)}}),de(l+Q,function(){i._allowZoom()&&(bt(),Re&&Re.remove(),L=null)})}},_allowZoom:function(){return i.currItem.type==="image"},_getItemToZoom:function(){return i.currItem.hasSize?i.currItem.img:!1},_getOffset:function(L){var Y;Y=L?i.currItem.img:i.st.zoom.opener(i.currItem.el||i.currItem);var Q=Y.offset(),we=parseInt(Y.css("padding-top"),10),Re=parseInt(Y.css("padding-bottom"),10);Q.top-=a(window).scrollTop()-we;var lt={width:Y.width(),height:($e?Y.innerHeight():Y[0].offsetHeight)-Re-we};return pe()?lt["-moz-transform"]=lt.transform="translate("+Q.left+"px,"+Q.top+"px)":(lt.left=Q.left,lt.top=Q.top),lt}}});var Ie="iframe",je="//about:blank",mt=function(L){if(i.currTemplate[Ie]){var Y=i.currTemplate[Ie].find("iframe");Y.length&&(L||(Y[0].src=je),i.isIE8&&Y.css("display",L?"block":"none"))}};a.magnificPopup.registerModule(Ie,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){i.types.push(Ie),de("BeforeChange",function(L,Y,Q){Y!==Q&&(Y===Ie?mt():Q===Ie&&mt(!0))}),de(l+"."+Ie,function(){mt()})},getIframe:function(L,Y){var Q=L.src,we=i.st.iframe;a.each(we.patterns,function(){return Q.indexOf(this.index)>-1?(this.id&&(Q=typeof this.id=="string"?Q.substr(Q.lastIndexOf(this.id)+this.id.length,Q.length):this.id.call(this,Q)),Q=this.src.replace("%id%",Q),!1):void 0});var Re={};return we.srcAction&&(Re[we.srcAction]=Q),i._parseMarkup(Y,Re,L),i.updateStatus("ready"),Y}}});var yt=function(L){var Y=i.items.length;return L>Y-1?L-Y:0>L?Y+L:L},pt=function(L,Y,Q){return L.replace(/%curr%/gi,Y+1).replace(/%total%/gi,Q)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var L=i.st.gallery,Y=".mfp-gallery";return i.direction=!0,L&&L.enabled?(n+=" mfp-gallery",de(I+Y,function(){L.navigateByImgClick&&i.wrap.on("click"+Y,".mfp-img",function(){return i.items.length>1?(i.next(),!1):void 0}),t.on("keydown"+Y,function(Q){Q.keyCode===37?i.prev():Q.keyCode===39&&i.next()})}),de("UpdateStatus"+Y,function(Q,we){we.text&&(we.text=pt(we.text,i.currItem.index,i.items.length))}),de(S+Y,function(Q,we,Re,lt){var wt=i.items.length;Re.counter=wt>1?pt(L.tCounter,lt.index,wt):""}),de("BuildControls"+Y,function(){if(i.items.length>1&&L.arrows&&!i.arrowLeft){var Q=L.arrowMarkup,we=i.arrowLeft=a(Q.replace(/%title%/gi,L.tPrev).replace(/%dir%/gi,"left")).addClass(Oe),Re=i.arrowRight=a(Q.replace(/%title%/gi,L.tNext).replace(/%dir%/gi,"right")).addClass(Oe);we.click(function(){i.prev()}),Re.click(function(){i.next()}),i.container.append(we.add(Re))}}),de(F+Y,function(){i._preloadTimeout&&clearTimeout(i._preloadTimeout),i._preloadTimeout=setTimeout(function(){i.preloadNearbyImages(),i._preloadTimeout=null},16)}),void de(l+Y,function(){t.off(Y),i.wrap.off("click"+Y),i.arrowRight=i.arrowLeft=null})):!1},next:function(){i.direction=!0,i.index=yt(i.index+1),i.updateItemHTML()},prev:function(){i.direction=!1,i.index=yt(i.index-1),i.updateItemHTML()},goTo:function(L){i.direction=L>=i.index,i.index=L,i.updateItemHTML()},preloadNearbyImages:function(){var L,Y=i.st.gallery.preload,Q=Math.min(Y[0],i.items.length),we=Math.min(Y[1],i.items.length);for(L=1;L<=(i.direction?we:Q);L++)i._preloadItem(i.index+L);for(L=1;L<=(i.direction?Q:we);L++)i._preloadItem(i.index-L)},_preloadItem:function(L){if(L=yt(L),!i.items[L].preloaded){var Y=i.items[L];Y.parsed||(Y=i.parseEl(L)),ze("LazyLoad",Y),Y.type==="image"&&(Y.img=a('<img class="mfp-img" />').on("load.mfploader",function(){Y.hasSize=!0}).on("error.mfploader",function(){Y.hasSize=!0,Y.loadError=!0,ze("LazyLoadError",Y)}).attr("src",Y.src)),Y.preloaded=!0}}}});var ot="retina";a.magnificPopup.registerModule(ot,{options:{replaceSrc:function(L){return L.src.replace(/\.\w+$/,function(Y){return"@2x"+Y})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var L=i.st.retina,Y=L.ratio;Y=isNaN(Y)?Y():Y,Y>1&&(de("ImageHasSize."+ot,function(Q,we){we.img.css({"max-width":we.img[0].naturalWidth/Y,width:"100%"})}),de("ElementParse."+ot,function(Q,we){we.src=L.replaceSrc(we,Y)}))}}}}),We()});(function(){for(var a,i=function(){},e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],t=e.length,s=window.console=window.console||{};t--;)a=e[t],s[a]||(s[a]=i)})();/*!
 * scrollup v2.4.1
 * Url: http://markgoodyear.com/labs/scrollup/
 * Copyright (c) Mark Goodyear  @markgdyr  http://markgoodyear.com
 * License: MIT
 */(function(a,i,e){a.fn.scrollUp=function(t){a.data(e.body,"scrollUp")||(a.data(e.body,"scrollUp",!0),a.fn.scrollUp.init(t))},a.fn.scrollUp.init=function(t){var s,n,r,l,u,p,g=a.fn.scrollUp.settings=a.extend({},a.fn.scrollUp.defaults,t),S=!1;switch(p=g.scrollTrigger?a(g.scrollTrigger):a("<a/>",{id:g.scrollName,href:"#top"}),g.scrollTitle&&p.attr("title",g.scrollTitle),p.appendTo("body"),g.scrollImg||g.scrollTrigger||p.html(g.scrollText),p.css({display:"none",position:"fixed",zIndex:g.zIndex}),g.activeOverlay&&a("<div/>",{id:g.scrollName+"-active"}).css({position:"absolute",top:g.scrollDistance+"px",width:"100%",borderTop:"1px dotted"+g.activeOverlay,zIndex:g.zIndex}).appendTo("body"),g.animation){case"fade":s="fadeIn",n="fadeOut",r=g.animationSpeed;break;case"slide":s="slideDown",n="slideUp",r=g.animationSpeed;break;default:s="show",n="hide",r=0}l=g.scrollFrom==="top"?g.scrollDistance:a(e).height()-a(i).height()-g.scrollDistance,a(i).scroll(function(){a(i).scrollTop()>l?S||(p[s](r),S=!0):S&&(p[n](r),S=!1)}),g.scrollTarget?typeof g.scrollTarget=="number"?u=g.scrollTarget:typeof g.scrollTarget=="string"&&(u=Math.floor(a(g.scrollTarget).offset().top)):u=0,p.click(function(I){I.preventDefault(),a("html, body").animate({scrollTop:u},g.scrollSpeed,g.easingType)})},a.fn.scrollUp.defaults={scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationSpeed:200,scrollTrigger:!1,scrollTarget:!1,scrollText:"Scroll to top",scrollTitle:!1,scrollImg:!1,activeOverlay:!1,zIndex:2147483647},a.fn.scrollUp.destroy=function(t){a.removeData(e.body,"scrollUp"),a("#"+a.fn.scrollUp.settings.scrollName).remove(),a("#"+a.fn.scrollUp.settings.scrollName+"-active").remove(),a.fn.jquery.split(".")[1]>=7?a(i).off("scroll",t):a(i).unbind("scroll",t)},a.scrollUp=a.fn.scrollUp})(jQuery,window,document);var body=document.body;body.classList.add("pointer-wrap");const pointer=document.createElement("div");pointer.id="pointer-dot";const ring=document.createElement("div");ring.id="pointer-ring";(function(a){var i=a("#contact-form"),e=a("#form-messages");a(i).submit(function(t){t.preventDefault();var s=a(i).serialize();a.ajax({type:"POST",url:a(i).attr("action"),data:s}).done(function(n){a(e).removeClass("error"),a(e).addClass("success"),a(e).text(n),a("#name, #email, #phone, #subject, #website, #message").val("")}).fail(function(n){a(e).removeClass("success"),a(e).addClass("error"),n.responseText!==""?a(e).text(n.responseText):a(e).text("Oops! An error occured and your message could not be sent.")})})})(jQuery);(function(a){var i=a("#appointment-form"),e=a("#appointment-messages");a(i).submit(function(t){t.preventDefault();var s=a(i).serialize();a.ajax({type:"POST",url:a(i).attr("action"),data:s}).done(function(n){a(e).removeClass("error"),a(e).addClass("success"),a(e).text(n),a("#appointment_name, #appointment_email, #appointment_phone, #appointment_website").val("")}).fail(function(n){a(e).removeClass("success"),a(e).addClass("error"),n.responseText!==""?a(e).text(n.responseText):a(e).text("Oops! An error occured and your message could not be sent.")})})})(jQuery);(function(a){var i=a(".menu-sticky"),e=a(window);if(e.on("scroll",function(){var de=e.scrollTop();de<1?i.removeClass("sticky"):i.addClass("sticky"),a("section").each(function(){var it=a(this).offset().top-a("#rs-header").outerHeight();de>=it&&a(this).addClass("loaded")})}),a(window).on("load",function(){a("#loading").delay(1500).fadeOut(500),a("#loading-center").on("click",function(){a("#loading").fadeOut(500)})}),a("#stuff").length){var t=a("#stuff").get(0);new Parallax(t)}var s=a("#onepage-menu");s.length&&(a(".nav-menu li a").on("click",function(){a(".showhide").is(":visible")&&a(".showhide").trigger("click")}),a.fn.onePageNav&&a(".nav-menu").onePageNav({currentClass:"current-menu-item"}));var n=a(".slider-for");n.length&&a(".slider-for").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".slider-nav",autoplay:!0});var r=a(".slider-nav");r.length&&a(".slider-nav").slick({slidesToShow:3,slidesToScroll:1,asNavFor:".slider-for",dots:!1,centerMode:!0,focusOnSelect:!0}),a(".team-style4").length&&a(".team-style4").slick({autoplay:!0,autoplaySpeed:2e3,speed:2e3,slidesToShow:4,slidesToScroll:1,arrows:!0,dots:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]}),a(".slider-for2").length&&a(".slider-for2").slick({autoplay:!0,infinite:!0,centerMode:!1,slidesToShow:2,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:1}},{breakpoint:575,settings:{slidesToShow:1}}]});var l=a(".navbar-collapse");l.on("click","a:not([data-toggle])",null,function(){l.collapse("hide")}),a(".player").length&&a(".player").YTPlayer(),new WOW().init();var u=a(".grid");if(u.length&&a(".grid").imagesLoaded(function(){a(".gridFilter").on("click","button",function(){var it=a(this).attr("data-filter");de.isotope({filter:it})});var de=a(".grid").isotope({itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-item"}})}),a(".gridFilter button").length){var p=a(".gridFilter button");p.length&&a(".gridFilter button").on("click",function(de){a(this).siblings(".active").removeClass("active"),a(this).addClass("active"),de.preventDefault()})}var g=a(".image-popup");g.length&&a(".image-popup").magnificPopup({type:"image",callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure animated zoomInDown")}},gallery:{enabled:!0}});var S=a(".popup-quote");S.length&&a(".popup-quote").magnificPopup({type:"inline",preloader:!1,focus:"#qname",removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect"),e.width()<800?this.st.focus=!1:this.st.focus="#qname"}}}),a(window).on("load",function(){a("#loader").delay(1e3).fadeOut(500)});var I=a(".popup-videos");I.length&&a(".popup-videos").magnificPopup({disableOn:10,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1});var F=a(".CountDownTimer");F.length&&a(".CountDownTimer").TimeCircles({fg_width:.03,bg_width:.8,circle_bg_color:"#eeeeee",circle_fg_color:"#eeeeee",time:{Days:{color:"#032390"},Hours:{color:"#032390"},Minutes:{color:"#032390"},Seconds:{color:"#032390"}}});var O=a(".progress-pie-part");O.length&&a(".chart").easyPieChart({size:172,barColor:"#032390",scaleLength:0,lineWidth:8,trackColor:"#eeeeee",lineCap:"circle",animate:2e3}),a(".rs-carousel").each(function(){var de=a(this),it=de.data("loop"),ze=de.data("items"),fe=de.data("margin");de.data("stage-padding");var We=de.data("autoplay"),Ne=de.data("autoplay-timeout"),Le=de.data("smart-speed"),Je=de.data("dots"),Pe=de.data("nav"),ge=de.data("nav-speed"),ce=de.data("mobile-device"),Me=de.data("mobile-device-nav"),ve=de.data("mobile-device-dots"),_e=de.data("ipad-device"),Se=de.data("ipad-device-nav"),Z=de.data("ipad-device-dots"),ae=de.data("ipad-device2"),W=de.data("ipad-device-nav2"),pe=de.data("ipad-device-dots2"),Ie=de.data("md-device"),je=de.data("center-mode"),mt=de.data("hoverpause"),yt=de.data("md-device-nav"),pt=de.data("md-device-dots");de.owlCarousel({loop:!!it,items:ze||4,lazyLoad:!0,center:!!je,autoplayHoverPause:!!mt,margin:fe||0,autoplay:!!We,autoplayTimeout:Ne||1e3,smartSpeed:Le||250,dots:!!Je,nav:!!Pe,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],navSpeed:!!ge,responsiveClass:!0,responsive:{0:{items:ce||1,nav:!!Me,dots:!!ve,center:!1},768:{items:ae||2,nav:!!W,dots:!!pe,center:!1},992:{items:_e||3,nav:!!Se,dots:!!Z,center:!1},1200:{items:Ie||4,nav:!!yt,dots:!!pt}}})});var X=a(".skillbar");X.length&&a(".skillbar").skillBars({from:0,speed:4e3,interval:100,decimals:0});var V=a(".rs-count");V.length&&a(".rs-count").counterUp({delay:20,time:1500});var be=a("#scrollUp");e.on("scroll",function(){e.scrollTop()>150?be.fadeIn():be.fadeOut()}),be.on("click",function(){a("html,body").animate({scrollTop:0},500)});var Oe=a("#nav-expander");Oe.length&&a("#nav-expander, #nav-close, .offwrap").on("click",function(de){de.preventDefault(),a("body").toggleClass("nav-expanded")}),a(".course-view-part .view-icons .view-grid").on("click",function(de){de.preventDefault(),a(".rs-popular-courses").removeClass("list-view")}),a(".course-view-part .view-icons .view-list").on("click",function(de){de.preventDefault(),a(".rs-popular-courses").addClass("list-view")});var he=a(".single-product-image");he.length&&a(".single-product-image").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".single-product-nav"});var $e=a(".single-product-nav");$e.length&&a(".single-product-nav").slick({slidesToShow:3,asNavFor:".single-product-image",dots:!1,focusOnSelect:!0,centerMode:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:591,settings:{slidesToShow:2}}]}),a(".cat-menu-inner").hide(),a(".cat-btn").on("click",function(){a(".cat-menu-inner").slideToggle()});var b=a(".js-tilt");b.length&&a(".js-tilt").tilt()})(jQuery);export{Client as C,FeaturePolicy as F,Html as H,ListView as L,TabEditor as T,Utils$1 as U,Toast as a};
